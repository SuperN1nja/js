(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1245:function(e,t,n){"use strict";t.__esModule=!0;var a={adjustX:1,adjustY:1},r=[0,0],i=t.placements={left:{points:["cr","cl"],overflow:a,offset:[-4,0],targetOffset:r},right:{points:["cl","cr"],overflow:a,offset:[4,0],targetOffset:r},top:{points:["bc","tc"],overflow:a,offset:[0,-4],targetOffset:r},bottom:{points:["tc","bc"],overflow:a,offset:[0,4],targetOffset:r},topLeft:{points:["bl","tl"],overflow:a,offset:[0,-4],targetOffset:r},leftTop:{points:["tr","tl"],overflow:a,offset:[-4,0],targetOffset:r},topRight:{points:["br","tr"],overflow:a,offset:[0,-4],targetOffset:r},rightTop:{points:["tl","tr"],overflow:a,offset:[4,0],targetOffset:r},bottomRight:{points:["tr","br"],overflow:a,offset:[0,4],targetOffset:r},rightBottom:{points:["bl","br"],overflow:a,offset:[4,0],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:a,offset:[0,4],targetOffset:r},leftBottom:{points:["br","bl"],overflow:a,offset:[-4,0],targetOffset:r}};t.default=i},1247:function(e,t,n){e.exports=n(1691)},1267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(102)),r=m(n(116)),i=m(n(349)),o=m(n(192)),s=m(n(194)),l=m(n(344)),c=m(n(345)),u=m(n(0)),d=m(n(8)),p=m(n(9)),h=m(n(1219));function m(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,n,a,r;(0,o.default)(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=a=(0,l.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={clickFocused:!1},a.setHandleRef=function(e){a.handle=e},a.handleMouseUp=function(){document.activeElement===a.handle&&a.setClickFocus(!0)},a.handleMouseDown=function(){a.focus()},a.handleBlur=function(){a.setClickFocus(!1)},a.handleKeyDown=function(){a.setClickFocus(!1)},r=n,(0,l.default)(a,r)}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.onMouseUpListener=(0,h.default)(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n=this.props,o=n.prefixCls,s=n.vertical,l=n.reverse,c=n.offset,d=n.style,h=n.disabled,m=n.min,f=n.max,y=n.value,g=n.tabIndex,v=(0,i.default)(n,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex"]),b=(0,p.default)(this.props.className,(0,r.default)({},o+"-handle-click-focused",this.state.clickFocused)),E=s?(e={},(0,r.default)(e,l?"top":"bottom",c+"%"),(0,r.default)(e,l?"bottom":"top","auto"),(0,r.default)(e,"transform","translateY(+50%)"),e):(t={},(0,r.default)(t,l?"right":"left",c+"%"),(0,r.default)(t,l?"left":"right","auto"),(0,r.default)(t,"transform","translateX("+(l?"+":"-")+"50%)"),t),O=(0,a.default)({},d,E),k=g||0;return(h||null===g)&&(k=null),u.default.createElement("div",(0,a.default)({ref:this.setHandleRef,tabIndex:k},v,{className:b,style:O,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":m,"aria-valuemax":f,"aria-valuenow":y,"aria-disabled":!!h}))}}]),t}(u.default.Component);t.default=f,f.propTypes={prefixCls:d.default.string,className:d.default.string,vertical:d.default.bool,offset:d.default.number,style:d.default.object,disabled:d.default.bool,min:d.default.number,max:d.default.number,value:d.default.number,tabIndex:d.default.number,reverse:d.default.bool},e.exports=t.default},1277:function(e,t,n){"use strict";n.r(t);var a=n(1716),r=n(0),i=n(41),o=n(9),s=n.n(o),l=n(1678),c=n(1590);var u={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},d=Object.keys(u).filter((function(e){if("undefined"==typeof document)return!1;var t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})}))[0],p=u[d];function h(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on".concat(t),n)}function m(e,t,n,a){e.removeEventListener?e.removeEventListener(t,n,a):e.attachEvent&&e.detachEvent("on".concat(t),n)}var f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},y=!("undefined"!=typeof window&&window.document&&window.document.createElement);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _={},P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?k(e):t}(this,O(t).call(this,e))).domFocus=function(){n.dom&&n.dom.focus()},n.removeStartHandler=function(e){e.touches.length>1||(n.startPos={x:e.touches[0].clientX,y:e.touches[0].clientY})},n.removeMoveHandler=function(e){if(!(e.changedTouches.length>1)){var t=e.currentTarget,a=e.changedTouches[0].clientX-n.startPos.x,r=e.changedTouches[0].clientY-n.startPos.y;(t===n.maskDom||t===n.handlerDom||t===n.contentDom&&function e(t,n,a,r){if(!n||n===document||n instanceof Document)return!1;if(n===t.parentNode)return!0;var i=Math.max(Math.abs(a),Math.abs(r))===Math.abs(r),o=Math.max(Math.abs(a),Math.abs(r))===Math.abs(a),s=n.scrollHeight-n.clientHeight,l=n.scrollWidth-n.clientWidth,c=document.defaultView.getComputedStyle(n),u="auto"===c.overflowY||"scroll"===c.overflowY,d="auto"===c.overflowX||"scroll"===c.overflowX,p=s&&u,h=l&&d;return!!(i&&(!p||p&&(n.scrollTop>=s&&r<0||n.scrollTop<=0&&r>0))||o&&(!h||h&&(n.scrollLeft>=l&&l<0||n.scrollLeft<=0&&l>0)))&&e(t,n.parentNode,a,r)}(t,e.target,a,r))&&e.preventDefault()}},n.transitionEnd=function(e){var t=e.target;m(t,p,n.transitionEnd),t.style.transition=""},n.onKeyDown=function(e){if(e.keyCode===c.a.ESC){var t=n.props.onClose;e.stopPropagation(),t&&t(e)}},n.onWrapperTransitionEnd=function(e){var t=n.props,a=t.open,r=t.afterVisibleChange;e.target===n.contentWrapper&&e.propertyName.match(/transform$/)&&(n.dom.style.transition="",!a&&n.getCurrentDrawerSome()&&(document.body.style.overflowX="",n.maskDom&&(n.maskDom.style.left="",n.maskDom.style.width="")),r&&r(!!a))},n.openLevelTransition=function(){var e=n.props,t=e.open,a=e.width,r=e.height,i=n.getHorizontalBoolAndPlacementName(),o=i.isHorizontal,s=i.placementName,l=n.contentDom?n.contentDom.getBoundingClientRect()[o?"width":"height"]:0,c=(o?a:r)||l;n.setLevelAndScrolling(t,s,c)},n.setLevelTransform=function(e,t,a,r){var i=n.props,o=i.placement,s=i.levelMove,l=i.duration,c=i.ease,u=i.showMask;n.levelDom.forEach((function(i){i.style.transition="transform ".concat(l," ").concat(c),h(i,p,n.transitionEnd);var d,m,f,y=e?a:0;if(s){var g=(m={target:i,open:e},f="function"==typeof(d=s)?d(m):d,Array.isArray(f)?2===f.length?f:[f[0],f[1]]:[f]);y=e?g[0]:g[1]||0}var v="number"==typeof y?"".concat(y,"px"):y,b="left"===o||"top"===o?v:"-".concat(v);b=u&&"right"===o&&r?"calc(".concat(b," + ").concat(r,"px)"):b,i.style.transform=y?"".concat(t,"(").concat(b,")"):""}))},n.setLevelAndScrolling=function(e,t,a){var r=n.props.onChange;if(!y){var i=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Object(l.a)(!0):0;n.setLevelTransform(e,t,a,i),n.toggleScrollingToDrawerAndBody(i)}r&&r(e)},n.toggleScrollingToDrawerAndBody=function(e){var t=n.props,a=t.getOpenCount,r=t.getContainer,i=t.showMask,o=t.open,s=r&&r(),l=a&&a();if(s&&s.parentNode===document.body&&i){var c=["touchstart"],u=[document.body,n.maskDom,n.handlerDom,n.contentDom];o&&"hidden"!==document.body.style.overflow?(e&&n.addScrollingEffect(e),1===l&&(document.body.style.overflow="hidden"),document.body.style.touchAction="none",u.forEach((function(e,t){e&&h(e,c[t]||"touchmove",t?n.removeMoveHandler:n.removeStartHandler,n.passive)}))):n.getCurrentDrawerSome()&&(l||(document.body.style.overflow=""),document.body.style.touchAction="",e&&n.remScrollingEffect(e),u.forEach((function(e,t){e&&m(e,c[t]||"touchmove",t?n.removeMoveHandler:n.removeStartHandler,n.passive)})))}},n.addScrollingEffect=function(e){var t=n.props,a=t.placement,r=t.duration,i=t.ease,o=t.getOpenCount,s=t.switchScrollingEffect;1===(o&&o())&&s();var l="width ".concat(r," ").concat(i),c="transform ".concat(r," ").concat(i);switch(n.dom.style.transition="none",a){case"right":n.dom.style.transform="translateX(-".concat(e,"px)");break;case"top":case"bottom":n.dom.style.width="calc(100% - ".concat(e,"px)"),n.dom.style.transform="translateZ(0)"}clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.dom&&(n.dom.style.transition="".concat(c,",").concat(l),n.dom.style.width="",n.dom.style.transform="")}))},n.remScrollingEffect=function(e){var t,a=n.props,r=a.placement,i=a.duration,o=a.ease,s=a.getOpenCount,l=a.switchScrollingEffect;s&&s()||l(!0),d&&(document.body.style.overflowX="hidden"),n.dom.style.transition="none";var c="width ".concat(i," ").concat(o),u="transform ".concat(i," ").concat(o);switch(r){case"left":n.dom.style.width="100%",c="width 0s ".concat(o," ").concat(i);break;case"right":n.dom.style.transform="translateX(".concat(e,"px)"),n.dom.style.width="100%",c="width 0s ".concat(o," ").concat(i),n.maskDom&&(n.maskDom.style.left="-".concat(e,"px"),n.maskDom.style.width="calc(100% + ".concat(e,"px)"));break;case"top":case"bottom":n.dom.style.width="calc(100% + ".concat(e,"px)"),n.dom.style.height="100%",n.dom.style.transform="translateZ(0)",t="height 0s ".concat(o," ").concat(i)}clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.dom&&(n.dom.style.transition="".concat(u,",").concat(t?"".concat(t,","):"").concat(c),n.dom.style.transform="",n.dom.style.width="",n.dom.style.height="")}))},n.getCurrentDrawerSome=function(){return!Object.keys(_).some((function(e){return _[e]}))},n.getLevelDom=function(e){var t=e.level,a=e.getContainer;if(!y){var r,i=a&&a(),o=i?i.parentNode:null;if(n.levelDom=[],"all"===t)(o?Array.prototype.slice.call(o.children):[]).forEach((function(e){"SCRIPT"!==e.nodeName&&"STYLE"!==e.nodeName&&"LINK"!==e.nodeName&&e!==i&&n.levelDom.push(e)}));else t&&(r=t,Array.isArray(r)?r:[r]).forEach((function(e){document.querySelectorAll(e).forEach((function(e){n.levelDom.push(e)}))}))}},n.getHorizontalBoolAndPlacementName=function(){var e=n.props.placement,t="left"===e||"right"===e;return{isHorizontal:t,placementName:"translate".concat(t?"X":"Y")}},n.state={_self:k(n)},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,a=t._self,r={prevProps:e};if(void 0!==n){var i=e.placement,o=e.level;i!==n.placement&&(a.contentDom=null),o!==n.level&&a.getLevelDom(e)}return r}}],(a=[{key:"componentDidMount",value:function(){var e=this;if(!y){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return t=!0,null}}))}catch(e){}this.passive=!!t&&{passive:!1}}var n=this.props.open;this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()).toString())).toString(16)),this.getLevelDom(this.props),n&&(_[this.drawerId]=n,this.openLevelTransition(),this.forceUpdate((function(){e.domFocus()})))}},{key:"componentDidUpdate",value:function(e){var t=this.props.open;t!==e.open&&(t&&this.domFocus(),_[this.drawerId]=!!t,this.openLevelTransition())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.getOpenCount,n=e.open,a=e.switchScrollingEffect,r="function"==typeof t&&t();delete _[this.drawerId],n&&(this.setLevelTransform(!1),document.body.style.touchAction=""),r||(document.body.style.overflow="",a(!0))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.className,i=n.children,o=n.style,l=n.width,c=n.height,u=(n.defaultOpen,n.open),d=n.prefixCls,p=n.placement,h=(n.level,n.levelMove,n.ease,n.duration,n.getContainer,n.handler),m=(n.onChange,n.afterVisibleChange,n.showMask),y=n.maskClosable,g=n.maskStyle,E=n.onClose,O=n.onHandleClick,k=n.keyboard,w=(n.getOpenCount,n.switchScrollingEffect,b(n,["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","switchScrollingEffect"])),_=!!this.dom&&u,P=s()(d,(v(e={},"".concat(d,"-").concat(p),!0),v(e,"".concat(d,"-open"),_),v(e,a||"",!!a),v(e,"no-mask",!m),e)),S=this.getHorizontalBoolAndPlacementName().placementName,x="left"===p||"top"===p?"-100%":"100%",C=_?"":"".concat(S,"(").concat(x,")"),D=h&&r.cloneElement(h,{onClick:function(e){h.props.onClick&&h.props.onClick(),O&&O(e)},ref:function(e){t.handlerDom=e}});return r.createElement("div",Object.assign({},w,{tabIndex:-1,className:P,style:o,ref:function(e){t.dom=e},onKeyDown:_&&k?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),m&&r.createElement("div",{className:"".concat(d,"-mask"),onClick:y?E:void 0,style:g,ref:function(e){t.maskDom=e}}),r.createElement("div",{className:"".concat(d,"-content-wrapper"),style:{transform:C,msTransform:C,width:f(l)?"".concat(l,"px"):l,height:f(c)?"".concat(c,"px"):c},ref:function(e){t.contentWrapper=e}},r.createElement("div",{className:"".concat(d,"-content"),ref:function(e){t.contentDom=e},onTouchStart:_&&m?this.removeStartHandler:void 0,onTouchMove:_&&m?this.removeMoveHandler:void 0},i),D))}}])&&E(n.prototype,a),i&&E(n,i),t}(r.Component);P.defaultProps={switchScrollingEffect:function(){}};var S=Object(i.polyfill)(P);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,T(t).call(this,e))).onHandleClick=function(e){var t=n.props,a=t.onHandleClick,r=t.open;if(a&&a(e),void 0===r){var i=n.state.open;n.setState({open:!i})}},n.onClose=function(e){var t=n.props,a=t.onClose,r=t.open;a&&a(e),void 0===r&&n.setState({open:!1})};var a=void 0!==e.open?e.open:!!e.defaultOpen;return n.state={open:a},"onMaskClick"in e&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,a={prevProps:e};return void 0!==n&&e.open!==n.open&&(a.open=e.open),a}}],(i=[{key:"render",value:function(){var e=this,t=this.props,n=(t.defaultOpen,t.getContainer),i=t.wrapperClassName,o=t.forceRender,s=t.handler,l=C(t,["defaultOpen","getContainer","wrapperClassName","forceRender","handler"]),c=this.state.open;if(!n)return r.createElement("div",{className:i,ref:function(t){e.dom=t}},r.createElement(S,Object.assign({},l,{open:c,handler:s,getContainer:function(){return e.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var u=!!s||o;return r.createElement(a.a,{visible:c,forceRender:u,getContainer:n,wrapperClassName:i},(function(t){var n=t.visible,a=t.afterClose,i=C(t,["visible","afterClose"]);return(r.createElement(S,Object.assign({},l,i,{open:void 0!==n?n:c,afterVisibleChange:void 0!==a?a:l.afterVisibleChange,handler:s,onClose:e.onClose,onHandleClick:e.onHandleClick})))}))}}])&&D(n.prototype,i),o&&D(n,o),t}(r.Component);N.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:r.createElement("div",{className:"drawer-handle"},r.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1};var j=Object(i.polyfill)(N);t.default=j},1278:function(e,t,n){"use strict";n.r(t);var a=n(102),r=n.n(a),i=n(349),o=n.n(i),s=n(192),l=n.n(s),c=n(344),u=n.n(c),d=n(345),p=n.n(d),h=n(0),m=n.n(h),f=n(8),y=n.n(f),g=n(1612),v={adjustX:1,adjustY:1},b=[0,0],E={left:{points:["cr","cl"],overflow:v,offset:[-4,0],targetOffset:b},right:{points:["cl","cr"],overflow:v,offset:[4,0],targetOffset:b},top:{points:["bc","tc"],overflow:v,offset:[0,-4],targetOffset:b},bottom:{points:["tc","bc"],overflow:v,offset:[0,4],targetOffset:b},topLeft:{points:["bl","tl"],overflow:v,offset:[0,-4],targetOffset:b},leftTop:{points:["tr","tl"],overflow:v,offset:[-4,0],targetOffset:b},topRight:{points:["br","tr"],overflow:v,offset:[0,-4],targetOffset:b},rightTop:{points:["tl","tr"],overflow:v,offset:[4,0],targetOffset:b},bottomRight:{points:["tr","br"],overflow:v,offset:[0,4],targetOffset:b},rightBottom:{points:["bl","br"],overflow:v,offset:[4,0],targetOffset:b},bottomLeft:{points:["tl","bl"],overflow:v,offset:[0,4],targetOffset:b},leftBottom:{points:["br","bl"],overflow:v,offset:[-4,0],targetOffset:b}},O=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},t.prototype.render=function(){var e=this.props,t=e.overlay,n=e.prefixCls,a=e.id;return m.a.createElement("div",{className:n+"-inner",id:a,role:"tooltip"},"function"==typeof t?t():t)},t}(m.a.Component);O.propTypes={prefixCls:y.a.string,overlay:y.a.oneOfType([y.a.node,y.a.func]).isRequired,id:y.a.string,trigger:y.a.any};var k=O,w=function(e){function t(){var n,a,r;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=u()(this,e.call.apply(e,[this].concat(o))),a.getPopupElement=function(){var e=a.props,t=e.arrowContent,n=e.overlay,r=e.prefixCls,i=e.id;return[m.a.createElement("div",{className:r+"-arrow",key:"arrow"},t),m.a.createElement(k,{key:"content",trigger:a.trigger,prefixCls:r,id:i,overlay:n})]},a.saveTrigger=function(e){a.trigger=e},r=n,u()(a,r)}return p()(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,a=e.mouseEnterDelay,i=e.mouseLeaveDelay,s=e.overlayStyle,l=e.prefixCls,c=e.children,u=e.onVisibleChange,d=e.afterVisibleChange,p=e.transitionName,h=e.animation,f=e.placement,y=e.align,v=e.destroyTooltipOnHide,b=e.defaultVisible,O=e.getTooltipContainer,k=o()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),w=r()({},k);return"visible"in this.props&&(w.popupVisible=this.props.visible),m.a.createElement(g.default,r()({popupClassName:t,ref:this.saveTrigger,prefixCls:l,popup:this.getPopupElement,action:n,builtinPlacements:E,popupPlacement:f,popupAlign:y,getPopupContainer:O,onPopupVisibleChange:u,afterPopupVisibleChange:d,popupTransitionName:p,popupAnimation:h,defaultPopupVisible:b,destroyPopupOnHide:v,mouseLeaveDelay:i,popupStyle:s,mouseEnterDelay:a},w),c)},t}(h.Component);w.propTypes={trigger:y.a.any,children:y.a.any,defaultVisible:y.a.bool,visible:y.a.bool,placement:y.a.string,transitionName:y.a.oneOfType([y.a.string,y.a.object]),animation:y.a.any,onVisibleChange:y.a.func,afterVisibleChange:y.a.func,overlay:y.a.oneOfType([y.a.node,y.a.func]).isRequired,overlayStyle:y.a.object,overlayClassName:y.a.string,prefixCls:y.a.string,mouseEnterDelay:y.a.number,mouseLeaveDelay:y.a.number,getTooltipContainer:y.a.func,destroyTooltipOnHide:y.a.bool,align:y.a.object,arrowContent:y.a.any,id:y.a.string},w.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var _=w;t.default=_},1470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(102)),r=m(n(192)),i=m(n(194)),o=m(n(344)),s=m(n(345)),l=m(n(0)),c=m(n(8)),u=m(n(1599)),d=m(n(1779)),p=m(n(1780)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1707));function m(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,r.default)(this,t);var n=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(e){var t=n.state.dragging;n.removeDocumentEvents(),(t||e)&&n.props.onAfterChange(n.getValue()),n.setState({dragging:!1})};var a=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:a;return n.state={value:n.trimAlignValue(i),dragging:!1},(0,u.default)(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),(0,u.default)(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e,t){if("value"in this.props||"min"in this.props||"max"in this.props){var n=this.props,a=n.value,r=n.onChange,i=void 0!==a?a:t.value,o=this.trimAlignValue(i,this.props);o!==t.value&&(this.setState({value:o}),h.isValueOutOfRange(i,this.props)&&r(o))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?(0,a.default)({},e,{value:this.props.max}):e;n&&this.setState(r);var i=r.value;t.onChange(i)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var a=this.calcValueByPos(e);this.startValue=a,this.startPosition=e,a!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:a}))}},{key:"onMove",value:function(e,t){h.pauseEvent(e);var n=this.state.value,a=this.calcValueByPos(t);a!==n&&this.onChange({value:a})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,a=t.vertical,r=h.getKeyboardValueMutator(e,a,n);if(r){h.pauseEvent(e);var i=this.state.value,o=r(i,this.props),s=this.trimAlignValue(o);if(s===i)return;this.onChange({value:s}),this.props.onAfterChange(s),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=(0,a.default)({},this.props,t),r=h.ensureValueInRange(e,n);return h.ensureValuePrecision(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.included,o=t.disabled,s=t.minimumTrackStyle,c=t.trackStyle,u=t.handleStyle,p=t.tabIndex,h=t.min,m=t.max,f=t.reverse,y=t.handle,g=this.state,v=g.value,b=g.dragging,E=this.calcOffset(v),O=y({className:n+"-handle",prefixCls:n,vertical:r,offset:E,value:v,dragging:b,disabled:o,min:h,max:m,reverse:f,index:0,tabIndex:p,style:u[0]||u,ref:function(t){return e.saveHandle(0,t)}}),k=c[0]||c;return{tracks:l.default.createElement(d.default,{className:n+"-track",vertical:r,included:i,offset:0,reverse:f,length:E,style:(0,a.default)({},s,k)}),handles:O}}}]),t}(l.default.Component);f.propTypes={defaultValue:c.default.number,value:c.default.number,disabled:c.default.bool,autoFocus:c.default.bool,tabIndex:c.default.number,reverse:c.default.bool,min:c.default.number,max:c.default.number},t.default=(0,p.default)(f),e.exports=t.default},1471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(n(116)),r=v(n(102)),i=v(n(1668)),o=v(n(192)),s=v(n(194)),l=v(n(344)),c=v(n(345)),u=v(n(0)),d=v(n(8)),p=v(n(9)),h=n(41),m=v(n(198)),f=v(n(1779)),y=v(n(1780)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1707));function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){var t=e.value,n=e.handle,a=e.bounds,r=e.props,i=r.allowCross,o=r.pushable,s=Number(o),l=g.ensureValueInRange(t,r),c=l;return i||null==n||void 0===a||(n>0&&l<=a[n-1]+s&&(c=a[n-1]+s),n<a.length-1&&l>=a[n+1]-s&&(c=a[n+1]-s)),g.ensureValuePrecision(c,r)},E=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(e){var t=n.state.handle;n.removeDocumentEvents(),(null!==t||e)&&n.props.onAfterChange(n.getValue()),n.setState({handle:null})};var a=e.count,r=e.min,s=e.max,c=Array.apply(void 0,(0,i.default)(Array(a+1))).map((function(){return r})),u="defaultValue"in e?e.defaultValue:c,d=(void 0!==e.value?e.value:u).map((function(t,n){return b({value:t,handle:n,props:e})})),p=d[0]===s?0:d.length-1;return n.state={handle:null,recent:p,bounds:d},n}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(("value"in this.props||"min"in this.props||"max"in this.props)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,m.default)(this.props.value,e.value))){var a=this.props,r=a.onChange,i=a.value||t.bounds;if(i.some((function(e){return g.isValueOutOfRange(e,n.props)})))r(i.map((function(e){return g.ensureValueInRange(e,n.props)})))}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}var a=(0,r.default)({},this.state,e).bounds;t.onChange(a)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,a=this.getValue();t.onBeforeChange(a);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var o=this.getClosestBound(r);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r!==a[this.prevMovedHandleIndex]){var s=[].concat((0,i.default)(n.bounds));s[this.prevMovedHandleIndex]=r,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t){g.pauseEvent(e);var n=this.state,a=this.calcValueByPos(t);a!==n.bounds[n.handle]&&this.moveTo(a)}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,a=t.vertical,r=g.getKeyboardValueMutator(e,a,n);if(r){g.pauseEvent(e);var i=this.state,o=this.props,s=i.bounds,l=i.handle,c=s[null===l?i.recent:l],u=r(c,o),d=b({value:u,handle:l,bounds:i.bounds,props:o});if(d===c)return;this.moveTo(d,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,a=1;a<t.length-1;++a)e>=t[a]&&(n=a);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,a=n.bounds,r=n.recent,i=t,o=a[t+1]===a[t];return o&&a[r]===a[t]&&(i=r),o&&e!==a[t+1]&&(i=e<a[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,a=e.min,i=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var s=(0,r.default)({},t);if(null!==n)for(var l=a;l<=i;l+=n)s[l]=l;var c=Object.keys(s).map(parseFloat);c.sort((function(e,t){return e-t})),this._getPointsCache={marks:t,step:n,points:c}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,a=this.state,r=this.props,o=[].concat((0,i.default)(a.bounds)),s=null===a.handle?a.recent:a.handle;o[s]=e;var l=s;!1!==r.pushable?this.pushSurroundingHandles(o,l):r.allowCross&&(o.sort((function(e,t){return e-t})),l=o.indexOf(e)),this.onChange({recent:l,handle:l,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[l].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],a=this.props.pushable;a=Number(a);var r=0;if(e[t+1]-n<a&&(r=1),n-e[t-1]<a&&(r=-1),0!==r){var i=t+r,o=r*(e[i]-n);this.pushHandle(e,i,r,a-o)||(e[t]=e[i]-r*a)}}},{key:"pushHandle",value:function(e,t,n,a){for(var r=e[t],i=e[t];n*(i-r)<a;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=r,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var a=this.getPoints(),r=a.indexOf(e[t])+n;if(r>=a.length||r<0)return!1;var i=t+n,o=a[r],s=this.props.pushable,l=n*(e[i]-o);return!!this.pushHandle(e,i,n,s-l)&&(e[t]=o,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,a=t.bounds;return b({value:e,handle:n,bounds:a,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,i=this.props,o=i.prefixCls,s=i.vertical,l=i.included,c=i.disabled,d=i.min,h=i.max,m=i.reverse,y=i.handle,g=i.trackStyle,v=i.handleStyle,b=i.tabIndex,E=r.map((function(t){return e.calcOffset(t)})),O=o+"-handle",k=r.map((function(t,r){var i,l=b[r]||0;return(c||null===b[r])&&(l=null),y({className:(0,p.default)((i={},(0,a.default)(i,O,!0),(0,a.default)(i,O+"-"+(r+1),!0),i)),prefixCls:o,vertical:s,offset:E[r],value:t,dragging:n===r,index:r,tabIndex:l,min:d,max:h,reverse:m,disabled:c,style:v[r],ref:function(t){return e.saveHandle(r,t)}})}));return{tracks:r.slice(0,-1).map((function(e,t){var n,r=t+1,i=(0,p.default)((n={},(0,a.default)(n,o+"-track",!0),(0,a.default)(n,o+"-track-"+r,!0),n));return u.default.createElement(f.default,{className:i,vertical:s,reverse:m,included:l,offset:E[r-1],length:E[r]-E[r-1],style:g[t],key:r})})),handles:k}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if("value"in e||"min"in e||"max"in e){var n=(e.value||t.bounds).map((function(n,a){return b({value:n,handle:a,bounds:t.bounds,props:e})}));return n.length===t.bounds.length&&n.every((function(e,n){return e===t.bounds[n]}))?null:(0,r.default)({},t,{bounds:n})}return null}}]),t}(u.default.Component);E.displayName="Range",E.propTypes={autoFocus:d.default.bool,defaultValue:d.default.arrayOf(d.default.number),value:d.default.arrayOf(d.default.number),count:d.default.number,pushable:d.default.oneOfType([d.default.bool,d.default.number]),allowCross:d.default.bool,disabled:d.default.bool,reverse:d.default.bool,tabIndex:d.default.arrayOf(d.default.number),min:d.default.number,max:d.default.number},E.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},(0,h.polyfill)(E),t.default=(0,y.default)(E),e.exports=t.default},1519:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(a=[{key:"componentDidUpdate",value:function(){var e=this,t=Date.now(),n=!1;Object.keys(this.paths).forEach((function(a){var r=e.paths[a];if(r){n=!0;var i=r.style;i.transitionDuration=".3s, .3s, .3s, .06s",e.prevTimeStamp&&t-e.prevTimeStamp<100&&(i.transitionDuration="0s, 0s")}})),n&&(this.prevTimeStamp=Date.now())}},{key:"render",value:function(){return l(c(t.prototype),"render",this).call(this)}}])&&o(n.prototype,a),r&&o(n,r),t}(e)},p=n(8),h=n.n(p),m={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},f=h.a.oneOfType([h.a.number,h.a.string]),y={className:h.a.string,percent:h.a.oneOfType([f,h.a.arrayOf(f)]),prefixCls:h.a.string,strokeColor:h.a.oneOfType([h.a.string,h.a.arrayOf(h.a.oneOfType([h.a.string,h.a.object])),h.a.object]),strokeLinecap:h.a.oneOf(["butt","round","square"]),strokeWidth:f,style:h.a.object,trailColor:h.a.string,trailWidth:f};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?w(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(){var e,n;b(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return P(w(n=O(this,(e=k(t)).call.apply(e,[this].concat(r)))),"paths",{}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.percent,i=t.prefixCls,o=t.strokeColor,s=t.strokeLinecap,l=t.strokeWidth,c=t.style,u=t.trailColor,d=t.trailWidth,p=t.transition,h=v(t,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"]);delete h.gapPosition;var m=Array.isArray(a)?a:[a],f=Array.isArray(o)?o:[o],y=l/2,b=100-l/2,E="M ".concat("round"===s?y:0,",").concat(y,"\n           L ").concat("round"===s?b:100,",").concat(y),O="0 0 100 ".concat(l),k=0;return r.a.createElement("svg",g({className:"".concat(i,"-line ").concat(n),viewBox:O,preserveAspectRatio:"none",style:c},h),r.a.createElement("path",{className:"".concat(i,"-line-trail"),d:E,strokeLinecap:s,stroke:u,strokeWidth:d||l,fillOpacity:"0"}),m.map((function(t,n){var a={strokeDasharray:"".concat(t,"px, 100px"),strokeDashoffset:"-".concat(k,"px"),transition:p||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},o=f[n]||f[f.length-1];return k+=t,r.a.createElement("path",{key:n,className:"".concat(i,"-line-path"),d:E,strokeLinecap:s,stroke:o,strokeWidth:l,fillOpacity:"0",ref:function(t){e.paths[n]=t},style:a})})))}}])&&E(n.prototype,a),i&&E(n,i),t}(a.Component);S.propTypes=y,S.defaultProps=m;var x=d(S);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=0;function L(e){return+e.replace("%","")}function B(e){return Array.isArray(e)?e:[e]}function V(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=50-a/2,s=0,l=-o,c=0,u=-2*o;switch(i){case"left":s=-o,l=0,c=2*o,u=0;break;case"right":s=o,l=0,c=-2*o,u=0;break;case"bottom":l=o,u=2*o}var d="M 50,50 m ".concat(s,",").concat(l,"\n   a ").concat(o,",").concat(o," 0 1 1 ").concat(c,",").concat(-u,"\n   a ").concat(o,",").concat(o," 0 1 1 ").concat(-c,",").concat(u),p=2*Math.PI*o,h={stroke:n,strokeDasharray:"".concat(t/100*(p-r),"px ").concat(p,"px"),strokeDashoffset:"-".concat(r/2+e/100*(p-r),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s"};return{pathString:d,pathStyle:h}}var q=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}(this,N(t).call(this)),F(j(e),"paths",{}),F(j(e),"gradientId",0),e.gradientId=R,R+=1,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(a=[{key:"getStokeList",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.percent,i=t.strokeColor,o=t.strokeWidth,s=t.strokeLinecap,l=t.gapDegree,c=t.gapPosition,u=B(a),d=B(i),p=0;return u.map((function(t,a){var i=d[a]||d[d.length-1],u="[object Object]"===Object.prototype.toString.call(i)?"url(#".concat(n,"-gradient-").concat(e.gradientId,")"):"",h=V(p,t,i,o,l,c),m=h.pathString,f=h.pathStyle;return p+=t,r.a.createElement("path",{key:a,className:"".concat(n,"-circle-path"),d:m,stroke:u,strokeLinecap:s,strokeWidth:0===t?0:o,fillOpacity:"0",style:f,ref:function(t){e.paths[a]=t}})}))}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.strokeWidth,a=e.trailWidth,i=e.gapDegree,o=e.gapPosition,s=e.trailColor,l=e.strokeLinecap,c=e.style,u=e.className,d=e.strokeColor,p=T(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor"]),h=V(0,100,s,n,i,o),m=h.pathString,f=h.pathStyle;delete p.percent;var y=B(d).find((function(e){return"[object Object]"===Object.prototype.toString.call(e)}));return r.a.createElement("svg",M({className:"".concat(t,"-circle ").concat(u),viewBox:"0 0 100 100",style:c},p),y&&r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"".concat(t,"-gradient-").concat(this.gradientId),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(y).sort((function(e,t){return L(e)-L(t)})).map((function(e,t){return r.a.createElement("stop",{key:t,offset:e,stopColor:y[e]})})))),r.a.createElement("path",{className:"".concat(t,"-circle-trail"),d:m,stroke:s,strokeLinecap:l,strokeWidth:a||n,fillOpacity:"0",style:f}),this.getStokeList().reverse())}}])&&A(n.prototype,a),i&&A(n,i),t}(a.Component);q.propTypes=D({},y,{gapPosition:h.a.oneOf(["top","bottom","left","right"])}),q.defaultProps=D({},m,{gapPosition:"top"});var z=d(q);n.d(t,"Line",(function(){return x})),n.d(t,"Circle",(function(){return z}));t.default={Line:x,Circle:z}},1549:function(e,t,n){"use strict";var a,r=n(1791),i=n(47),o=n(34),s=n(44),l=n(46),c=n(353),u=n(84),d=n(137),p=n(52).f,h=n(359),m=n(655),f=n(31),y=n(203),g=o.Int8Array,v=g&&g.prototype,b=o.Uint8ClampedArray,E=b&&b.prototype,O=g&&h(g),k=v&&h(v),w=Object.prototype,_=w.isPrototypeOf,P=f("toStringTag"),S=y("TYPED_ARRAY_TAG"),x=r&&!!m&&"Opera"!==c(o.opera),C=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M=function(e){return s(e)&&l(D,c(e))};for(a in D)o[a]||(x=!1);if((!x||"function"!=typeof O||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},x))for(a in D)o[a]&&m(o[a],O);if((!x||!k||k===w)&&(k=O.prototype,x))for(a in D)o[a]&&m(o[a].prototype,k);if(x&&h(E)!==k&&m(E,k),i&&!l(k,P))for(a in C=!0,p(k,P,{get:function(){return s(this)?this[S]:void 0}}),D)o[a]&&u(o[a],S,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:C&&S,aTypedArray:function(e){if(M(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(_.call(O,e))return e}else for(var t in D)if(l(D,a)){var n=o[t];if(n&&(e===n||_.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(i){if(n)for(var a in D){var r=o[a];r&&l(r.prototype,e)&&delete r.prototype[e]}k[e]&&!n||d(k,e,n?t:x&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var a,r;if(i){if(m){if(n)for(a in D)(r=o[a])&&l(r,e)&&delete r[e];if(O[e]&&!n)return;try{return d(O,e,n?t:x&&g[e]||t)}catch(e){}}for(a in D)!(r=o[a])||r[e]&&!n||d(r,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||l(D,t)},isTypedArray:M,TypedArray:O,TypedArrayPrototype:k}},1562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areaConversion=t.timeConversion=t.distanceConversion=t.altitudeKeys=t.latitudeKeys=t.longitudeKeys=t.MAXLON=t.MINLON=t.MAXLAT=t.MINLAT=t.earthRadius=t.sexagesimalPattern=void 0;t.sexagesimalPattern=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;t.earthRadius=6378137;t.MINLAT=-90;t.MAXLAT=90;t.MINLON=-180;t.MAXLON=180;t.longitudeKeys=["lng","lon","longitude",0];t.latitudeKeys=["lat","latitude",1];t.altitudeKeys=["alt","altitude","elevation","elev",2];t.distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};t.timeConversion={m:60,h:3600,d:86400};var a={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};t.areaConversion=a,a.sqm=a.m2,a.sqkm=a.km2,a.sqft=a.ft2,a.sqyd=a.yd2,a.sqin=a.in2},1570:function(e,t,n){"use strict";n(13),n(14),n(16),n(18),n(19),n(15),n(1523),n(1593),n(17);var a=n(6),r=n.n(a),i=n(191),o=n.n(i),s=n(93),l=n.n(s),c=n(94),u=n.n(c),d=n(95),p=n.n(d),h=n(96),m=n.n(h),f=n(77),y=n.n(f),g=n(97),v=n.n(g),b=n(0),E=n.n(b),O=n(78),k=n(1620),w=n.n(k),_=n(100),P=n(98),S=n.n(P),x=n(1261),C=n.n(x);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var M=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),S()(y()(e)),e}return v()(t,e),u()(t,[{key:"getMessage",value:function(){var e=this.props.location,t=w.a.parse(e.search);return t.message?t.message:"The page you are looking for doesn't exist."}},{key:"navigate",value:function(){var e=this.props,t=e.token?"/dashboard":"/login";e.history.push(t)}},{key:"render",value:function(){var e=this.props.token;return E.a.createElement("div",{className:"error-page"},E.a.createElement("div",{className:"mb-3"},E.a.createElement("img",{src:C.a,alt:"",height:"240"})),E.a.createElement("h1",null,"Error"),E.a.createElement("p",null,this.getMessage()),E.a.createElement("div",{className:"text-center"},E.a.createElement(o.a,{onClick:this.navigate,type:"primary",className:"w-wide"},e?"Go to Dashboard":"Go to Login")))}}]),t}(b.Component);t.a=Object(_.g)(Object(O.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page)}))(M))},1574:function(e,t,n){"use strict";var a=n(26),r=n(164),i=n(83),o=n(39),s=n(256),l=[],c=l.sort,u=o((function(){l.sort(void 0)})),d=o((function(){l.sort(null)})),p=s("sort");a({target:"Array",proto:!0,forced:u||!d||!p},{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),r(e))}})},1578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=o(n(1658)),i=o(n(1712));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=(0,r.default)(e,a.latitudeKeys);if(null!=n){var o=e[n];return!0===t?o:(0,i.default)(o)}};t.default=s},1579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=o(n(1658)),i=o(n(1712));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=(0,r.default)(e,a.longitudeKeys);if(null!=n){var o=e[n];return!0===t?o:(0,i.default)(o)}};t.default=s},1586:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p}));var a=n(99);function r(){return a.a.get("/millennial/orders")}function i(e){return a.a.post("/millennial/orders/resend",e)}function o(){return a.a.get("/millennial/ranks")}function s(e){return a.a.get("/millennial/leaderboards/".concat(e,"/rankings"))}function l(){return a.a.get("/millennial/merchants")}function c(e,t){return a.a.post("/millennial/merchants/".concat(e),t)}function u(e,t){return a.a.post("/millennial/merchants/".concat(e,"/products"),t)}function d(e){return a.a.get("/millennial/points",e)}function p(e){return a.a.post("/millennial/orders",e)}},1591:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(1643),r=/[^ \r\na-zA-Z0-9!@#$%^&*()_+\-={}|[\]\\:";'<>?,./`~]/,i=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|([a-zA-Z0-9]([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;new a.a(/[a-zA-Z]/,/[0-9]/,/[ !@#$%^&*()_+\-={}|[\]\\:";'<>?,./`~]/)},1594:function(e,t,n){n(26)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},1595:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={productDetails:"PRODUCT_DETAILS",transactionHistory:"TRANSACTION_HISTORY",checkDeposit:"CHECK_DEPOSIT",activateCard:"ACTIVATE_CARD"}},1596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e*Math.PI/180};t.default=a},1601:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(8),o=n.n(i),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.cdnUrl,n=e.className,a=e.code,i=e.styleProps,o=e.svg,s=e.title;if(!a)return null;var l=""+t+a.toLowerCase()+".svg",u=a.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return o?r.a.createElement("span",{"aria-label":a,className:n,role:"img",style:c({position:"relative",display:"inline-block",width:"1.3333333333em",height:"1em",backgroundImage:"url("+l+")",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},i),title:s||a}):r.a.createElement("span",{"aria-label":a,className:n,role:"img",style:c({verticalAlign:"middle"},i),title:a},u)}}]),t}(a.Component);d.propTypes={cdnUrl:o.a.string,className:o.a.string,code:o.a.string.isRequired,styleProps:o.a.object,svg:o.a.bool,title:o.a.string},d.defaultProps={cdnUrl:"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.3.0/flags/4x3/",svg:!1},t.a=d},1611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1578)),r=s(n(1579)),i=s(n(1596)),o=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return e>1?1:e<-1?-1:e},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var s=(0,a.default)(e),c=(0,r.default)(e),u=(0,a.default)(t),d=(0,r.default)(t),p=Math.acos(l(Math.sin((0,i.default)(u))*Math.sin((0,i.default)(s))+Math.cos((0,i.default)(u))*Math.cos((0,i.default)(s))*Math.cos((0,i.default)(c)-(0,i.default)(d))))*o.earthRadius;return Math.round(p/n)*n};t.default=c},1620:function(e,t,n){"use strict";const a=n(1630),r=n(1631),i=n(1632);function o(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function s(e,t){return t.decode?r(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return(e,n,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};case"comma":return(e,t,n)=>{const a="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;n[e]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const r of e.split("&")){let[e,o]=i(t.decode?r.replace(/\+/g," "):r,"=");o=void 0===o?null:s(o,t),n(s(e,t),o,a)}for(const e of Object.keys(a)){const n=a[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=u(n[e],t);else a[e]=u(n,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((e,t)=>{const n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=c,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";const n=function(e){switch(e.arrayFormat){case"index":return t=>(n,a)=>{const r=n.length;return void 0===a||e.skipNull&&null===a?n:null===a?[...n,[o(t,e),"[",r,"]"].join("")]:[...n,[o(t,e),"[",o(r,e),"]=",o(a,e)].join("")]};case"bracket":return t=>(n,a)=>void 0===a||e.skipNull&&null===a?n:null===a?[...n,[o(t,e),"[]"].join("")]:[...n,[o(t,e),"[]=",o(a,e)].join("")];case"comma":return t=>(n,a)=>null==a||0===a.length?n:0===n.length?[[o(t,e),"=",o(a,e)].join("")]:[[n,o(a,e)].join(",")];default:return t=>(n,a)=>void 0===a||e.skipNull&&null===a?n:null===a?[...n,o(t,e)]:[...n,[o(t,e),"=",o(a,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),a=Object.assign({},e);if(t.skipNull)for(const e of Object.keys(a))void 0!==a[e]&&null!==a[e]||delete a[e];const r=Object.keys(a);return!1!==t.sort&&r.sort(t.sort),r.map(a=>{const r=e[a];return void 0===r?"":null===r?o(a,t):Array.isArray(r)?r.reduce(n(a),[]).join("&"):o(a,t)+"="+o(r,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:l(e).split("?")[0]||"",query:d(c(e),t)}),t.stringifyUrl=(e,n)=>{const a=l(e.url).split("?")[0]||"",r=t.extract(e.url),i=t.parse(r),o=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url),s=Object.assign(i,e.query);let c=t.stringify(s,n);return c&&(c=`?${c}`),`${a}${c}${o}`}},1622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return 180*e/Math.PI};t.default=a},1627:function(e,t,n){"use strict";var a=n(83),r=n(253),i=n(81);e.exports=function(e){for(var t=a(this),n=i(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},1628:function(e,t,n){var a=n(39),r=n(31),i=n(163),o=r("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,a){t.delete("b"),n+=a+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1630:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},1631:function(e,t,n){"use strict";var a=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],i(n),i(a))}function o(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var a=o(n[0]);a!==n[0]&&(t[n[0]]=a)}n=r.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),s=0;s<i.length;s++){var l=i[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},1632:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},1633:function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")}})?a.apply(t,r):a)||(e.exports=i)},1640:function(e,t){},1646:function(e,t,n){var a;a=function(e,t){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){(function(a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(2)),s=u(n(3)),l=u(n(4)),c=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var p="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function h(e,t){return"application/x-moz-file"===e.type||(0,l.default)(e,t)}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.renderChildren=function(e,t,n){return"function"==typeof e?e(r({},a.state,{isDragActive:t,isDragReject:n})):e},a.onClick=a.onClick.bind(a),a.onDocumentDrop=a.onDocumentDrop.bind(a),a.onDragStart=a.onDragStart.bind(a),a.onDragEnter=a.onDragEnter.bind(a),a.onDragLeave=a.onDragLeave.bind(a),a.onDragOver=a.onDragOver.bind(a),a.onDrop=a.onDrop.bind(a),a.onFileDialogCancel=a.onFileDialogCancel.bind(a),a.setRef=a.setRef.bind(a),a.setRefs=a.setRefs.bind(a),a.onInputElementClick=a.onInputElementClick.bind(a),a.isFileDialogActive=!1,a.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"onDocumentDragOver",value:function(e){e.preventDefault()}}]),i(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",t.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",t.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),document.body.onfocus=null}},{key:"onDocumentDrop",value:function(e){this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({draggedFiles:(0,c.default)(e)}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,i=n.onDropAccepted,o=n.onDropRejected,s=n.multiple,l=n.disablePreview,u=n.accept,d=(0,c.default)(e),p=[],m=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,d.forEach((function(e){if(!l)try{e.preview=window.URL.createObjectURL(e)}catch(t){"production"!==a.env.NODE_ENV&&console.error("Failed to generate preview for file",e,t)}h(e,u)&&t.fileMatchSize(e)?p.push(e):m.push(e)})),s||m.push.apply(m,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p.splice(1))),r&&r.call(this,p,m,e),m.length>0&&o&&o.call(this,m,e),p.length>0&&i&&i.call(this,p,e),this.draggedFiles=null,this.setState({draggedFiles:[],acceptedFiles:p,rejectedFiles:m})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this.props.onFileDialogCancel,t=this.fileInputEl,n=this.isFileDialogActive;e&&n&&setTimeout((function(){t.files.length||(n=!1,e())}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"fileMatchSize",value:function(e){return e.size<=this.props.maxSize&&e.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every((function(e){return h(e,t.props.accept)}))}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.activeClassName,a=e.inputProps,i=e.multiple,s=e.name,l=e.rejectClassName,c=e.children,u=d(e,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),h=u.activeStyle,m=u.className,f=u.rejectStyle,y=u.style,g=d(u,["activeStyle","className","rejectStyle","style"]),v=this.state.draggedFiles,b=v.length,E=i||b<=1,O=b>0&&this.allFilesAccepted(v),k=b>0&&(!O||!E);m=m||"",O&&n&&(m+=" "+n),k&&l&&(m+=" "+l),m||y||h||f||(y={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},h={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},f={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"});var w=void 0;w=h&&O?r({},y,h):f&&k?r({},y,f):r({},y);var _={accept:t,type:"file",style:{display:"none"},multiple:p&&i,ref:this.setRefs,onChange:this.onDrop};s&&s.length&&(_.name=s);var P=r({},g);return["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"].forEach((function(e){return delete P[e]})),o.default.createElement("div",r({className:m,style:w},P,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,ref:this.setRef}),this.renderChildren(c,O,k),o.default.createElement("input",r({},a,_)))}}]),t}(o.default.Component);m.propTypes={accept:s.default.string,children:s.default.oneOfType([s.default.node,s.default.func]),disableClick:s.default.bool,disablePreview:s.default.bool,preventDropOnDocument:s.default.bool,inputProps:s.default.object,multiple:s.default.bool,name:s.default.string,maxSize:s.default.number,minSize:s.default.number,className:s.default.string,activeClassName:s.default.string,rejectClassName:s.default.string,style:s.default.object,activeStyle:s.default.object,rejectStyle:s.default.object,onClick:s.default.func,onDrop:s.default.func,onDropAccepted:s.default.func,onDropRejected:s.default.func,onDragStart:s.default.func,onDragEnter:s.default.func,onDragOver:s.default.func,onDragLeave:s.default.func,onFileDialogCancel:s.default.func},m.defaultProps={preventDropOnDocument:!0,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},t.default=m,e.exports=t.default}).call(t,n(1))},function(e,t){var n,a,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||u||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),a=e.name||"",r=e.type||"",i=r.replace(/\/.*$/,"");return{v:n.some((function(e){var t=e.trim();return"."===t.charAt(0)?a.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):r===t}))}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var a=n(2),r=n(1),i=n(4),o=n(19),s="prototype",l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var u,d,p,h,m=e&c.G,f=e&c.P,y=m?a:e&c.S?a[t]||(a[t]={}):(a[t]||{})[s],g=m?r:r[t]||(r[t]={});for(u in m&&(n=t),n)p=((d=!(e&c.F)&&y&&u in y)?y:n)[u],h=e&c.B&&d?l(p,a):f&&"function"==typeof p?l(Function.call,p):p,y&&!d&&o(y,u,p),g[u]!=p&&i(g,u,h),f&&((g[s]||(g[s]={}))[u]=p)};a.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t,n){var a=n(5),r=n(18);e.exports=n(22)?function(e,t,n){return a.setDesc(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(20)("wks"),r=n(2).Symbol;e.exports=function(e){return a[e]||(a[e]=r&&r[e]||(r||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(10);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var a=n(16),r=n(11),i=n(7)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(2),r=n(4),i=n(6)("src"),o="toString",s=Function[o],l=(""+s).split(o);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,o){"function"==typeof n&&(r(n,i,e[t]?""+e[t]:l.join(String(t))),"name"in n||(n.name=t)),e===a?e[t]=n:(o||delete e[t],r(e,t,n))})(Function.prototype,o,(function(){return"function"==typeof this&&this[i]||s.call(this)}))},function(e,t,n){var a=n(2),r="__core-js_shared__",i=a[r]||(a[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var a=n(17),r=n(13);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){e.exports=!n(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(23),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t,n){"use strict";var a=n(3),r=n(24),i=n(21),o="endsWith",s=""[o];a(a.P+a.F*n(14)(o),"String",{endsWith:function(e){var t=i(this,e,o),n=arguments,a=n.length>1?n[1]:void 0,l=r(t.length),c=void 0===a?l:Math.min(r(a),l),u=String(e);return s?s.call(t,u,c):t.slice(c-u.length,c)===u}})},function(e,t,n){var a=n(5),r=n(3),i=n(1).Array||Array,o={},s=function(e,t){a.each.call(e.split(","),(function(e){null==t&&e in i?o[e]=i[e]:e in[]&&(o[e]=n(12)(Function.call,[][e],t))}))};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),r(r.S,"Array",o)}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)},e.exports=t.default}])},e.exports=a(n(0),n(8))},1651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,a=t.clientOffset,s=t.getSourceClientOffset;(0,r.default)((0,i.default)(e),"Expected sourceIds to be an array.");var l=this.getMonitor(),u=this.getRegistry();(0,r.default)(!l.isDragging(),"Cannot call beginDrag while dragging.");for(var d=0;d<e.length;d++)(0,r.default)(u.getSource(e[d]),"Expected sourceIds to be registered.");for(var p=null,h=e.length-1;h>=0;h--)if(l.canDragSource(e[h])){p=e[h];break}if(null===p)return;var m=null;a&&((0,r.default)("function"==typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),m=s(p));var f=u.getSource(p),y=f.beginDrag(l,p);(0,r.default)((0,o.default)(y),"Item must be an object."),u.pinSource(p);var g=u.getSourceType(p);return{type:c,itemType:g,item:y,sourceId:p,clientOffset:a,sourceClientOffset:m,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clientOffset,a=void 0===n?null:n;(0,r.default)((0,i.default)(e),"Expected targetIds to be an array.");var o=e.slice(0),l=this.getMonitor(),c=this.getRegistry();(0,r.default)(l.isDragging(),"Cannot call hover while not dragging."),(0,r.default)(!l.didDrop(),"Cannot call hover after drop.");for(var u=0;u<o.length;u++){var p=o[u];(0,r.default)(o.lastIndexOf(p)===u,"Expected targetIds to be unique in the passed array.");var h=c.getTarget(p);(0,r.default)(h,"Expected targetIds to be registered.")}for(var m=l.getItemType(),f=o.length-1;f>=0;f--){var y=o[f],g=c.getTargetType(y);(0,s.default)(g,m)||o.splice(f,1)}for(var v=0;v<o.length;v++){var b=o[v],E=c.getTarget(b);E.hover(l,b)}return{type:d,targetIds:o,clientOffset:a}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),i=this.getRegistry();(0,r.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,r.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach((function(s,l){var c=i.getTarget(s).drop(n,s);(0,r.default)(void 0===c||(0,o.default)(c),"Drop result must either be an object or undefined."),void 0===c&&(c=0===l?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:a({},t,c)})}))},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,r.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,true).endDrag(e,n),t.unpinSource(),{type:h}};var r=l(n(82)),i=l(n(36)),o=l(n(48)),s=l(n(1771));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",u=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",d=t.HOVER="dnd-core/HOVER",p=t.DROP="dnd-core/DROP",h=t.END_DRAG="dnd-core/END_DRAG"},1652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:a,sourceId:e}},t.addTarget=function(e){return{type:r,targetId:e}},t.removeSource=function(e){return{type:i,sourceId:e}},t.removeTarget=function(e){return{type:o,targetId:e}};var a=t.ADD_SOURCE="dnd-core/ADD_SOURCE",r=t.ADD_TARGET="dnd-core/ADD_TARGET",i=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",o=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},1653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},1658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){return t.reduce((function(t,n){if(null==e)throw new Error("'".concat(e,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==n&&void 0===t?(t=n,n):t}),void 0)};t.default=a},1659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){var t=e.toString().trim();return!isNaN(parseFloat(t))&&parseFloat(t)===Number(t)};t.default=a},1660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=function(e){return a.sexagesimalPattern.test(e.toString().trim())};t.default=r},1661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=function(e){var t=new RegExp(a.sexagesimalPattern).exec(e);if(null==t)throw new Error("Given value is not in sexagesimal format");var n=Number(t[2])/60||0,r=Number(t[4])/3600||0,i=parseFloat(t[1])+n+r;return["S","W"].includes(t[7])?-i:i};t.default=r},1679:function(module,exports,__webpack_require__){var require;parcelRequire=function(e,t,n,a){var r,i="function"==typeof parcelRequire&&parcelRequire;function o(n,a){if(!t[n]){if(!e[n]){var r="function"==typeof parcelRequire&&parcelRequire;if(!a&&r)return r(n,!0);if(i)return i(n,!0);if("string"==typeof n)return __webpack_require__(1680)(n);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}c.resolve=function(t){return e[n][1][t]||t},c.cache={};var l=t[n]=new o.Module(n);e[n][0].call(l.exports,c,l,l.exports,this)}return t[n].exports;function c(e){return o(c.resolve(e))}}o.isParcelRequire=!0,o.Module=function(e){this.id=e,this.bundle=o,this.exports={}},o.modules=e,o.cache=t,o.parent=i,o.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]};for(var s=0;s<n.length;s++)try{o(n[s])}catch(e){r||(r=e)}if(n.length){var l=o(n[n.length-1]);module.exports=l}if(parcelRequire=o,r)throw r;return o}({uWh2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDirective=n.directive=void 0;const a=new WeakMap;n.directive=e=>(...t)=>{const n=e(...t);return a.set(n,!0),n};n.isDirective=e=>"function"==typeof e&&a.has(e)},{}],"2ytx":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNodes=n.reparentNodes=n.isCEPolyfill=void 0;const a=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;n.isCEPolyfill=a;n.reparentNodes=(e,t,n=null,a=null)=>{let r=t;for(;r!==n;){const t=r.nextSibling;e.insertBefore(r,a),r=t}};n.removeNodes=(e,t,n=null)=>{let a=t;for(;a!==n;){const t=a.nextSibling;e.removeChild(a),a=t}}},{}],pnLb:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nothing=n.noChange=void 0;n.noChange={};n.nothing={}},{}],Av0K:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lastAttributeNameRegex=n.createMarker=n.isTemplatePartActive=n.Template=n.boundAttributeSuffix=n.markerRegex=n.nodeMarker=n.marker=void 0;const a=`{{lit-${String(Math.random()).slice(2)}}}`;n.marker=a;const r=`\x3c!--${a}--\x3e`;n.nodeMarker=r;const i=new RegExp(`${a}|${r}`);n.markerRegex=i;const o="$lit$";n.boundAttributeSuffix=o;n.Template=class{constructor(e,t){this.parts=[],this.element=t;let n=-1,r=0;const c=[],u=t=>{const d=t.content,p=document.createTreeWalker(d,133,null,!1);let h=0;for(;p.nextNode();){n++;const t=p.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const s=t.attributes;let c=0;for(let e=0;e<s.length;e++)s[e].value.indexOf(a)>=0&&c++;for(;c-- >0;){const a=e.strings[r],s=l.exec(a)[2],c=s.toLowerCase()+o,u=t.getAttribute(c).split(i);this.parts.push({type:"attribute",index:n,name:s,strings:u}),t.removeAttribute(c),r+=u.length-1}}"TEMPLATE"===t.tagName&&u(t)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(a)>=0){const a=t.parentNode,o=e.split(i),l=o.length-1;for(let e=0;e<l;e++)a.insertBefore(""===o[e]?s():document.createTextNode(o[e]),t),this.parts.push({type:"node",index:++n});""===o[l]?(a.insertBefore(s(),t),c.push(t)):t.data=o[l],r+=l}}else if(8===t.nodeType)if(t.data===a){const e=t.parentNode;null!==t.previousSibling&&n!==h||(n++,e.insertBefore(s(),t)),h=n,this.parts.push({type:"node",index:n}),null===t.nextSibling?t.data="":(c.push(t),n--),r++}else{let e=-1;for(;-1!==(e=t.data.indexOf(a,e+1));)this.parts.push({type:"node",index:-1})}}};u(t);for(const e of c)e.parentNode.removeChild(e)}};n.isTemplatePartActive=e=>-1!==e.index;const s=()=>document.createComment("");n.createMarker=s;const l=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;n.lastAttributeNameRegex=l},{}],bn5t:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateInstance=void 0;var a=e("./dom.js"),r=e("./template.js");n.TemplateInstance=class{constructor(e,t,n){this._parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this._parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this._parts)void 0!==e&&e.commit()}_clone(){const e=a.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let n=0,i=0;const o=e=>{const a=document.createTreeWalker(e,133,null,!1);let s=a.nextNode();for(;n<t.length&&null!==s;){const e=t[n];if((0,r.isTemplatePartActive)(e))if(i===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(s.previousSibling),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(s,e.name,e.strings,this.options));n++}else i++,"TEMPLATE"===s.nodeName&&o(s.content),s=a.nextNode();else this._parts.push(void 0),n++}};return o(e),a.isCEPolyfill&&(document.adoptNode(e),customElements.upgrade(e)),e}}},{"./dom.js":"2ytx","./template.js":"Av0K"}],cVNN:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SVGTemplateResult=n.TemplateResult=void 0;var a=e("./dom.js"),r=e("./template.js");class i{constructor(e,t,n,a){this.strings=e,this.values=t,this.type=n,this.processor=a}getHTML(){const e=this.strings.length-1;let t="";for(let n=0;n<e;n++){const e=this.strings[n],a=r.lastAttributeNameRegex.exec(e);t+=a?e.substr(0,a.index)+a[1]+a[2]+r.boundAttributeSuffix+a[3]+r.marker:e+r.nodeMarker}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}n.TemplateResult=i;n.SVGTemplateResult=class extends i{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),(0,a.reparentNodes)(t,n.firstChild),e}}},{"./dom.js":"2ytx","./template.js":"Av0K"}],atl2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventPart=n.PropertyPart=n.PropertyCommitter=n.BooleanAttributePart=n.NodePart=n.AttributePart=n.AttributeCommitter=n.isPrimitive=void 0;var a=e("./directive.js"),r=e("./dom.js"),i=e("./part.js"),o=e("./template-instance.js"),s=e("./template-result.js"),l=e("./template.js");const c=e=>null===e||!("object"==typeof e||"function"==typeof e);n.isPrimitive=c;class u{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new d(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let a=0;a<t;a++){n+=e[a];const t=this.parts[a];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const t of e)n+="string"==typeof t?t:String(t);else n+="string"==typeof e?e:String(e)}}return n+e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}n.AttributeCommitter=u;class d{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===i.noChange||c(e)&&e===this.value||(this.value=e,(0,a.isDirective)(e)||(this.committer.dirty=!0))}commit(){for(;(0,a.isDirective)(this.value);){const e=this.value;this.value=i.noChange,e(this)}this.value!==i.noChange&&this.committer.commit()}}n.AttributePart=d;class p{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild((0,l.createMarker)()),this.endNode=e.appendChild((0,l.createMarker)())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=(0,l.createMarker)()),e._insert(this.endNode=(0,l.createMarker)())}insertAfterPart(e){e._insert(this.startNode=(0,l.createMarker)()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;(0,a.isDirective)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i.noChange,e(this)}const e=this._pendingValue;e!==i.noChange&&(c(e)?e!==this.value&&this._commitText(e):e instanceof s.TemplateResult?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):e===i.nothing?(this.value=i.nothing,this.clear()):this._commitText(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof o.TemplateInstance&&this.value.template===t)this.value.update(e.values);else{const n=new o.TemplateInstance(t,e.processor,this.options),a=n._clone();n.update(e.values),this._commitNode(a),this.value=n}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,a=0;for(const r of e)void 0===(n=t[a])&&(n=new p(this.options),t.push(n),0===a?n.appendIntoPart(this):n.insertAfterPart(t[a-1])),n.setValue(r),n.commit(),a++;a<t.length&&(t.length=a,this.clear(n&&n.endNode))}clear(e=this.startNode){(0,r.removeNodes)(this.startNode.parentNode,e.nextSibling,this.endNode)}}n.NodePart=p;n.BooleanAttributePart=class{constructor(e,t,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this._pendingValue=e}commit(){for(;(0,a.isDirective)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i.noChange,e(this)}if(this._pendingValue===i.noChange)return;const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=i.noChange}};n.PropertyCommitter=class extends u{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new h(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}};class h extends d{}n.PropertyPart=h;let m=!1;try{const e={get capture(){return m=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}n.EventPart=class{constructor(e,t,n){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this._boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this._pendingValue=e}commit(){for(;(0,a.isDirective)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i.noChange,e(this)}if(this._pendingValue===i.noChange)return;const e=this._pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),r&&(this._options=f(e),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=e,this._pendingValue=i.noChange}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}};const f=e=>e&&(m?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)},{"./directive.js":"uWh2","./dom.js":"2ytx","./part.js":"pnLb","./template-instance.js":"bn5t","./template-result.js":"cVNN","./template.js":"Av0K"}],"52LB":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultTemplateProcessor=n.DefaultTemplateProcessor=void 0;var a=e("./parts.js");class r{handleAttributeExpressions(e,t,n,r){const i=t[0];return"."===i?new a.PropertyCommitter(e,t.slice(1),n).parts:"@"===i?[new a.EventPart(e,t.slice(1),r.eventContext)]:"?"===i?[new a.BooleanAttributePart(e,t.slice(1),n)]:new a.AttributeCommitter(e,t,n).parts}handleTextExpression(e){return new a.NodePart(e)}}n.DefaultTemplateProcessor=r;const i=new r;n.defaultTemplateProcessor=i},{"./parts.js":"atl2"}],gbKZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.templateFactory=function(e){let t=r.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},r.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const i=e.strings.join(a.marker);return void 0===(n=t.keyString.get(i))&&(n=new a.Template(e,e.getTemplateElement()),t.keyString.set(i,n)),t.stringsArray.set(e.strings,n),n},n.templateCaches=void 0;var a=e("./template.js");const r=new Map;n.templateCaches=r},{"./template.js":"Av0K"}],Fhpq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.render=n.parts=void 0;var a=e("./dom.js"),r=e("./parts.js"),i=e("./template-factory.js");const o=new WeakMap;n.parts=o;n.render=(e,t,n)=>{let s=o.get(t);void 0===s&&((0,a.removeNodes)(t,t.firstChild),o.set(t,s=new r.NodePart(Object.assign({templateFactory:i.templateFactory},n))),s.appendInto(t)),s.setValue(e),s.commit()}},{"./dom.js":"2ytx","./parts.js":"atl2","./template-factory.js":"gbKZ"}],"SP/d":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return a.DefaultTemplateProcessor}}),Object.defineProperty(n,"defaultTemplateProcessor",{enumerable:!0,get:function(){return a.defaultTemplateProcessor}}),Object.defineProperty(n,"SVGTemplateResult",{enumerable:!0,get:function(){return r.SVGTemplateResult}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return r.TemplateResult}}),Object.defineProperty(n,"directive",{enumerable:!0,get:function(){return i.directive}}),Object.defineProperty(n,"isDirective",{enumerable:!0,get:function(){return i.isDirective}}),Object.defineProperty(n,"removeNodes",{enumerable:!0,get:function(){return o.removeNodes}}),Object.defineProperty(n,"reparentNodes",{enumerable:!0,get:function(){return o.reparentNodes}}),Object.defineProperty(n,"noChange",{enumerable:!0,get:function(){return s.noChange}}),Object.defineProperty(n,"nothing",{enumerable:!0,get:function(){return s.nothing}}),Object.defineProperty(n,"AttributeCommitter",{enumerable:!0,get:function(){return l.AttributeCommitter}}),Object.defineProperty(n,"AttributePart",{enumerable:!0,get:function(){return l.AttributePart}}),Object.defineProperty(n,"BooleanAttributePart",{enumerable:!0,get:function(){return l.BooleanAttributePart}}),Object.defineProperty(n,"EventPart",{enumerable:!0,get:function(){return l.EventPart}}),Object.defineProperty(n,"isPrimitive",{enumerable:!0,get:function(){return l.isPrimitive}}),Object.defineProperty(n,"NodePart",{enumerable:!0,get:function(){return l.NodePart}}),Object.defineProperty(n,"PropertyCommitter",{enumerable:!0,get:function(){return l.PropertyCommitter}}),Object.defineProperty(n,"PropertyPart",{enumerable:!0,get:function(){return l.PropertyPart}}),Object.defineProperty(n,"parts",{enumerable:!0,get:function(){return c.parts}}),Object.defineProperty(n,"render",{enumerable:!0,get:function(){return c.render}}),Object.defineProperty(n,"templateCaches",{enumerable:!0,get:function(){return u.templateCaches}}),Object.defineProperty(n,"templateFactory",{enumerable:!0,get:function(){return u.templateFactory}}),Object.defineProperty(n,"TemplateInstance",{enumerable:!0,get:function(){return d.TemplateInstance}}),Object.defineProperty(n,"createMarker",{enumerable:!0,get:function(){return p.createMarker}}),Object.defineProperty(n,"isTemplatePartActive",{enumerable:!0,get:function(){return p.isTemplatePartActive}}),Object.defineProperty(n,"Template",{enumerable:!0,get:function(){return p.Template}}),n.svg=n.html=void 0;var a=e("./lib/default-template-processor.js"),r=e("./lib/template-result.js"),i=e("./lib/directive.js"),o=e("./lib/dom.js"),s=e("./lib/part.js"),l=e("./lib/parts.js"),c=e("./lib/render.js"),u=e("./lib/template-factory.js"),d=e("./lib/template-instance.js"),p=e("./lib/template.js");(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");n.html=(e,...t)=>new r.TemplateResult(e,t,"html",a.defaultTemplateProcessor);n.svg=(e,...t)=>new r.SVGTemplateResult(e,t,"svg",a.defaultTemplateProcessor)},{"./lib/default-template-processor.js":"52LB","./lib/template-result.js":"cVNN","./lib/directive.js":"uWh2","./lib/dom.js":"2ytx","./lib/part.js":"pnLb","./lib/parts.js":"atl2","./lib/render.js":"Fhpq","./lib/template-factory.js":"gbKZ","./lib/template-instance.js":"bn5t","./lib/template.js":"Av0K"}],NXoq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNodesFromTemplate=function(e,t){const{element:{content:n},parts:a}=e,r=document.createTreeWalker(n,133,null,!1);let o=i(a),s=a[o],l=-1,c=0;const u=[];let d=null;for(;r.nextNode();){l++;const e=r.currentNode;for(e.previousSibling===d&&(d=null),t.has(e)&&(u.push(e),null===d&&(d=e)),null!==d&&c++;void 0!==s&&s.index===l;)s.index=null!==d?-1:s.index-c,s=a[o=i(a,o)]}u.forEach(e=>e.parentNode.removeChild(e))},n.insertNodeIntoTemplate=function(e,t,n=null){const{element:{content:a},parts:o}=e;if(null==n)return void a.appendChild(t);const s=document.createTreeWalker(a,133,null,!1);let l=i(o),c=0,u=-1;for(;s.nextNode();)for(u++,s.currentNode===n&&(c=r(t),n.parentNode.insertBefore(t,n));-1!==l&&o[l].index===u;){if(c>0){for(;-1!==l;)o[l].index+=c,l=i(o,l);return}l=i(o,l)}};var a=e("./template.js");const r=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,133,null,!1);for(;n.nextNode();)t++;return t},i=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if((0,a.isTemplatePartActive)(t))return n}return-1}},{"./template.js":"Av0K"}],eBH8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"html",{enumerable:!0,get:function(){return u.html}}),Object.defineProperty(n,"svg",{enumerable:!0,get:function(){return u.svg}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return u.TemplateResult}}),n.render=void 0;var a=e("./dom.js"),r=e("./modify-template.js"),i=e("./render.js"),o=e("./template-factory.js"),s=e("./template-instance.js"),l=e("./template-result.js"),c=e("./template.js"),u=e("../lit-html.js");const d=(e,t)=>`${e}--${t}`;let p=!0;void 0===window.ShadyCSS?p=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),p=!1);const h=e=>t=>{const n=d(t.type,e);let a=o.templateCaches.get(n);void 0===a&&(a={stringsArray:new WeakMap,keyString:new Map},o.templateCaches.set(n,a));let r=a.stringsArray.get(t.strings);if(void 0!==r)return r;const i=t.strings.join(c.marker);if(void 0===(r=a.keyString.get(i))){const n=t.getTemplateElement();p&&window.ShadyCSS.prepareTemplateDom(n,e),r=new c.Template(t,n),a.keyString.set(i,r)}return a.stringsArray.set(t.strings,r),r},m=["html","svg"],f=e=>{m.forEach(t=>{const n=o.templateCaches.get(d(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),(0,r.removeNodesFromTemplate)(e,n)})})},y=new Set,g=(e,t,n)=>{y.add(n);const a=e.querySelectorAll("style");if(0===a.length)return void window.ShadyCSS.prepareTemplateStyles(t.element,n);const i=document.createElement("style");for(let e=0;e<a.length;e++){const t=a[e];t.parentNode.removeChild(t),i.textContent+=t.textContent}if(f(n),(0,r.insertNodeIntoTemplate)(t,i,t.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n),window.ShadyCSS.nativeShadow){const n=t.element.content.querySelector("style");e.insertBefore(n.cloneNode(!0),e.firstChild)}else{t.element.content.insertBefore(i,t.element.content.firstChild);const e=new Set;e.add(i),(0,r.removeNodesFromTemplate)(t,e)}};n.render=(e,t,n)=>{const r=n.scopeName,o=i.parts.has(t),c=t instanceof ShadowRoot&&p&&e instanceof l.TemplateResult,u=c&&!y.has(r),d=u?document.createDocumentFragment():t;if((0,i.render)(e,d,Object.assign({templateFactory:h(r)},n)),u){const e=i.parts.get(d);i.parts.delete(d),e.value instanceof s.TemplateInstance&&g(d,e.value.template,r),(0,a.removeNodes)(t,t.firstChild),t.appendChild(d),i.parts.set(t,e)}!o&&c&&window.ShadyCSS.styleElement(t.host)}},{"./dom.js":"2ytx","./modify-template.js":"NXoq","./render.js":"Fhpq","./template-factory.js":"gbKZ","./template-instance.js":"bn5t","./template-result.js":"cVNN","./template.js":"Av0K","../lit-html.js":"SP/d"}],fKvB:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UpdatingElement=n.notEqual=n.defaultConverter=void 0,window.JSCompiler_renameProperty=(e,t)=>e;const a={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}};n.defaultConverter=a;const r=(e,t)=>t!==e&&(t==t||e==e);n.notEqual=r;const i={attribute:!0,type:String,converter:a,reflect:!1,hasChanged:r},o=Promise.resolve(!0),s="finalized";class l extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=o,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const a=this._attributeNameForProperty(n,t);void 0!==a&&(this._attributeToPropertyMap.set(a,n),e.push(a))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=i){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const a=this[e];this[n]=t,this._requestUpdate(e,a)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(s)||e.finalize(),this[s]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,n=r){return n(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||a,i="function"==typeof r?r:r.fromAttribute;return i?i(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||a.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t,n=i){const a=this.constructor,r=a._attributeNameForProperty(e,n);if(void 0!==r){const e=a._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const n=this.constructor,a=n._attributeToPropertyMap.get(e);if(void 0!==a){const e=n._classProperties.get(a)||i;this._updateState=16|this._updateState,this[a]=n._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const a=this.constructor,r=a._classProperties.get(e)||i;a._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=4|this._updateState;const n=this._updatePromise;this._updatePromise=new Promise((n,a)=>{e=n,t=a});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return 32&this._updateState}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}n.UpdatingElement=l,l[s]=!0},{}],"4Fzp":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.property=function(e){return(t,n)=>void 0!==n?((e,t,n)=>{t.constructor.createProperty(n,e)})(e,t,n):a(e,t)},n.query=function(e){return(t,n)=>{const a={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==n?r(a,t,n):i(a,t)}},n.queryAll=function(e){return(t,n)=>{const a={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==n?r(a,t,n):i(a,t)}},n.eventOptions=n.customElement=void 0;n.customElement=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:a}=t;return{kind:n,elements:a,finisher(t){window.customElements.define(e,t)}}})(e,t);const a=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher(n){n.createProperty(t.key,e)}});const r=(e,t,n)=>{Object.defineProperty(t,n,e)},i=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});n.eventOptions=e=>(t,n)=>void 0!==n?((e,t,n)=>{Object.assign(t[n],e)})(e,t,n):((e,t)=>Object.assign({},t,{finisher(n){Object.assign(n.prototype[t.key],e)}}))(e,t)},{}],ZFCR:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.css=n.unsafeCSS=n.CSSResult=n.supportsAdoptingStyleSheets=void 0;const a="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;n.supportsAdoptingStyleSheets=a;const r=Symbol();class i{constructor(e,t){if(t!==r)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(a?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}n.CSSResult=i;n.unsafeCSS=e=>new i(String(e),r);const o=e=>{if(e instanceof i)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)};n.css=(e,...t)=>{const n=t.reduce((t,n,a)=>t+o(n)+e[a+1],e[0]);return new i(n,r)}},{}],"+bhx":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={LitElement:!0,html:!0,svg:!0,TemplateResult:!0,SVGTemplateResult:!0};Object.defineProperty(n,"html",{enumerable:!0,get:function(){return l.html}}),Object.defineProperty(n,"svg",{enumerable:!0,get:function(){return l.svg}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return l.TemplateResult}}),Object.defineProperty(n,"SVGTemplateResult",{enumerable:!0,get:function(){return l.SVGTemplateResult}}),n.LitElement=void 0;var r=e("lit-html"),i=e("lit-html/lib/shady-render.js"),o=e("./lib/updating-element.js");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=e("./lib/decorators.js");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=e("lit-html/lit-html.js"),c=e("./lib/css-tag.js");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return c[e]}}))})),(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const u=e=>e.flat?e.flat(1/0):function e(t,n=[]){for(let a=0,r=t.length;a<r;a++){const r=t[a];Array.isArray(r)?e(r,n):n.push(r)}return n}(e);class d extends o.UpdatingElement{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];return Array.isArray(e)?u(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e)):e&&t.push(e),t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?c.supportsAdoptingStyleSheets?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof r.TemplateResult&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}n.LitElement=d,d.finalized=!0,d.render=i.render},{"lit-html":"SP/d","lit-html/lib/shady-render.js":"eBH8","./lib/updating-element.js":"fKvB","./lib/decorators.js":"4Fzp","lit-html/lit-html.js":"SP/d","./lib/css-tag.js":"ZFCR"}],aqmj:[function(require,module,exports){var define,global=arguments[3],define,global=arguments[3];"undefined"!=typeof navigator&&function(e,t){"function"==typeof define&&define.amd?define((function(){return t(e)})):"object"==typeof module&&module.exports?module.exports=t(e):(e.lottie=t(e),e.bodymovin=e.lottie)}(window||{},(function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"==typeof e&&e.length){var t,n=createSizedArray(e.length),a=e.length;for(t=0;t<a;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,a){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=a<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,a){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=a<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(e,t,n){var a,r,i,o,s,l,c,u;switch(l=n*(1-t),c=n*(1-(s=6*e-(o=Math.floor(6*e)))*t),u=n*(1-(1-s)*t),o%6){case 0:a=n,r=u,i=l;break;case 1:a=c,r=n,i=l;break;case 2:a=l,r=n,i=u;break;case 3:a=l,r=c,i=n;break;case 4:a=u,r=l,i=n;break;case 5:a=n,r=l,i=c}return[a,r,i]}function RGBtoHSV(e,t,n){var a,r=Math.max(e,t,n),i=Math.min(e,t,n),o=r-i,s=0===r?0:o/r,l=r/255;switch(r){case i:a=0;break;case e:a=t-n+o*(t<n?6:0),a/=6*o;break;case t:a=n-e+2*o,a/=6*o;break;case n:a=e-t+4*o,a/=6*o}return[a,s,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1==t.length?"0"+t:t;return function(e,t,a){return e<0&&(e=0),t<0&&(t=0),a<0&&(a=0),"#"+n[e]+n[t]+n[a]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e].length,a=0;a<n;a++)this._cbs[e][a](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,a=this._cbs[e].length;n<a;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,a-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,t){return"float32"===e?new Float32Array(t):"int16"===e?new Int16Array(t):"uint8c"===e?new Uint8ClampedArray(t):void 0}:function(e,t){var n,a=0,r=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(a=0;a<t;a+=1)r.push(n);return r};function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums,Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,a=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(n){if(0===n)return this;var a=e(n),r=t(n);return this._t(a,-r,0,0,r,a,0,0,0,0,1,0,0,0,0,1)}function o(n){if(0===n)return this;var a=e(n),r=t(n);return this._t(1,0,0,0,0,a,-r,0,0,r,a,0,0,0,0,1)}function s(n){if(0===n)return this;var a=e(n),r=t(n);return this._t(a,0,r,0,0,1,0,0,-r,0,a,0,0,0,0,1)}function l(n){if(0===n)return this;var a=e(n),r=t(n);return this._t(a,-r,0,0,r,a,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(n(e),n(t))}function d(a,r){var i=e(r),o=t(r);return this._t(i,o,0,0,-o,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(a),1,0,0,0,0,1,0,0,0,0,1)._t(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1)}function p(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function h(e,t,n,a,r,i,o,s,l,c,u,d,p,h,m,f){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=a,this.props[4]=r,this.props[5]=i,this.props[6]=o,this.props[7]=s,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=d,this.props[12]=p,this.props[13]=h,this.props[14]=m,this.props[15]=f,this}function m(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function f(e,t,n,a,r,i,o,s,l,c,u,d,p,h,m,f){var y=this.props;if(1===e&&0===t&&0===n&&0===a&&0===r&&1===i&&0===o&&0===s&&0===l&&0===c&&1===u&&0===d)return y[12]=y[12]*e+y[15]*p,y[13]=y[13]*i+y[15]*h,y[14]=y[14]*u+y[15]*m,y[15]=y[15]*f,this._identityCalculated=!1,this;var g=y[0],v=y[1],b=y[2],E=y[3],O=y[4],k=y[5],w=y[6],_=y[7],P=y[8],S=y[9],x=y[10],C=y[11],D=y[12],M=y[13],T=y[14],A=y[15];return y[0]=g*e+v*r+b*l+E*p,y[1]=g*t+v*i+b*c+E*h,y[2]=g*n+v*o+b*u+E*m,y[3]=g*a+v*s+b*d+E*f,y[4]=O*e+k*r+w*l+_*p,y[5]=O*t+k*i+w*c+_*h,y[6]=O*n+k*o+w*u+_*m,y[7]=O*a+k*s+w*d+_*f,y[8]=P*e+S*r+x*l+C*p,y[9]=P*t+S*i+x*c+C*h,y[10]=P*n+S*o+x*u+C*m,y[11]=P*a+S*s+x*d+C*f,y[12]=D*e+M*r+T*l+A*p,y[13]=D*t+M*i+T*c+A*h,y[14]=D*n+M*o+T*u+A*m,y[15]=D*a+M*s+T*d+A*f,this._identityCalculated=!1,this}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function g(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function v(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t]}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function E(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function O(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function k(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function w(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function _(e){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],n=this.props[5]/t,a=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t;return[e[0]*n+e[1]*r+o,e[0]*a+e[1]*i+s,0]}function P(e){var t,n=e.length,a=[];for(t=0;t<n;t+=1)a[t]=_(e[t]);return a}function S(e,t,n){var a=createTypedArray("float32",6);if(this.isIdentity())a[0]=e[0],a[1]=e[1],a[2]=t[0],a[3]=t[1],a[4]=n[0],a[5]=n[1];else{var r=this.props[0],i=this.props[1],o=this.props[4],s=this.props[5],l=this.props[12],c=this.props[13];a[0]=e[0]*r+e[1]*o+l,a[1]=e[0]*i+e[1]*s+c,a[2]=t[0]*r+t[1]*o+l,a[3]=t[0]*i+t[1]*s+c,a[4]=n[0]*r+n[1]*o+l,a[5]=n[0]*i+n[1]*s+c}return a}function x(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function C(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function D(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=a(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function M(e){return e<1e-6&&e>0||e>-1e-6&&e<0?a(1e4*e)/1e4:e}function T(){var e=this.props;return"matrix("+M(e[0])+","+M(e[1])+","+M(e[4])+","+M(e[5])+","+M(e[12])+","+M(e[13])+")"}return function(){this.reset=r,this.rotate=i,this.rotateX=o,this.rotateY=s,this.rotateZ=l,this.skew=u,this.skewFromAxis=d,this.shear=c,this.scale=p,this.setTransform=h,this.translate=m,this.transform=f,this.applyToPoint=E,this.applyToX=O,this.applyToY=k,this.applyToZ=w,this.applyToPointArray=x,this.applyToTriplePoints=S,this.applyToPointStringified=C,this.toCSS=D,this.to2dCSS=T,this.clone=v,this.cloneFromProps=b,this.equals=g,this.inversePoints=P,this.inversePoint=_,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(e,t){var n,a=this,r=256,i="random",o=t.pow(r,6),s=t.pow(2,52),l=2*s,c=255;function u(e){var t,n=e.length,a=this,i=0,o=a.i=a.j=0,s=a.S=[];for(n||(e=[n++]);i<r;)s[i]=i++;for(i=0;i<r;i++)s[i]=s[o=c&o+e[i%n]+(t=s[i])],s[o]=t;a.g=function(e){for(var t,n=0,i=a.i,o=a.j,s=a.S;e--;)t=s[i=c&i+1],n=n*r+s[c&(s[i]=s[o=c&o+t])+(s[o]=t)];return a.i=i,a.j=o,n}}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,a=e+"",r=0;r<a.length;)t[c&r]=c&(n^=19*t[c&r])+a.charCodeAt(r++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}t["seed"+i]=function(c,m,f){var y=[],g=p(function e(t,n){var a,r=[],i=typeof t;if(n&&"object"==i)for(a in t)try{r.push(e(t[a],n-1))}catch(e){}return r.length?r:"string"==i?t:t+"\0"}((m=!0===m?{entropy:!0}:m||{}).entropy?[c,h(e)]:null===c?function(){try{n;var t=new Uint8Array(r);return(a.crypto||a.msCrypto).getRandomValues(t),h(t)}catch(t){var i=a.navigator,o=i&&i.plugins;return[+new Date,a,o,a.screen,h(e)]}}():c,3),y),v=new u(y),b=function(){for(var e=v.g(6),t=o,n=0;e<s;)e=(e+n)*r,t*=r,n=v.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/4294967296},b.double=b,p(h(v.S),e),(m.pass||f||function(e,n,a,r){return r&&(r.S&&d(r,v),e.state=function(){return d(v,{})}),a?(t[i]=e,n):e})(b,g,"global"in m?m.global:this==t,m.state)},p(t.random(),e)}([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(e,n,a,r,i){var o=i||("bez_"+e+"_"+n+"_"+a+"_"+r).replace(/\./g,"p");if(t[o])return t[o];var s=new l([e,n,a,r]);return t[o]=s,s}},t={},n="function"==typeof Float32Array;function a(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function i(e){return 3*e}function o(e,t,n){return((a(t,n)*e+r(t,n))*e+i(t))*e}function s(e,t,n){return 3*a(t,n)*e*e+2*r(t,n)*e+i(t)}function l(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(e){var t=this._p[0],n=this._p[1],a=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===n&&a===r?e:0===e?0:1===e?1:o(this._getTForX(e),n,r)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],a=this._p[3];this._precomputed=!0,e===t&&n===a||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=o(.1*n,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],a=this._mSampleValues,r=0,i=1;10!==i&&a[i]<=e;++i)r+=.1;var l=r+(e-a[--i])/(a[i+1]-a[i])*.1,c=s(l,t,n);return c>=.001?function(e,t,n,a){for(var r=0;r<4;++r){var i=s(t,n,a);if(0===i)return t;t-=(o(t,n,a)-e)/i}return t}(e,l,t,n):0===c?l:function(e,t,n,a,r){var i,s,l=0;do{(i=o(s=t+(n-t)/2,a,r)-e)>0?n=s:t=s}while(Math.abs(i)>1e-7&&++l<10);return s}(e,r,r+.1,t,n)}},e}();function extendPrototype(e,t){var n,a,r=e.length;for(n=0;n<r;n+=1)for(var i in a=e[n].prototype)a.hasOwnProperty(i)&&(t.prototype[i]=a[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){function e(e,t,n,a,r,i){var o=e*a+t*r+n*i-r*a-i*e-n*t;return o>-.001&&o<.001}Math;var t=function(e,t,n,a){var r,i,o,s,l,c,u=defaultCurveSegments,d=0,p=[],h=[],m=bezier_length_pool.newElement();for(o=n.length,r=0;r<u;r+=1){for(l=r/(u-1),c=0,i=0;i<o;i+=1)s=bm_pow(1-l,3)*e[i]+3*bm_pow(1-l,2)*l*n[i]+3*(1-l)*bm_pow(l,2)*a[i]+bm_pow(l,3)*t[i],p[i]=s,null!==h[i]&&(c+=bm_pow(p[i]-h[i],2)),h[i]=p[i];c&&(d+=c=bm_sqrt(c)),m.percents[r]=l,m.lengths[r]=d}return m.addedLength=d,m};function n(e){this.segmentLength=0,this.points=new Array(e)}function a(e,t){this.partialLength=e,this.point=t}var r,i=(r={},function(t,i,o,s){var l=(t[0]+"_"+t[1]+"_"+i[0]+"_"+i[1]+"_"+o[0]+"_"+o[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!r[l]){var c,u,d,p,h,m,f,y=defaultCurveSegments,g=0,v=null;2===t.length&&(t[0]!=i[0]||t[1]!=i[1])&&e(t[0],t[1],i[0],i[1],t[0]+o[0],t[1]+o[1])&&e(t[0],t[1],i[0],i[1],i[0]+s[0],i[1]+s[1])&&(y=2);var b=new n(y);for(d=o.length,c=0;c<y;c+=1){for(f=createSizedArray(d),h=c/(y-1),m=0,u=0;u<d;u+=1)p=bm_pow(1-h,3)*t[u]+3*bm_pow(1-h,2)*h*(t[u]+o[u])+3*(1-h)*bm_pow(h,2)*(i[u]+s[u])+bm_pow(h,3)*i[u],f[u]=p,null!==v&&(m+=bm_pow(f[u]-v[u],2));g+=m=bm_sqrt(m),b.points[c]=new a(m,f),v=f}b.segmentLength=g,r[l]=b}return r[l]});function o(e,t){var n=t.percents,a=t.lengths,r=n.length,i=bm_floor((r-1)*e),o=e*t.addedLength,s=0;if(i===r-1||0===i||o===a[i])return n[i];for(var l=a[i]>o?-1:1,c=!0;c;)if(a[i]<=o&&a[i+1]>o?(s=(o-a[i])/(a[i+1]-a[i]),c=!1):i+=l,i<0||i>=r-1){if(i===r-1)return n[i];c=!1}return n[i]+(n[i+1]-n[i])*s}var s=createTypedArray("float32",8);return{getSegmentsLength:function(e){var n,a=segments_length_pool.newElement(),r=e.c,i=e.v,o=e.o,s=e.i,l=e._length,c=a.lengths,u=0;for(n=0;n<l-1;n+=1)c[n]=t(i[n],i[n+1],o[n],s[n+1]),u+=c[n].addedLength;return r&&l&&(c[n]=t(i[n],i[0],o[n],s[0]),u+=c[n].addedLength),a.totalLength=u,a},getNewSegment:function(e,t,n,a,r,i,l){var c,u=o(r=r<0?0:r>1?1:r,l),d=o(i=i>1?1:i,l),p=e.length,h=1-u,m=1-d,f=h*h*h,y=u*h*h*3,g=u*u*h*3,v=u*u*u,b=h*h*m,E=u*h*m+h*u*m+h*h*d,O=u*u*m+h*u*d+u*h*d,k=u*u*d,w=h*m*m,_=u*m*m+h*d*m+h*m*d,P=u*d*m+h*d*d+u*m*d,S=u*d*d,x=m*m*m,C=d*m*m+m*d*m+m*m*d,D=d*d*m+m*d*d+d*m*d,M=d*d*d;for(c=0;c<p;c+=1)s[4*c]=Math.round(1e3*(f*e[c]+y*n[c]+g*a[c]+v*t[c]))/1e3,s[4*c+1]=Math.round(1e3*(b*e[c]+E*n[c]+O*a[c]+k*t[c]))/1e3,s[4*c+2]=Math.round(1e3*(w*e[c]+_*n[c]+P*a[c]+S*t[c]))/1e3,s[4*c+3]=Math.round(1e3*(x*e[c]+C*n[c]+D*a[c]+M*t[c]))/1e3;return s},getPointInSegment:function(e,t,n,a,r,i){var s=o(r,i),l=1-s;return[Math.round(1e3*(l*l*l*e[0]+(s*l*l+l*s*l+l*l*s)*n[0]+(s*s*l+l*s*s+s*l*s)*a[0]+s*s*s*t[0]))/1e3,Math.round(1e3*(l*l*l*e[1]+(s*l*l+l*s*l+l*l*s)*n[1]+(s*s*l+l*s*s+s*l*s)*a[1]+s*s*s*t[1]))/1e3]},buildBezierData:i,pointOnLine2D:e,pointOnLine3D:function(t,n,a,r,i,o,s,l,c){if(0===a&&0===o&&0===c)return e(t,n,r,i,s,l);var u,d=Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2)+Math.pow(o-a,2)),p=Math.sqrt(Math.pow(s-t,2)+Math.pow(l-n,2)+Math.pow(c-a,2)),h=Math.sqrt(Math.pow(s-r,2)+Math.pow(l-i,2)+Math.pow(c-o,2));return(u=d>p?d>h?d-p-h:h-p-d:h>p?h-p-d:p-d-h)>-1e-4&&u<1e-4}}}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var a=(new Date).getTime(),r=Math.max(0,16-(a-e)),i=setTimeout((function(){t(a+r)}),r);return e=a+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function e(e,t){for(var n=0,a=t.length;n<a;){if(t[n].id===e)return t[n].layers.__used?JSON.parse(JSON.stringify(t[n].layers)):(t[n].layers.__used=!0,t[n].layers);n+=1}}function t(e){var a,r,i;for(a=e.length-1;a>=0;a-=1)if("sh"==e[a].ty)if(e[a].ks.k.i)n(e[a].ks.k);else for(i=e[a].ks.k.length,r=0;r<i;r+=1)e[a].ks.k[r].s&&n(e[a].ks.k[r].s[0]),e[a].ks.k[r].e&&n(e[a].ks.k[r].e[0]);else"gr"==e[a].ty&&t(e[a].it)}function n(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function a(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&void 0))}var r,i=function(){var e=[4,4,14];function t(e){var t,n,a,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(void 0,a=(n=e[t]).t.d,n.t.d={k:[{s:a,t:0}]})}return function(n){if(a(e,n.v)&&(t(n.layers),n.assets)){var r,i=n.assets.length;for(r=0;r<i;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),o=(r=[4,7,99],function(e){if(e.chars&&!a(r,e.v)){var t,i,o,s,l,c=e.chars.length;for(t=0;t<c;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(o=(l=e.chars[t].data.shapes[0].it).length,i=0;i<o;i+=1)(s=l[i].ks.k).__converted||(n(l[i].ks.k),s.__converted=!0)}}),s=function(){var e=[4,1,9];function t(e){var n,a,r,i=e.length;for(n=0;n<i;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(r=e[n].c.k.length,a=0;a<r;a+=1)e[n].c.k[a].s&&(e[n].c.k[a].s[0]/=255,e[n].c.k[a].s[1]/=255,e[n].c.k[a].s[2]/=255,e[n].c.k[a].s[3]/=255),e[n].c.k[a].e&&(e[n].c.k[a].e[0]/=255,e[n].c.k[a].e[1]/=255,e[n].c.k[a].e[2]/=255,e[n].c.k[a].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,a=e.length;for(n=0;n<a;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(a(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),l=function(){var e=[4,4,18];function t(e){var n,a,r;for(n=e.length-1;n>=0;n-=1)if("sh"==e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(r=e[n].ks.k.length,a=0;a<r;a+=1)e[n].ks.k[a].s&&(e[n].ks.k[a].s[0].c=e[n].closed),e[n].ks.k[a].e&&(e[n].ks.k[a].e[0].c=e[n].closed);else"gr"==e[n].ty&&t(e[n].it)}function n(e){var n,a,r,i,o,s,l=e.length;for(a=0;a<l;a+=1){if((n=e[a]).hasMask){var c=n.masksProperties;for(i=c.length,r=0;r<i;r+=1)if(c[r].pt.k.i)c[r].pt.k.c=c[r].cl;else for(s=c[r].pt.k.length,o=0;o<s;o+=1)c[r].pt.k[o].s&&(c[r].pt.k[o].s[0].c=c[r].cl),c[r].pt.k[o].e&&(c[r].pt.k[o].e[0].c=c[r].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(a(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),c={completeData:function(a,r){a.__complete||(s(a),i(a),o(a),l(a),function a(r,i,o){var s,l,c,u,d,p,h,m=r.length;for(l=0;l<m;l+=1)if("ks"in(s=r[l])&&!s.completed){if(s.completed=!0,s.tt&&(r[l-1].td=s.tt),s.hasMask){var f=s.masksProperties;for(u=f.length,c=0;c<u;c+=1)if(f[c].pt.k.i)n(f[c].pt.k);else for(p=f[c].pt.k.length,d=0;d<p;d+=1)f[c].pt.k[d].s&&n(f[c].pt.k[d].s[0]),f[c].pt.k[d].e&&n(f[c].pt.k[d].e[0])}0===s.ty?(s.layers=e(s.refId,i),a(s.layers,i,o)):4===s.ty?t(s.shapes):5==s.ty&&(0!==(h=s).t.a.length||"m"in h.t.p||(h.singleShape=!0))}}(a.layers,a.assets,r),a.__complete=!0)}};return c}var dataManager=dataFunctionManager(),FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];function n(e,t){var n=createTag("span");n.style.fontFamily=t;var a=createTag("span");a.innerHTML="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(a),document.body.appendChild(n);var r=a.offsetWidth;return a.style.fontFamily=e+", "+t,{node:a,w:r,parent:n}}function a(e,t){var n=createNS("text");return n.style.fontSize="100px",n.setAttribute("font-family",t.fFamily),n.setAttribute("font-style",t.fStyle),n.setAttribute("font-weight",t.fWeight),n.textContent="1",t.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",t.fClass)):n.style.fontFamily=t.fFamily,e.appendChild(n),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,n}t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return r.getCombinedCharacterCodes=function(){return t},r.prototype.addChars=function(e){if(e){this.chars||(this.chars=[]);var t,n,a,r=e.length,i=this.chars.length;for(t=0;t<r;t+=1){for(n=0,a=!1;n<i;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(a=!0),n+=1;a||(this.chars.push(e[t]),i+=1)}}},r.prototype.addFonts=function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var r,i=e.list,o=i.length,s=o;for(r=0;r<o;r+=1){var l,c,u=!0;if(i[r].loaded=!1,i[r].monoCase=n(i[r].fFamily,"monospace"),i[r].sansCase=n(i[r].fFamily,"sans-serif"),i[r].fPath){if("p"===i[r].fOrigin||3===i[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[r].fFamily+'"], style[f-origin="3"][f-family="'+i[r].fFamily+'"]')).length>0&&(u=!1),u){var d=createTag("style");d.setAttribute("f-forigin",i[r].fOrigin),d.setAttribute("f-origin",i[r].origin),d.setAttribute("f-family",i[r].fFamily),d.type="text/css",d.innerHTML="@font-face {font-family: "+i[r].fFamily+"; font-style: normal; src: url('"+i[r].fPath+"');}",t.appendChild(d)}}else if("g"===i[r].fOrigin||1===i[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c++)-1!==l[c].href.indexOf(i[r].fPath)&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",i[r].fOrigin),p.setAttribute("f-origin",i[r].origin),p.type="text/css",p.rel="stylesheet",p.href=i[r].fPath,document.body.appendChild(p)}}else if("t"===i[r].fOrigin||2===i[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c++)i[r].fPath===l[c].src&&(u=!1);if(u){var h=createTag("link");h.setAttribute("f-forigin",i[r].fOrigin),h.setAttribute("f-origin",i[r].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",i[r].fPath),t.appendChild(h)}}}else i[r].loaded=!0,s-=1;i[r].helper=a(t,i[r]),i[r].cache={},this.fonts.push(i[r])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},r.prototype.getCharData=function(t,n,a){for(var r=0,i=this.chars.length;r<i;){if(this.chars[r].ch===t&&this.chars[r].style===n&&this.chars[r].fFamily===a)return this.chars[r];r+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",t,n,a),e},r.prototype.getFontByName=function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},r.prototype.measureText=function(e,t,n){var a=this.getFontByName(t),r=e.charCodeAt(0);if(!a.cache[r+1]){var i=a.helper;if(" "===e){i.textContent="|"+e+"|";var o=i.getComputedTextLength();i.textContent="||";var s=i.getComputedTextLength();a.cache[r+1]=(o-s)/100}else i.textContent=e,a.cache[r+1]=i.getComputedTextLength()/100}return a.cache[r+1]*n},r.prototype.checkLoadedFonts=function(){var e,t,n,a=this.fonts.length,r=a;for(e=0;e<a;e+=1)this.fonts[e].loaded?r-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(r-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},r.prototype.loaded=function(){return this.isLoaded},r}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function n(e,t){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var i,o,s,l,c,u,d,p,h=t.lastIndex,m=h,f=this.keyframes.length-1,y=!0;y;){if(i=this.keyframes[m],o=this.keyframes[m+1],m===f-1&&e>=o.t-r){i.h&&(i=o),h=0;break}if(o.t-r>e){h=m;break}m<f-1?m+=1:(h=0,y=!1)}var g,v,b,E,O,k,w,_,P,S,x=o.t-r,C=i.t-r;if(i.to){i.bezierData||(i.bezierData=bez.buildBezierData(i.s,o.s||i.e,i.to,i.ti));var D=i.bezierData;if(e>=x||e<C){var M=e>=x?D.points.length-1:0;for(l=D.points[M].point.length,s=0;s<l;s+=1)n[s]=D.points[M].point[s]}else{i.__fnct?p=i.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,i.__fnct=p),c=p((e-C)/(x-C));var T,A=D.segmentLength*c,N=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(d=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,y=!0,u=D.points.length;y;){if(N+=D.points[d].partialLength,0===A||0===c||d===D.points.length-1){for(l=D.points[d].point.length,s=0;s<l;s+=1)n[s]=D.points[d].point[s];break}if(A>=N&&A<N+D.points[d+1].partialLength){for(T=(A-N)/D.points[d+1].partialLength,l=D.points[d].point.length,s=0;s<l;s+=1)n[s]=D.points[d].point[s]+(D.points[d+1].point[s]-D.points[d].point[s])*T;break}d<u-1?d+=1:y=!1}t._lastPoint=d,t._lastAddedLength=N-D.points[d].partialLength,t._lastKeyframeIndex=m}}else{var j,I,F,R,L;if(f=i.s.length,g=o.s||i.e,this.sh&&1!==i.h)if(e>=x)n[0]=g[0],n[1]=g[1],n[2]=g[2];else if(e<=C)n[0]=i.s[0],n[1]=i.s[1],n[2]=i.s[2];else{v=n,E=(b=function(e,t,n){var a,r,i,o,s,l=[],c=e[0],u=e[1],d=e[2],p=e[3],h=t[0],m=t[1],f=t[2],y=t[3];return(r=c*h+u*m+d*f+p*y)<0&&(r=-r,h=-h,m=-m,f=-f,y=-y),1-r>1e-6?(a=Math.acos(r),i=Math.sin(a),o=Math.sin((1-n)*a)/i,s=Math.sin(n*a)/i):(o=1-n,s=n),l[0]=o*c+s*h,l[1]=o*u+s*m,l[2]=o*d+s*f,l[3]=o*p+s*y,l}(a(i.s),a(g),(e-C)/(x-C)))[0],O=b[1],k=b[2],w=b[3],_=Math.atan2(2*O*w-2*E*k,1-2*O*O-2*k*k),P=Math.asin(2*E*O+2*k*w),S=Math.atan2(2*E*w-2*O*k,1-2*E*E-2*k*k),v[0]=_/degToRads,v[1]=P/degToRads,v[2]=S/degToRads}else for(m=0;m<f;m+=1)1!==i.h&&(e>=x?c=1:e<C?c=0:(i.o.x.constructor===Array?(i.__fnct||(i.__fnct=[]),i.__fnct[m]?p=i.__fnct[m]:(j=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],I=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],F=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],R=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(j,I,F,R).get,i.__fnct[m]=p)):i.__fnct?p=i.__fnct:(j=i.o.x,I=i.o.y,F=i.i.x,R=i.i.y,p=BezierFactory.getBezierEasing(j,I,F,R).get,i.__fnct=p),c=p((e-C)/(x-C)))),g=o.s||i.e,L=1===i.h?i.s[m]:i.s[m]+(g[m]-i.s[m])*c,1===f?n=L:n[m]=L}return t.lastIndex=h,n}function a(e){var t=e[0]*degToRads,n=e[1]*degToRads,a=e[2]*degToRads,r=Math.cos(t/2),i=Math.cos(n/2),o=Math.cos(a/2),s=Math.sin(t/2),l=Math.sin(n/2),c=Math.sin(a/2);return[s*l*o+r*i*c,s*i*o+r*l*c,r*l*o-s*i*c,r*i*o-s*l*c]}function r(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,a=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=a&&t>=a||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function i(e){var n;if("unidimensional"===this.propType)n=e*this.mult,t(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var a=0,r=this.v.length;a<r;)n=e[a]*this.mult,t(this.v[a]-n)>1e-5&&(this.v[a]=n,this._mdf=!0),a+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,n,a){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=i,this.addEffect=s}function c(e,t,n,a){this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r,l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),createTypedArray("float32",l),this.vel=createTypedArray("float32",l),r=0;r<l;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=i,this.addEffect=s}function u(t,a,l,c){this.propType="unidimensional",this.keyframes=a.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=a,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=o,this.setVValue=i,this.interpolateValue=n,this.effectsSequence=[r.bind(this)],this.addEffect=s}function d(t,a,l,c){this.propType="multidimensional";var u,d,p,h,m,f=a.k.length;for(u=0;u<f-1;u+=1)a.k[u].to&&a.k[u].s&&a.k[u].e&&(d=a.k[u].s,p=a.k[u].e,h=a.k[u].to,m=a.k[u].ti,(2===d.length&&(d[0]!==p[0]||d[1]!==p[1])&&bez.pointOnLine2D(d[0],d[1],p[0],p[1],d[0]+h[0],d[1]+h[1])&&bez.pointOnLine2D(d[0],d[1],p[0],p[1],p[0]+m[0],p[1]+m[1])||3===d.length&&(d[0]!==p[0]||d[1]!==p[1]||d[2]!==p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],p[0],p[1],p[2],d[0]+h[0],d[1]+h[1],d[2]+h[2])&&bez.pointOnLine3D(d[0],d[1],d[2],p[0],p[1],p[2],p[0]+m[0],p[1]+m[1],p[2]+m[2]))&&(a.k[u].to=null,a.k[u].ti=null),d[0]===p[0]&&d[1]===p[1]&&0===h[0]&&0===h[1]&&0===m[0]&&0===m[1]&&(2===d.length||d[2]===p[2]&&0===h[2]&&0===m[2])&&(a.k[u].to=null,a.k[u].ti=null));this.effectsSequence=[r.bind(this)],this.keyframes=a.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=o,this.setVValue=i,this.interpolateValue=n,this.frameId=-1;var y=a.k[0].s.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),u=0;u<y;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",y)},this.addEffect=s}return{getProp:function(e,t,n,a,r){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,a,r);else switch(n){case 0:i=new u(e,t,a,r);break;case 1:i=new d(e,t,a,r)}else i=new l(e,t,a,r);return i.effectsSequence.length&&r.addDynamicProperty(i),i}}}(),TransformPropertyFactory=function(){function e(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var a,r=t.or.k.length;for(a=0;a<r;a+=1)t.or.k[a].to=t.or.k[a].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var t,n,a=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/a,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/a,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/a,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/a,0)):(t=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/a,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){t=[],n=[];var r=this.px,i=this.py;r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(t[0]=r.getValueAtTime((r.keyframes[0].t+.01)/a,0),t[1]=i.getValueAtTime((i.keyframes[0].t+.01)/a,0),n[0]=r.getValueAtTime(r.keyframes[0].t/a,0),n[1]=i.getValueAtTime(i.keyframes[0].t/a,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(t[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/a,0),t[1]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/a,0),n[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/a,0),n[1]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/a,0)):(t=[r.pv,i.pv],n[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/a,r.offsetTime),n[1]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/a,i.offsetTime))}this.v.rotate(-Math.atan2(t[1]-n[1],t[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,a){return new e(t,n,a)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=point_pool.newElement(),this.o[n]=point_pool.newElement(),this.i[n]=point_pool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,a,r){var i;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o}(!i[a]||i[a]&&!r)&&(i[a]=point_pool.newElement()),i[a][0]=e,i[a][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,a,r,i,o,s){this.setXYAt(e,t,"v",o,s),this.setXYAt(n,a,"o",o,s),this.setXYAt(r,i,"i",o,s)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,a=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],a[0][0],a[0][1],n[0][0],n[0][1],0,!1),r=1);var i,o=this._length-1,s=this._length;for(i=r;i<s;i+=1)e.setTripleAt(t[o][0],t[o][1],a[o][0],a[o][1],n[o][0],n[o][1],i,!1),o-=1;return e};var ShapePropertyFactory=function(){var e=-999999;function t(e,t,n){var a,r,i,o,s,l,c,u,d,p=n.lastIndex,h=this.keyframes;if(e<h[0].t-this.offsetTime)a=h[0].s[0],i=!0,p=0;else if(e>=h[h.length-1].t-this.offsetTime)a=h[h.length-1].s?h[h.length-1].s[0]:h[h.length-2].e[0],i=!0;else{for(var m,f,y=p,g=h.length-1,v=!0;v&&(m=h[y],!((f=h[y+1]).t-this.offsetTime>e));)y<g-1?y+=1:v=!1;if(p=y,!(i=1===m.h)){if(e>=f.t-this.offsetTime)u=1;else if(e<m.t-this.offsetTime)u=0;else{var b;m.__fnct?b=m.__fnct:(b=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,m.__fnct=b),u=b((e-(m.t-this.offsetTime))/(f.t-this.offsetTime-(m.t-this.offsetTime)))}r=f.s?f.s[0]:m.e[0]}a=m.s[0]}for(l=t._length,c=a.i[0].length,n.lastIndex=p,o=0;o<l;o+=1)for(s=0;s<c;s+=1)d=i?a.i[o][s]:a.i[o][s]+(r.i[o][s]-a.i[o][s])*u,t.i[o][s]=d,d=i?a.o[o][s]:a.o[o][s]+(r.o[o][s]-a.o[o][s])*u,t.o[o][s]=d,d=i?a.v[o][s]:a.v[o][s]+(r.v[o][s]-a.v[o][s])*u,t.v[o][s]=d}function n(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,a=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==e&&(r<n&&t<n||r>a&&t>a)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function a(){this.paths=this.localShapeCollection}function r(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,a=e._length;for(n=0;n<a;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var e,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===n?t.pt.k:t.ks.k;this.v=shape_pool.clone(r),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[]}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,r,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=a,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=i,o.prototype.setVValue=r,o.prototype.addEffect=s,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=r,l.prototype.addEffect=s;var c=function(){var e=roundCorner;function t(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],a=this.s.v[0]/2,r=this.s.v[1]/2,i=3!==this.d,o=this.v;o.v[0][0]=t,o.v[0][1]=n-r,o.v[1][0]=i?t+a:t-a,o.v[1][1]=n,o.v[2][0]=t,o.v[2][1]=n+r,o.v[3][0]=i?t-a:t+a,o.v[3][1]=n,o.i[0][0]=i?t-a*e:t+a*e,o.i[0][1]=n-r,o.i[1][0]=i?t+a:t-a,o.i[1][1]=n-r*e,o.i[2][0]=i?t+a*e:t-a*e,o.i[2][1]=n+r,o.i[3][0]=i?t-a:t+a,o.i[3][1]=n+r*e,o.o[0][0]=i?t+a*e:t-a*e,o.o[0][1]=n-r,o.o[1][0]=i?t+a:t-a,o.o[1][1]=n+r*e,o.o[2][0]=i?t-a*e:t+a*e,o.o[2][1]=n+r,o.o[3][0]=i?t-a:t+a,o.o[3][1]=n-r*e}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,a,r=2*Math.floor(this.pt.v),i=2*Math.PI/r,o=!0,s=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,d=2*Math.PI*s/(2*r),p=2*Math.PI*l/(2*r),h=-Math.PI/2;h+=this.r.v;var m=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<r;e+=1){n=o?c:u,a=o?d:p;var f=(t=o?s:l)*Math.cos(h),y=t*Math.sin(h),g=0===f&&0===y?0:y/Math.sqrt(f*f+y*y),v=0===f&&0===y?0:-f/Math.sqrt(f*f+y*y);f+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(f,y,f-g*a*n*m,y-v*a*n*m,f+g*a*n*m,y+v*a*n*m,e,!0),o=!o,h+=i*m}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,a=this.or.v,r=this.os.v,i=2*Math.PI*a/(4*t),o=-Math.PI/2,s=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=a*Math.cos(o),c=a*Math.sin(o),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*i*r*s,c-d*i*r*s,l+u*i*r*s,c+d*i*r*s,e,!0),o+=n*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,a=this.s.v[1]/2,r=bm_min(n,a,this.r.v),i=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-a+r,e+n,t-a+r,e+n,t-a+i,0,!0),this.v.setTripleAt(e+n,t+a-r,e+n,t+a-i,e+n,t+a-r,1,!0),0!==r?(this.v.setTripleAt(e+n-r,t+a,e+n-r,t+a,e+n-i,t+a,2,!0),this.v.setTripleAt(e-n+r,t+a,e-n+i,t+a,e-n+r,t+a,3,!0),this.v.setTripleAt(e-n,t+a-r,e-n,t+a-r,e-n,t+a-i,4,!0),this.v.setTripleAt(e-n,t-a+r,e-n,t-a+i,e-n,t-a+r,5,!0),this.v.setTripleAt(e-n+r,t-a,e-n+r,t-a,e-n+i,t-a,6,!0),this.v.setTripleAt(e+n-r,t-a,e+n-i,t-a,e+n-r,t-a,7,!0)):(this.v.setTripleAt(e-n,t+a,e-n+i,t+a,e-n,t+a,2),this.v.setTripleAt(e-n,t-a,e-n,t-a+i,e-n,t-a,3))):(this.v.setTripleAt(e+n,t-a+r,e+n,t-a+i,e+n,t-a+r,0,!0),0!==r?(this.v.setTripleAt(e+n-r,t-a,e+n-r,t-a,e+n-i,t-a,1,!0),this.v.setTripleAt(e-n+r,t-a,e-n+i,t-a,e-n+r,t-a,2,!0),this.v.setTripleAt(e-n,t-a+r,e-n,t-a+r,e-n,t-a+i,3,!0),this.v.setTripleAt(e-n,t+a-r,e-n,t+a-i,e-n,t+a-r,4,!0),this.v.setTripleAt(e-n+r,t+a,e-n+r,t+a,e-n+i,t+a,5,!0),this.v.setTripleAt(e+n-r,t+a,e+n-i,t+a,e+n-r,t+a,6,!0),this.v.setTripleAt(e+n,t+a-r,e+n,t+a-r,e+n,t+a-i,7,!0)):(this.v.setTripleAt(e-n,t-a,e-n+i,t-a,e-n,t-a,1,!0),this.v.setTripleAt(e-n,t+a,e-n,t+a-i,e-n,t+a,2,!0),this.v.setTripleAt(e+n,t+a,e+n-i,t+a,e+n,t+a,3,!0)))},getValue:function(e){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:a},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,n){var a;return 3===n||4===n?a=(3===n?t.pt:t.ks).k.length?new l(e,t,n):new o(e,t,n):5===n?a=new d(e,t):6===n?a=new c(e,t):7===n&&(a=new u(e,t)),a.k&&e.addDynamicProperty(a),a},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}}}(),ShapeModifiers=(t={},e={},t.registerModifier=function(t,n){e[t]||(e[t]=n)},t.getModifier=function(t,n,a){return new e[t](n,a)},t),t,e;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,n,a){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(a);var r,i,o=t.length||0;for(r=0;r<o;r+=1)i=PropertyFactory.getProp(e,t[r].v,0,0,this),this.k=i.k||this.k,this.dataProps[r]={n:t[r].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var a=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",a),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=a,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,a,r){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var o,s,l=[],c=i.length;for(o=0;o<c;o+=1){var u,d;(s=i[o]).e*r<a||s.s*r>a+n||(u=s.s*r<=a?0:(s.s*r-a)/n,d=s.e*r>=a+n?1:(s.e*r-a)/n,l.push([u,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segments_length_pool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,a;if(this._mdf||e){var r=this.o.v%360/360;if(r<0&&(r+=1),(t=(this.s.v>1?1:this.s.v<0?0:this.s.v)+r)>(n=(this.e.v>1?1:this.e.v<0?0:this.e.v)+r)){var i=t;t=n,n=i}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var o,s,l,c,u,d,p=this.shapes.length,h=0;if(n===t)for(o=0;o<p;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection;else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(o=0;o<p;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var m,f,y=[];for(o=0;o<p;o+=1)if((m=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(a=m.shape.paths)._length,d=0,!m.shape._mdf&&m.pathsData.length)d=m.totalShapeLength;else{for(c=this.releasePathsData(m.pathsData),s=0;s<l;s+=1)u=bez.getSegmentsLength(a.shapes[s]),c.push(u),d+=u.totalLength;m.totalShapeLength=d,m.pathsData=c}h+=d,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var g,v=t,b=n,E=0;for(o=p-1;o>=0;o-=1)if((m=this.shapes[o]).shape._mdf){for((f=m.localShapeCollection).releaseShapes(),2===this.m&&p>1?(g=this.calculateShapeEdges(t,n,m.totalShapeLength,E,h),E+=m.totalShapeLength):g=[[v,b]],l=g.length,s=0;s<l;s+=1){v=g[s][0],b=g[s][1],y.length=0,b<=1?y.push({s:m.totalShapeLength*v,e:m.totalShapeLength*b}):v>=1?y.push({s:m.totalShapeLength*(v-1),e:m.totalShapeLength*(b-1)}):(y.push({s:m.totalShapeLength*v,e:m.totalShapeLength}),y.push({s:0,e:m.totalShapeLength*(b-1)}));var O=this.addShapes(m,y[0]);if(y[0].s!==y[0].e){if(y.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var k=O.pop();this.addPaths(O,f),O=this.addShapes(m,y[1],k)}else this.addPaths(O,f),O=this.addShapes(m,y[1]);this.addPaths(O,f)}}m.shape.paths=f}}},TrimModifier.prototype.addPaths=function(e,t){var n,a=e.length;for(n=0;n<a;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,a,r,i,o){r.setXYAt(t[0],t[1],"o",i),r.setXYAt(n[0],n[1],"i",i+1),o&&r.setXYAt(e[0],e[1],"v",i),r.setXYAt(a[0],a[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,a){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),a&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var a,r,i,o,s,l,c,u,d=e.pathsData,p=e.shape.paths.shapes,h=e.shape.paths._length,m=0,f=[],y=!0;for(n?(s=n._length,u=n._length):(n=shape_pool.newElement(),s=0,u=0),f.push(n),a=0;a<h;a+=1){for(l=d[a].lengths,n.c=p[a].c,i=p[a].c?l.length:l.length+1,r=1;r<i;r+=1)if(m+(o=l[r-1]).addedLength<t.s)m+=o.addedLength,n.c=!1;else{if(m>t.e){n.c=!1;break}t.s<=m&&t.e>=m+o.addedLength?(this.addSegment(p[a].v[r-1],p[a].o[r-1],p[a].i[r],p[a].v[r],n,s,y),y=!1):(c=bez.getNewSegment(p[a].v[r-1],p[a].v[r],p[a].o[r-1],p[a].i[r],(t.s-m)/o.addedLength,(t.e-m)/o.addedLength,l[r-1]),this.addSegmentFromArray(c,n,s,y),y=!1,n.c=!1),m+=o.addedLength,s+=1}if(p[a].c&&l.length){if(o=l[r-1],m<=t.e){var g=l[r-1].addedLength;t.s<=m&&t.e>=m+g?(this.addSegment(p[a].v[r-1],p[a].o[r-1],p[a].i[0],p[a].v[0],n,s,y),y=!1):(c=bez.getNewSegment(p[a].v[r-1],p[a].v[0],p[a].o[r-1],p[a].i[0],(t.s-m)/g,(t.e-m)/g,l[r-1]),this.addSegmentFromArray(c,n,s,y),y=!1,n.c=!1)}else n.c=!1;m+=o.addedLength,s+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),m>t.e)break;a<h-1&&(n=shape_pool.newElement(),y=!0,f.push(n),s=0)}return f},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n=shape_pool.newElement();n.c=e.c;var a,r,i,o,s,l,c,u,d,p,h,m,f,y=e._length,g=0;for(a=0;a<y;a+=1)r=e.v[a],o=e.o[a],i=e.i[a],r[0]===o[0]&&r[1]===o[1]&&r[0]===i[0]&&r[1]===i[1]?0!==a&&a!==y-1||e.c?(s=0===a?e.v[y-1]:e.v[a-1],c=(l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=m=r[0]+(s[0]-r[0])*c,d=f=r[1]-(r[1]-s[1])*c,p=u-(u-r[0])*roundCorner,h=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,p,h,m,f,g),g+=1,s=a===y-1?e.v[0]:e.v[a+1],c=(l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=p=r[0]+(s[0]-r[0])*c,d=h=r[1]+(s[1]-r[1])*c,m=u-(u-r[0])*roundCorner,f=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,p,h,m,f,g),g+=1):(n.setTripleAt(r[0],r[1],o[0],o[1],i[0],i[1],g),g+=1):(n.setTripleAt(e.v[a][0],e.v[a][1],e.o[a][0],e.o[a][1],e.i[a][0],e.i[a][1],g),g+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,n,a,r,i,o,s=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<s;n+=1){if((i=this.shapes[n]).shape.paths,o=i.localShapeCollection,i.shape._mdf||this._mdf||e)for(o.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,r=i.shape.paths._length,a=0;a<r;a+=1)o.addShape(this.processPath(t[a],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,a,r,i){var o=i?-1:1,s=a.s.v[0]+(1-a.s.v[0])*(1-r),l=a.s.v[1]+(1-a.s.v[1])*(1-r);e.translate(a.p.v[0]*o*r,a.p.v[1]*o*r,a.p.v[2]),t.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),t.rotate(-a.r.v*o*r),t.translate(a.a.v[0],a.a.v[1],a.a.v[2]),n.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),n.scale(i?1/s:s,i?1/l:l),n.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,a){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){e.length;var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,a=e.length;for(n=0;n<a;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,a,r,i;if(this._mdf||e){var o,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(i=0,a=0;a<=this._groups.length-1;a+=1)o=i<s,this._groups[a]._render=o,this.changeGroupRender(this._groups[a].it,o),i+=1;this._currentCopies=s;var c=this.o.v,u=c%1,d=c>0?Math.floor(c):Math.ceil(c),p=(this.tr.v.props,this.pMatrix.props),h=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var f,y,g=0;if(c>0){for(;g<d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),g+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),g+=u)}else if(c<0){for(;g>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),g-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),g-=u)}for(a=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,i=this._currentCopies;i;){if(y=(n=(t=this.elemsData[a].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(a/(this._currentCopies-1)),0!==g){for((0!==a&&1===r||a!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f=0;f<y;f+=1)n[f]=this.matrix.props[f];this.matrix.reset()}else for(this.matrix.reset(),f=0;f<y;f+=1)n[f]=this.matrix.props[f];g+=1,i-=1,a+=r}}else for(i=this._currentCopies,a=0,r=1;i;)n=(t=this.elemsData[a].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,a+=r},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,a=this.o.length/2;n<a;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,a,r=4*this.data.p;for(t=0;t<r;t+=1)n=t%4==0?100:255,a=Math.round(this.prop.v[t]*n),this.c[t]!==a&&(this.c[t]=a,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)n=t%2==0?100:1,a=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==a&&(this.o[t-4*this.data.p]=a,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,n,a){if(0===t)return"";var r,i=e.o,o=e.i,s=e.v,l=" M"+a.applyToPointStringified(s[0][0],s[0][1]);for(r=1;r<t;r+=1)l+=" C"+a.applyToPointStringified(i[r-1][0],i[r-1][1])+" "+a.applyToPointStringified(o[r][0],o[r][1])+" "+a.applyToPointStringified(s[r][0],s[r][1]);return n&&t&&(l+=" C"+a.applyToPointStringified(i[r-1][0],i[r-1][1])+" "+a.applyToPointStringified(o[0][0],o[0][1])+" "+a.applyToPointStringified(s[0][0],s[0][1]),l+="z"),l},ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t){var n=function(e,t,n){var a="";if(e.e)a=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),a=t+r}else a=n,a+=e.u?e.u:"",a+=e.p;return a}(t,this.assetsPath,this.path),a=createTag("img");a.crossOrigin="anonymous",a.addEventListener("load",this._imageLoaded.bind(this),!1),a.addEventListener("error",function(){r.img=e,this._imageLoaded()}.bind(this),!1),a.src=n;var r={img:a,assetData:t};return r}function a(e,t){this.imagesLoadedCb=t;var n,a=e.length;for(n=0;n<a;n+=1)e[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[n])))}function r(e){this.path=e||""}function i(e){this.assetsPath=e||""}function o(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}}function s(){this.imagesLoadedCb=null,this.images.length=0}function l(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=a,this.setAssetsPath=i,this.setPath=r,this.loaded=l,this.destroy=s,this.getImage=o,this._createImageData=n,this._imageLoaded=t,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){var e={createFilter:function(e){var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),assetLoader=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):void 0}return{load:function(t,n,a){var r,i=new XMLHttpRequest;i.open("GET",t,!0);try{i.responseType="json"}catch(e){}i.send(),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)r=e(i),n(r);else try{r=e(i),n(r)}catch(e){a&&a(e)}}}}}();function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(e,t,n){var a={propType:!1},r=PropertyFactory.getProp,i=t.a;this.a={r:i.r?r(e,i.r,0,degToRads,n):a,rx:i.rx?r(e,i.rx,0,degToRads,n):a,ry:i.ry?r(e,i.ry,0,degToRads,n):a,sk:i.sk?r(e,i.sk,0,degToRads,n):a,sa:i.sa?r(e,i.sa,0,degToRads,n):a,s:i.s?r(e,i.s,1,.01,n):a,a:i.a?r(e,i.a,1,0,n):a,o:i.o?r(e,i.o,0,.01,n):a,p:i.p?r(e,i.p,1,0,n):a,sw:i.sw?r(e,i.sw,0,0,n):a,sc:i.sc?r(e,i.sc,1,0,n):a,fc:i.fc?r(e,i.fc,1,0,n):a,fh:i.fh?r(e,i.fh,0,0,n):a,fs:i.fs?r(e,i.fs,0,.01,n):a,fb:i.fb?r(e,i.fb,0,.01,n):a,t:i.t?r(e,i.t,0,0,n):a},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function LetterProps(e,t,n,a,r,i){this.o=e,this.sw=t,this.sc=n,this.fc=a,this.m=r,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!a,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,a=PropertyFactory.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:a(this._elem,this._textData.p.f,0,0,this),l:a(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,a,r,i,o,s,l,c,u,d,p,h,m,f,y,g,v,b,E,O=this._moreOptions.alignment.v,k=this._animatorsData,w=this._textData,_=this.mHelper,P=this._renderType,S=this.renderedLetters.length,x=(this.data,e.l);if(this._hasMaskedPath){if(E=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,D=E.v;for(this._pathData.r&&(D=D.reverse()),o={tLength:0,segments:[]},i=D._length-1,g=0,r=0;r<i;r+=1)C=bez.buildBezierData(D.v[r],D.v[r+1],[D.o[r][0]-D.v[r][0],D.o[r][1]-D.v[r][1]],[D.i[r+1][0]-D.v[r+1][0],D.i[r+1][1]-D.v[r+1][1]]),o.tLength+=C.segmentLength,o.segments.push(C),g+=C.segmentLength;r=i,E.v.c&&(C=bez.buildBezierData(D.v[r],D.v[0],[D.o[r][0]-D.v[r][0],D.o[r][1]-D.v[r][1]],[D.i[0][0]-D.v[0][0],D.i[0][1]-D.v[0][1]]),o.tLength+=C.segmentLength,o.segments.push(C),g+=C.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,s=this._pathData.f.v,p=0,d=1,c=0,u=!0,f=o.segments,s<0&&E.v.c)for(o.tLength<Math.abs(s)&&(s=-Math.abs(s)%o.tLength),d=(m=f[p=f.length-1].points).length-1;s<0;)s+=m[d].partialLength,(d-=1)<0&&(d=(m=f[p-=1].points).length-1);h=(m=f[p].points)[d-1],y=(l=m[d]).partialLength}i=x.length,n=0,a=0;var M,T,A,N,j=1.2*e.finalSize*.714,I=!0;A=k.length;var F,R,L,B,V,q,z,U,H,G,Y,W,X,K=-1,$=s,Z=p,Q=d,J=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ne=0,ae=0,re=2===e.j?-.5:-1,ie=0,oe=!0;for(r=0;r<i;r+=1)if(x[r].n){for(ne&&(ne+=ae);ie<r;)x[ie].animatorJustifyOffset=ne,ie+=1;ne=0,oe=!0}else{for(T=0;T<A;T+=1)(M=k[T].a).t.propType&&(oe&&2===e.j&&(ae+=M.t.v*re),(F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars)).length?ne+=M.t.v*F[0]*re:ne+=M.t.v*F*re);oe=!1}for(ne&&(ne+=ae);ie<r;)x[ie].animatorJustifyOffset=ne,ie+=1}for(r=0;r<i;r+=1){if(_.reset(),V=1,x[r].n)n=0,a+=e.yOffset,a+=I?1:0,s=$,I=!1,this._hasMaskedPath&&(d=Q,h=(m=f[p=Z].points)[d-1],y=(l=m[d]).partialLength,c=0),X=G=W=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(J!==x[r].line){switch(e.j){case 1:s+=g-e.lineWidths[x[r].line];break;case 2:s+=(g-e.lineWidths[x[r].line])/2}J=x[r].line}K!==x[r].ind&&(x[K]&&(s+=x[K].extra),s+=x[r].an/2,K=x[r].ind),s+=O[0]*x[r].an/200;var se=0;for(T=0;T<A;T+=1)(M=k[T].a).p.propType&&((F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars)).length?se+=M.p.v[0]*F[0]:se+=M.p.v[0]*F),M.a.propType&&((F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars)).length?se+=M.a.v[0]*F[0]:se+=M.a.v[0]*F);for(u=!0;u;)c+y>=s+se||!m?(v=(s+se-c)/l.partialLength,L=h.point[0]+(l.point[0]-h.point[0])*v,B=h.point[1]+(l.point[1]-h.point[1])*v,_.translate(-O[0]*x[r].an/200,-O[1]*j/100),u=!1):m&&(c+=l.partialLength,(d+=1)>=m.length&&(d=0,f[p+=1]?m=f[p].points:E.v.c?(d=0,m=f[p=0].points):(c-=l.partialLength,m=null)),m&&(h=l,y=(l=m[d]).partialLength));R=x[r].an/2-x[r].add,_.translate(-R,0,0)}else R=x[r].an/2-x[r].add,_.translate(-R,0,0),_.translate(-O[0]*x[r].an/200,-O[1]*j/100,0);for(x[r].l,T=0;T<A;T+=1)(M=k[T].a).t.propType&&(F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?F.length?s+=M.t.v*F[0]:s+=M.t.v*F:F.length?n+=M.t.v*F[0]:n+=M.t.v*F));for(x[r].l,e.strokeWidthAnim&&(z=e.sw||0),e.strokeColorAnim&&(q=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(U=[e.fc[0],e.fc[1],e.fc[2]]),T=0;T<A;T+=1)(M=k[T].a).a.propType&&((F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars)).length?_.translate(-M.a.v[0]*F[0],-M.a.v[1]*F[1],M.a.v[2]*F[2]):_.translate(-M.a.v[0]*F,-M.a.v[1]*F,M.a.v[2]*F));for(T=0;T<A;T+=1)(M=k[T].a).s.propType&&((F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars)).length?_.scale(1+(M.s.v[0]-1)*F[0],1+(M.s.v[1]-1)*F[1],1):_.scale(1+(M.s.v[0]-1)*F,1+(M.s.v[1]-1)*F,1));for(T=0;T<A;T+=1){if(M=k[T].a,F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars),M.sk.propType&&(F.length?_.skewFromAxis(-M.sk.v*F[0],M.sa.v*F[1]):_.skewFromAxis(-M.sk.v*F,M.sa.v*F)),M.r.propType&&(F.length?_.rotateZ(-M.r.v*F[2]):_.rotateZ(-M.r.v*F)),M.ry.propType&&(F.length?_.rotateY(M.ry.v*F[1]):_.rotateY(M.ry.v*F)),M.rx.propType&&(F.length?_.rotateX(M.rx.v*F[0]):_.rotateX(M.rx.v*F)),M.o.propType&&(F.length?V+=(M.o.v*F[0]-V)*F[0]:V+=(M.o.v*F-V)*F),e.strokeWidthAnim&&M.sw.propType&&(F.length?z+=M.sw.v*F[0]:z+=M.sw.v*F),e.strokeColorAnim&&M.sc.propType)for(H=0;H<3;H+=1)F.length?q[H]=q[H]+(M.sc.v[H]-q[H])*F[0]:q[H]=q[H]+(M.sc.v[H]-q[H])*F;if(e.fillColorAnim&&e.fc){if(M.fc.propType)for(H=0;H<3;H+=1)F.length?U[H]=U[H]+(M.fc.v[H]-U[H])*F[0]:U[H]=U[H]+(M.fc.v[H]-U[H])*F;M.fh.propType&&(U=F.length?addHueToRGB(U,M.fh.v*F[0]):addHueToRGB(U,M.fh.v*F)),M.fs.propType&&(U=F.length?addSaturationToRGB(U,M.fs.v*F[0]):addSaturationToRGB(U,M.fs.v*F)),M.fb.propType&&(U=F.length?addBrightnessToRGB(U,M.fb.v*F[0]):addBrightnessToRGB(U,M.fb.v*F))}}for(T=0;T<A;T+=1)(M=k[T].a).p.propType&&(F=k[T].s.getMult(x[r].anIndexes[T],w.a[T].s.totalChars),this._hasMaskedPath?F.length?_.translate(0,M.p.v[1]*F[0],-M.p.v[2]*F[1]):_.translate(0,M.p.v[1]*F,-M.p.v[2]*F):F.length?_.translate(M.p.v[0]*F[0],M.p.v[1]*F[1],-M.p.v[2]*F[2]):_.translate(M.p.v[0]*F,M.p.v[1]*F,-M.p.v[2]*F));if(e.strokeWidthAnim&&(G=z<0?0:z),e.strokeColorAnim&&(Y="rgb("+Math.round(255*q[0])+","+Math.round(255*q[1])+","+Math.round(255*q[2])+")"),e.fillColorAnim&&e.fc&&(W="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),this._hasMaskedPath){if(_.translate(0,-e.ls),_.translate(0,O[1]*j/100+a,0),w.p.p){b=(l.point[1]-h.point[1])/(l.point[0]-h.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<h.point[0]&&(le+=180),_.rotate(-le*Math.PI/180)}_.translate(L,B,0),s-=O[0]*x[r].an/200,x[r+1]&&K!==x[r+1].ind&&(s+=x[r].an/2,s+=e.tr/1e3*e.finalSize)}else{switch(_.translate(n,a,0),e.ps&&_.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:_.translate(x[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[x[r].line]),0,0);break;case 2:_.translate(x[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[x[r].line])/2,0,0)}_.translate(0,-e.ls),_.translate(R,0,0),_.translate(O[0]*x[r].an/200,O[1]*j/100,0),n+=x[r].l+e.tr/1e3*e.finalSize}"html"===P?ee=_.toCSS():"svg"===P?ee=_.to2dCSS():te=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],X=V}S<=r?(N=new LetterProps(X,G,Y,W,ee,te),this.renderedLetters.push(N),S+=1,this.lettersChangedFlag=!0):(N=this.renderedLetters[r],this.lettersChangedFlag=N.update(X,G,Y,W,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,n,a,r,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,o=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,o=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,o=!0),this.fc!==a&&(this.fc=a,this._mdf.fc=!0,o=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,o=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var a,r=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(a=0;a<r;a+=1)i=n!==this.keysIndex?this.effectsSequence[a](i,i.t):this.effectsSequence[a](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,a=e.length;n<=a-1&&(e[n].s,!(n===a-1||e[n+1].t>t));)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n=FontManager.getCombinedCharacterCodes(),a=[],r=0,i=e.length;r<i;)t=e.charCodeAt(r),-1!==n.indexOf(t)?a[a.length-1]+=e.charAt(r):t>=55296&&t<=56319&&(t=e.charCodeAt(r+1))>=56320&&t<=57343?(a.push(e.substr(r,2)),++r):a.push(e.charAt(r)),r+=1;return a},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,a,r,i,o,s,l=this.elem.globalData.fontManager,c=this.data,u=[],d=0,p=c.m.g,h=0,m=0,f=0,y=[],g=0,v=0,b=l.getFontByName(e.f),E=0,O=b.fStyle?b.fStyle.split(" "):[],k="normal",w="normal";for(n=O.length,t=0;t<n;t+=1)switch(O[t].toLowerCase()){case"italic":w="italic";break;case"bold":k="700";break;case"black":k="900";break;case"medium":k="500";break;case"regular":case"normal":k="400";break;case"light":case"thin":k="200"}e.fWeight=b.fWeight||k,e.fStyle=w,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var _,P=e.tr/1e3*e.finalSize;if(e.sz)for(var S,x,C=!0,D=e.sz[0],M=e.sz[1];C;){S=0,g=0,n=(x=this.buildFinalText(e.t)).length,P=e.tr/1e3*e.finalSize;var T=-1;for(t=0;t<n;t+=1)_=x[t].charCodeAt(0),a=!1," "===x[t]?T=t:13!==_&&3!==_||(g=0,a=!0,S+=e.finalLineHeight||1.2*e.finalSize),l.chars?(s=l.getCharData(x[t],b.fStyle,b.fFamily),E=a?0:s.w*e.finalSize/100):E=l.measureText(x[t],e.f,e.finalSize),g+E>D&&" "!==x[t]?(-1===T?n+=1:t=T,S+=e.finalLineHeight||1.2*e.finalSize,x.splice(t,T===t?1:0,"\r"),T=-1,g=0):(g+=E,g+=P);S+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&M<S?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=x,n=e.finalText.length,C=!1)}g=-P,E=0;var A,N=0;for(t=0;t<n;t+=1)if(a=!1,_=(A=e.finalText[t]).charCodeAt(0)," "===A?r=" ":13===_||3===_?(N=0,y.push(g),v=g>v?g:v,g=-2*P,r="",a=!0,f+=1):r=e.finalText[t],l.chars?(s=l.getCharData(A,b.fStyle,l.getFontByName(e.f).fFamily),E=a?0:s.w*e.finalSize/100):E=l.measureText(r,e.f,e.finalSize)," "===A?N+=E+P:(g+=E+P+N,N=0),u.push({l:E,an:E,add:h,n:a,anIndexes:[],val:r,line:f,animatorJustifyOffset:0}),2==p){if(h+=E,""===r||" "===r||t===n-1){for(""!==r&&" "!==r||(h-=E);m<=t;)u[m].an=h,u[m].ind=d,u[m].extra=E,m+=1;d+=1,h=0}}else if(3==p){if(h+=E,""===r||t===n-1){for(""===r&&(h-=E);m<=t;)u[m].an=h,u[m].ind=d,u[m].extra=E,m+=1;h=0,d+=1}}else u[d].ind=d,u[d].extra=0,d+=1;if(e.l=u,v=g>v?g:v,y.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=y;var j,I,F=c.a;o=F.length;var R,L,B=[];for(i=0;i<o;i+=1){for((j=F[i]).a.sc&&(e.strokeColorAnim=!0),j.a.sw&&(e.strokeWidthAnim=!0),(j.a.fc||j.a.fh||j.a.fs||j.a.fb)&&(e.fillColorAnim=!0),L=0,R=j.s.b,t=0;t<n;t+=1)(I=u[t]).anIndexes[i]=L,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||t==n-1)||4==R&&(I.n||t==n-1))&&(1===j.s.rn&&B.push(L),L+=1);c.a[i].s.totalChars=L;var V,q=-1;if(1===j.s.rn)for(t=0;t<n;t+=1)q!=(I=u[t]).anIndexes[i]&&(q=I.anIndexes[i],V=B.splice(Math.floor(Math.random()*B.length),1)[0]),I.anIndexes[i]=V}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function a(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return a.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,i=0,o=this.finalS,s=this.finalE,l=this.data.sh;if(2==l)i=r(i=s===o?a>=s?1:0:e(0,t(.5/(s-o)+(a-o)/(s-o),1)));else if(3==l)i=r(i=s===o?a>=s?0:1:1-e(0,t(.5/(s-o)+(a-o)/(s-o),1)));else if(4==l)s===o?i=0:(i=e(0,t(.5/(s-o)+(a-o)/(s-o),1)))<.5?i*=2:i=1-2*(i-.5),i=r(i);else if(5==l){if(s===o)i=0;else{var c=s-o,u=-c/2+(a=t(e(0,a+.5-o),s-o)),d=c/2;i=Math.sqrt(1-u*u/(d*d))}i=r(i)}else 6==l?(s===o?i=0:(a=t(e(0,a+.5-o),s-o),i=(1+Math.cos(Math.PI+2*Math.PI*a/(s-o)))/2),i=r(i)):(a>=n(o)&&(i=a-o<0?1-(o-a):e(0,t(s-a,1))),i=r(i));return i*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,a=this.s.v/t+n,r=this.e.v/t+n;if(a>r){var i=a;a=r,r=i}this.finalS=a,this.finalE=r}},extendPrototype([DynamicPropertyContainer],a),{getTextSelectorProp:function(e,t,n){return new a(e,t,n)}}}(),pool_factory=function(e,t,n,a){var r=0,i=e,o=createSizedArray(i);return{newElement:function(){return r?o[r-=1]:t()},release:function(e){r===i&&(o=pooling.double(o),i*=2),n&&n(e),o[r]=e,r+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=function(){var e=pool_factory(4,(function(){return new ShapePath}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}));return e.clone=function(t){var n,a=e.newElement(),r=void 0===t._length?t.v.length:t._length;for(a.setLength(r),a.c=t.c,n=0;n<r;n+=1)a.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],n);return a},e}(),shapeCollection_pool=function(){var e={newShapeCollection:function(){return t?a[t-=1]:new ShapeCollection},release:function(e){var r,i=e._length;for(r=0;r<i;r+=1)shape_pool.release(e.shapes[r]);e._length=0,t===n&&(a=pooling.double(a),n*=2),a[t]=e,t+=1}},t=0,n=4,a=createSizedArray(n);return e}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezier_length_pool.release(e.lengths[t]);e.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var a=createNS("title"),r=createElementID();a.setAttribute("id",r),a.textContent=t.title,this.svgElement.appendChild(a),n+=r}if(t&&t.description){var i=createNS("desc"),o=createElementID();i.setAttribute("id",o),i.textContent=t.description,this.svgElement.appendChild(i),n+=" "+o}n&&this.svgElement.setAttribute("aria-labelledby",n);var s=createNS("defs");this.svgElement.appendChild(s);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var a,r=this.globalData.defs,i=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(i),this.solidPath="";var o,s,l,c,u,d,p,h=this.masksProperties,m=0,f=[],y=createElementID(),g="clipPath",v="clip-path";for(a=0;a<i;a++)if(("a"!==h[a].mode&&"n"!==h[a].mode||h[a].inv||100!==h[a].o.k||h[a].o.x)&&(g="mask",v="mask"),"s"!=h[a].mode&&"i"!=h[a].mode||0!==m?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),f.push(c)),o=createNS("path"),"n"!=h[a].mode){var b;if(m+=1,o.setAttribute("fill","s"===h[a].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==h[a].x.k?(g="mask",v="mask",p=PropertyFactory.getProp(this.element,h[a].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),u.appendChild(d),r.appendChild(u),o.setAttribute("stroke","s"===h[a].mode?"#000000":"#ffffff")):(d=null,p=null),this.storedData[a]={elem:o,x:p,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==h[a].mode){l=f.length;var E=createNS("g");for(s=0;s<l;s+=1)E.appendChild(f[s]);var O=createNS("mask");O.setAttribute("mask-type","alpha"),O.setAttribute("id",y+"_"+m),O.appendChild(o),r.appendChild(O),E.setAttribute("mask","url("+locationHref+"#"+y+"_"+m+")"),f.length=0,f.push(E)}else f.push(o);h[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,h[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[a],3),invRect:c},this.viewData[a].prop.k||this.drawPath(h[a],this.viewData[a].prop.v,this.viewData[a])}else this.viewData[a]={op:PropertyFactory.getProp(this.element,h[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[a],3),elem:o,lastPath:""},r.appendChild(o);for(this.maskElement=createNS(g),i=f.length,a=0;a<i;a+=1)this.maskElement.appendChild(f[a]);m>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+y+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var a=0,r=e.length;a<r;){if(e[a].mProps.dynamicProperties.length){this._isAnimated=!0;break}a+=1}}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,n,a=this.layers.length;for(this.completeLayers=!0,t=a-1;t>=0;t--)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e)}return this.createNull(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,n,a=e.length,r=this.layers.length;for(t=0;t<a;t+=1)for(n=0;n<r;){if(this.layers[n].id==e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var a=this.elements,r=this.layers,i=0,o=r.length;i<o;)r[i].ind==t&&(a[i]&&!0!==a[i]?(n.push(a[i]),a[i].setAsParent(),void 0!==r[i].parent?this.buildElementParenting(e,r[i].parent,n):e.setHierarchy(n)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var a=this.createComp(e[t]);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),a=createNS("rect");a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("x",0),a.setAttribute("y",0);var r=createElementID();n.setAttribute("id",r),n.appendChild(a),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);t[e]=n,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?n.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var a,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(a=this.elements[r].getBaseElement()),r+=1;a?this.layerElement.insertBefore(n,a):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,a=this.masksProperties.length;for(t=0;t<a;t++)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&(this.viewData[t].invRect.setAttribute("x",-n.props[12]),this.viewData[t].invRect.setAttribute("y",-n.props[13])),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var a,r,i=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,a=1;a<r;a+=1)i+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[a][0]+","+t.i[a][1]+" "+t.v[a][0]+","+t.v[a][1];if(t.c&&r>1&&(i+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==i){var o="";n.elem&&(t.c&&(o=e.inv?this.solidPath+i:i),n.elem.setAttribute("d",o)),n.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,a=this.dynamicProperties.length;for(n=0;n<a;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,a=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<a;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<a;n+=1)e=this.hierarchy[n].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n=!0,a=this.comp;n;)a.finalTransform?(a.data.hasMask&&t.splice(0,0,a.finalTransform),a=a.comp):n=!1;var r,i,o=t.length;for(r=0;r<o;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),a=createNS(1===t.t?"linearGradient":"radialGradient");a.setAttribute("id",n),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var r,i,o,s=[];for(o=4*t.g.p,i=0;i<o;i+=4)r=createNS("stop"),a.appendChild(r),s.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=a,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,a,r,i=createNS("mask"),o=createNS("path");i.appendChild(o);var s=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",s),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(a=4*e.g.p;a<r;a+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=c,this.ms=i,this.ost=u,this.maskId=l,t.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function a(n,a,r){var i,o,s,l,c,u,d,p,h,m,f,y=a.styles.length,g=a.lvl;for(u=0;u<y;u+=1){if(l=a.sh._mdf||r,a.styles[u].lvl<g){for(p=t.reset(),m=g-a.styles[u].lvl,f=a.transformers.length-1;!l&&m>0;)l=a.transformers[f].mProps._mdf||l,m--,f--;if(l)for(m=g-a.styles[u].lvl,f=a.transformers.length-1;m>0;)h=a.transformers[f].mProps.v.props,p.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),m--,f--}else p=e;if(o=(d=a.sh.paths)._length,l){for(s="",i=0;i<o;i+=1)(c=d.shapes[i])&&c._length&&(s+=buildShapeString(c,c._length,c.c,p));a.caches[u]=s}else s=a.caches[u];a.styles[u].d+=!0===n.hd?"":s,a.styles[u]._mdf=l||a.styles[u]._mdf}}function r(e,t,n){var a=t.style;(t.c._mdf||n)&&a.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&a.pElem.setAttribute("fill-opacity",t.o.v)}function i(e,t,n){o(e,t,n),s(e,t,n)}function o(e,t,n){var a,r,i,o,s,l=t.gf,c=t.g._hasOpacity,u=t.s.v,d=t.e.v;if(t.o._mdf||n){var p="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(p,t.o.v)}if(t.s._mdf||n){var h=1===e.t?"x1":"cx",m="x1"===h?"y1":"cy";l.setAttribute(h,u[0]),l.setAttribute(m,u[1]),c&&!t.g._collapsable&&(t.of.setAttribute(h,u[0]),t.of.setAttribute(m,u[1]))}if(t.g._cmdf||n){a=t.cst;var f=t.g.c;for(i=a.length,r=0;r<i;r+=1)(o=a[r]).setAttribute("offset",f[4*r]+"%"),o.setAttribute("stop-color","rgb("+f[4*r+1]+","+f[4*r+2]+","+f[4*r+3]+")")}if(c&&(t.g._omdf||n)){var y=t.g.o;for(i=(a=t.g._collapsable?t.cst:t.ost).length,r=0;r<i;r+=1)o=a[r],t.g._collapsable||o.setAttribute("offset",y[2*r]+"%"),o.setAttribute("stop-opacity",y[2*r+1])}if(1===e.t)(t.e._mdf||n)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||n)&&(s=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)),l.setAttribute("r",s),c&&!t.g._collapsable&&t.of.setAttribute("r",s)),t.e._mdf||t.h._mdf||t.a._mdf||n){s||(s=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)));var g=Math.atan2(d[1]-u[1],d[0]-u[0]),v=s*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),b=Math.cos(g+t.a.v)*v+u[0],E=Math.sin(g+t.a.v)*v+u[1];l.setAttribute("fx",b),l.setAttribute("fy",E),c&&!t.g._collapsable&&(t.of.setAttribute("fx",b),t.of.setAttribute("fy",E))}}function s(e,t,n){var a=t.style,r=t.d;r&&(r._mdf||n)&&r.dashStr&&(a.pElem.setAttribute("stroke-dasharray",r.dashStr),a.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||n)&&a.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&a.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(a.pElem.setAttribute("stroke-width",t.w.v),a.msElem&&a.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty,e.ty){case"fl":return r;case"gf":return o;case"gs":return i;case"st":return s;case"sh":case"el":case"rc":case"sr":return a;case"tr":return n}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function BaseElement(){}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,n){this.initElement(e,t,n)}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),e.appendChild(n),this.matrixFilter=n,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var a,r=createNS("feMerge");e.appendChild(r),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","f2"),r.appendChild(a)}}function SVGFillFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");e.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),this.matrixFilter=a;var r=createNS("feFuncR");r.setAttribute("type","table"),a.appendChild(r),this.feFuncR=r;var i=createNS("feFuncG");i.setAttribute("type","table"),a.appendChild(i),this.feFuncG=i;var o=createNS("feFuncB");o.setAttribute("type","table"),a.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(e,t){this.filterManager=t;var n=this.filterManager.effectElements,a=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),a=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}function SVGDropShadowEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,e.appendChild(n);var a=createNS("feOffset");a.setAttribute("dx","25"),a.setAttribute("dy","0"),a.setAttribute("in","drop_shadow_1"),a.setAttribute("result","drop_shadow_2"),this.feOffset=a,e.appendChild(a);var r=createNS("feFlood");r.setAttribute("flood-color","#00ff00"),r.setAttribute("flood-opacity","1"),r.setAttribute("result","drop_shadow_3"),this.feFlood=r,e.appendChild(r);var i=createNS("feComposite");i.setAttribute("in","drop_shadow_3"),i.setAttribute("in2","drop_shadow_2"),i.setAttribute("operator","in"),i.setAttribute("result","drop_shadow_4"),e.appendChild(i);var o,s=createNS("feMerge");e.appendChild(s),o=createNS("feMergeNode"),s.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(o)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,a="_";for(t=0;t<n;t+=1)a+=e[t].transform.key+"_";var r=this.sequences[a];return r||(r={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[a]=r,this.sequenceList.push(r)),r},processSequence:function(e,t){for(var n,a=0,r=e.transforms.length,i=t;a<r&&!t;){if(e.transforms[a].transform.mProps._mdf){i=!0;break}a+=1}if(i)for(e.finalTransform.reset(),a=r-1;a>=0;a-=1)n=e.transforms[a].transform.mProps.v.props,e.finalTransform.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);e._mdf=i},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return"_"+this.transform_key_count++}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,n,a=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),a=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),a=n,r.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type","alpha");var o=createNS("g");i.appendChild(o),e=createElementID(),t=filtersFactory.createFilter(e);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),t.appendChild(s);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),s.appendChild(l),this.globalData.defs.appendChild(t);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+e+")"),o.appendChild(c),o.appendChild(this.layerElement),a=o,featureSupport.maskType||(i.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),o.appendChild(c),n.appendChild(this.layerElement),a=n,o.appendChild(n)),this.globalData.defs.appendChild(i)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),d=createNS("path");d.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p=createElementID();if(u.setAttribute("id",p),u.appendChild(d),this.globalData.defs.appendChild(u),this.checkMasks()){var h=createNS("g");h.setAttribute("clip-path","url("+locationHref+"#"+p+")"),h.appendChild(this.layerElement),this.transformedElement=h,a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+p+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0;e-=1)this.shapeModifiers[e].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,a=t.length;n<a;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,a=n.length;a;)if(n[a-=1].elem===e)return void(n[a].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,a,r=t.length,i="";for(n=0;n<r;n+=1)a=t[n].ks.k,i+=buildShapeString(a,a.i.length,!0,e);return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,a,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(a,r,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=a-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,a=[],r="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(a.push(r),r=""):r+=e[t],t+=1;return a.push(r),a},SVGTextElement.prototype.buildNewText=function(){var e,t,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var a=this.globalData.fontManager.getFontByName(n.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var r=n.fWeight,i=n.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",n.t);var o,s=n.l||[],l=!!this.globalData.fontManager.chars;t=s.length;var c,u=this.mHelper,d="",p=this.data.singleShape,h=0,m=0,f=!0,y=n.tr/1e3*n.finalSize;if(!p||l||n.sz){var g,v,b=this.textSpans.length;for(e=0;e<t;e+=1)l&&p&&0!==e||(o=b>e?this.textSpans[e]:createNS(l?"path":"text"),b<=e&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),u.reset(),u.scale(n.finalSize/100,n.finalSize/100),p&&(s[e].n&&(h=-y,m+=n.yOffset,m+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(n,u,s[e].line,h,m),h+=s[e].l||0,h+=y),l?(c=(g=(v=this.globalData.fontManager.getCharData(n.finalText[e],a.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&v.data||{}).shapes?g.shapes[0].it:[],p?d+=this.createPathShape(u,c):o.setAttribute("d",this.createPathShape(u,c))):(p&&o.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),o.textContent=s[e].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&o&&o.setAttribute("d",d)}else{var E=this.textContainer,O="start";switch(n.j){case 1:O="end";break;case 2:O="middle"}E.setAttribute("text-anchor",O),E.setAttribute("letter-spacing",y);var k=this.buildTextContents(n.finalText);for(t=k.length,m=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(o=this.textSpans[e]||createNS("tspan")).textContent=k[e],o.setAttribute("x",0),o.setAttribute("y",m),o.style.display="inherit",E.appendChild(o),this.textSpans[e]=o,m+=n.finalLineHeight;this.layerElement.appendChild(E)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,a,r=this.textAnimator.renderedLetters,i=this.textProperty.currentData.l;for(t=i.length,e=0;e<t;e+=1)i[e].n||(n=r[e],a=this.textSpans[e],n._mdf.m&&a.setAttribute("transform",n.m),n._mdf.o&&a.setAttribute("opacity",n.o),n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n._mdf.sc&&a.setAttribute("stroke",n.sc),n._mdf.fc&&a.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,a,r=this.shapes.length,i=this.stylesList.length,o=[],s=!1;for(n=0;n<i;n+=1){for(a=this.stylesList[n],s=!1,o.length=0,e=0;e<r;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(a)&&(o.push(t),s=t._isAnimated||s);o.length>1&&s&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,a=new SVGStyleData(e,t),r=a.pElem;return"st"===e.ty?n=new SVGStrokeStyleData(this,e,a):"fl"===e.ty?n=new SVGFillStyleData(this,e,a):"gf"!==e.ty&&"gs"!==e.ty||(n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,a),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),r.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))),"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(a),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),a=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var a=4;"rc"===e.ty?a=5:"el"===e.ty?a=6:"sr"===e.ty&&(a=7);var r=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,a,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,a=this.animatedContents.length;n<a;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,a=this.stylesList.length;for(t=0;t<a;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,a,r,i,o){var s,l,c,u,d,p,h=[].concat(i),m=e.length-1,f=[],y=[];for(s=m;s>=0;s-=1){if((p=this.searchProcessedElement(e[s]))?t[s]=n[p-1]:e[s]._render=o,"fl"==e[s].ty||"st"==e[s].ty||"gf"==e[s].ty||"gs"==e[s].ty)p?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],r),e[s]._render&&a.appendChild(t[s].style.pElem),f.push(t[s].style);else if("gr"==e[s].ty){if(p)for(c=t[s].it.length,l=0;l<c;l+=1)t[s].prevViewData[l]=t[s].it[l];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,r+1,h,o),e[s]._render&&a.appendChild(t[s].gr)}else"tr"==e[s].ty?(p||(t[s]=this.createTransformElement(e[s],a)),u=t[s].transform,h.push(u)):"sh"==e[s].ty||"rc"==e[s].ty||"el"==e[s].ty||"sr"==e[s].ty?(p||(t[s]=this.createShapeElement(e[s],h,r)),this.setElementStyles(t[s])):"tm"==e[s].ty||"rd"==e[s].ty||"ms"==e[s].ty?(p?(d=t[s]).closed=!1:((d=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=d,this.shapeModifiers.push(d)),y.push(d)):"rp"==e[s].ty&&(p?(d=t[s]).closed=!0:(d=ShapeModifiers.getModifier(e[s].ty),t[s]=d,d.init(this,e,s,t),this.shapeModifiers.push(d),o=!1),y.push(d));this.addProcessedElement(e[s],s+1)}for(m=f.length,s=0;s<m;s+=1)f[s].closed=!0;for(m=y.length,s=0;s<m;s+=1)y[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+a+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,a=3==n?0:t,r=2==n?0:t;this.feGaussianBlur.setAttribute("stdDeviation",a+" "+r);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,a,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(a=this.elem.maskManager.masksProperties.length,n=0):a=1+(n=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<a;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),o=createElementID();i.setAttribute("id",o),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)s.appendChild(r[0]);this.elem.layerElement.appendChild(s),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,n,a,r=this.paths.length;for(t=0;t<r;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],a=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&a.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=a.getTotalLength();i="0 0 0 "+l*o+" ";var c,u=l*(s-o),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,p=Math.floor(u/d);for(c=0;c<p;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;a.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var h=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*h[0])+","+bm_floor(255*h[1])+","+bm_floor(255*h[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,r=a[0]+" "+n[0]+" "+t[0],i=a[1]+" "+n[1]+" "+t[1],o=a[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,a,r){for(var i,o,s=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),d=0,p=r-a,h=t-e;s<=256;)o=(i=s/256)<=l?h<0?r:a:i>=c?h<0?a:r:a+p*Math.pow((i-e)/h,1/n),u[d++]=o,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=n*Math.cos(a),i=n*Math.sin(a);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(e){var t,n,a=e.data.ef?e.data.ef.length:0,r=createElementID(),i=filtersFactory.createFilter(r),o=0;for(this.filters=[],t=0;t<a;t+=1)n=null,20===e.data.ef[t].ty?(o+=1,n=new SVGTintFilter(i,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(o+=1,n=new SVGFillFilter(i,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?n=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(o+=1,n=new SVGTritoneFilter(i,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(o+=1,n=new SVGProLevelsFilter(i,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(o+=1,n=new SVGDropShadowEffect(i,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?n=new SVGMatte3Effect(i,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(o+=1,n=new SVGGaussianBlurEffect(i,e.effectsManager.effectElements[t])),n&&this.filters.push(n);o&&(e.globalData.defs.appendChild(i),e.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&e.addRenderableComponent(this)}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var a,r=n.children,i=0,o=r.length;i<o&&r[i]!==e.layerElement;)i+=1;i<=o-2&&(a=r[i+1]);var s=createNS("use");s.setAttribute("href","#"+t),a?n.insertBefore(s,a):n.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),a=createNS("mask");a.setAttribute("id",t.layerId),a.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var r=e.globalData.defs;r.appendChild(a);var i=createNS("symbol");i.setAttribute("id",n),this.replaceInParent(t,n),i.appendChild(t.layerElement),r.appendChild(i);var o=createNS("use");o.setAttribute("href","#"+n),a.appendChild(o),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,a=t.length;n<a;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)};var animationManager=function(){var e={},t=[],n=0,a=0,r=0,i=!0,o=!1;function s(e){for(var n=0,r=e.target;n<a;)t[n].animation===r&&(t.splice(n,1),n-=1,a-=1,r.isPaused||u()),n+=1}function l(e,n){if(!e)return null;for(var r=0;r<a;){if(t[r].elem==e&&null!==t[r].elem)return t[r].animation;r+=1}var i=new AnimationItem;return d(i,e),i.setData(e,n),i}function c(){r+=1,m()}function u(){r-=1}function d(e,n){e.addEventListener("destroy",s),e.addEventListener("_active",c),e.addEventListener("_idle",u),t.push({elem:n,animation:e}),a+=1}function p(e){var s,l=e-n;for(s=0;s<a;s+=1)t[s].animation.advanceTime(l);n=e,r&&!o?window.requestAnimationFrame(p):i=!0}function h(e){n=e,window.requestAnimationFrame(p)}function m(){!o&&r&&i&&(window.requestAnimationFrame(h),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var r;for(r=0;r<a;r+=1)t[r].animation.setSpeed(e,n)},e.setDirection=function(e,n){var r;for(r=0;r<a;r+=1)t[r].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<a;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<a;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<a;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<a;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var a,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=r.length;for(a=0;a<i;a+=1)n&&r[a].setAttribute("data-bm-type",n),l(r[a],e);if(t&&0===i){n||(n="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",n),o.appendChild(s),l(s,e)}},e.resize=function(){var e;for(e=0;e<a;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,r){var i;for(i=0;i<a;i+=1)t[i].animation.goToAndStop(e,n,r)},e.destroy=function(e){var n;for(n=a-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){o=!0},e.unfreeze=function(){o=!1,m()},e.getRegisteredAnimations=function(){var e,n=t.length,a=[];for(e=0;e<n;e+=1)a.push(t[e].animation);return a},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||(!1===e.loop?this.loop=!1:!0===e.loop?this.loop=!0:this.loop=parseInt(e.loop)),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,e.animationData?this.configAnimation(e.animationData):e.path&&("json"!=e.path.substr(-4)&&("/"!=e.path.substr(-1,1)&&(e.path+="/"),e.path+="data.json"),-1!=e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){var n={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},a=e.attributes;n.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",n.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:"canvas";var r=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";""===r||(n.loop="false"!==r&&("true"===r||parseInt(r)));var i=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:!a.getNamedItem("bm-autoplay")||a.getNamedItem("bm-autoplay").value;n.autoplay="false"!==i,n.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"","false"===(a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,a=this.animationData.layers,r=a.length,i=e.layers,o=i.length;for(n=0;n<o;n+=1)for(t=0;t<r;){if(a[t].id==i[n].id){a[t]=i[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){this.renderer&&(this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.renderer.searchExtraCompositions(e.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.subframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(e,t,n){n&&this.name!=n||(t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,n){this.goToAndStop(e,t,n),this.play()},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0]){var n,a=e.length;for(n=0;n<a;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))};var Expressions=function(){var e={initExpressions:function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}}};return e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var n,a=e.length,r=[];for(n=0;n<a;n+=1)r[n]=-e[n];return r}return e.propType?e.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=typeof e,a=typeof t;if("string"===n||"string"===a)return e+t;if(isNumerable(n,e)&&isNumerable(a,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t))return(e=e.slice(0))[0]=e[0]+t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,i=e.length,o=t.length,s=[];r<i||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]+t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}var add=sum;function sub(e,t){var n=typeof e,a=typeof t;if(isNumerable(n,e)&&isNumerable(a,t))return"string"===n&&(e=parseInt(e)),"string"===a&&(t=parseInt(t)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t))return(e=e.slice(0))[0]=e[0]-t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,i=e.length,o=t.length,s=[];r<i||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]-t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}function mul(e,t){var n,a,r,i=typeof e,o=typeof t;if(isNumerable(i,e)&&isNumerable(o,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,n=createTypedArray("float32",r),a=0;a<r;a+=1)n[a]=e[a]*t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,n=createTypedArray("float32",r),a=0;a<r;a+=1)n[a]=e*t[a];return n}return 0}function div(e,t){var n,a,r,i=typeof e,o=typeof t;if(isNumerable(i,e)&&isNumerable(o,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,n=createTypedArray("float32",r),a=0;a<r;a+=1)n[a]=e[a]/t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,n=createTypedArray("float32",r),a=0;a<r;a+=1)n[a]=e/t[a];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var a=n;n=t,t=a}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var n,a=Math.min(e.length,t.length),r=0;for(n=0;n<a;n+=1)r+=Math.pow(t[n]-e[n],2);return Math.sqrt(r)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,a=e[0],r=e[1],i=e[2],o=Math.max(a,r,i),s=Math.min(a,r,i),l=(o+s)/2;if(o==s)t=n=0;else{var c=o-s;switch(n=l>.5?c/(2-o-s):c/(o+s),o){case a:t=(r-i)/c+(r<i?6:0);break;case r:t=(i-a)/c+2;break;case i:t=(a-r)/c+4}t/=6}return[t,n,l,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,a,r=e[0],i=e[1],o=e[2];if(0===i)t=n=a=o;else{var s=o<.5?o*(1+i):o+i-o*i,l=2*o-s;t=hue2rgb(l,s,r+1/3),n=hue2rgb(l,s,r),a=hue2rgb(l,s,r-1/3)}return[t,n,a,e[3]]}function linear(e,t,n,a,r){if(void 0!==a&&void 0!==r||(a=t,r=n,t=0,n=1),n<t){var i=n;n=t,t=i}if(e<=t)return a;if(e>=n)return r;var o=n===t?0:(e-t)/(n-t);if(!a.length)return a+(r-a)*o;var s,l=a.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=a[s]+(r[s]-a[s])*o;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,a=t.length;e||(e=createTypedArray("float32",a));var r=createTypedArray("float32",a),i=BMMath.random();for(n=0;n<a;n+=1)r[n]=e[n]+i*(t[n]-e[n]);return r}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,a){var r,i=e.length,o=shape_pool.newElement();o.setPathData(!!a,i);var s,l,c=[0,0];for(r=0;r<i;r+=1)s=t&&t[r]?t[r]:c,l=n&&n[r]?n[r]:c,o.setTripleAt(e[r][0],e[r][1],l[0]+e[r][0],l[1]+e[r][1],s[0]+e[r][0],s[1]+e[r][1],r,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var n,a,r=this.pv.length?this.pv.length:1,i=createTypedArray("float32",r),o=Math.floor(5*time);for(n=0,a=0;n<o;){for(a=0;a<r;a+=1)i[a]+=-t+2*t*BMMath.random();n+=1}var s=5*time,l=s-Math.floor(s),c=createTypedArray("float32",r);if(r>1){for(a=0;a<r;a+=1)c[a]=this.pv[a]+i[a]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],a=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,a,0]}function easeOut(e,t,n,a,r){return applyEase(easeOutBez,e,t,n,a,r)}function easeIn(e,t,n,a,r){return applyEase(easeInBez,e,t,n,a,r)}function ease(e,t,n,a,r){return applyEase(easeInOutBez,e,t,n,a,r)}function applyEase(e,t,n,a,r,i){void 0===r?(r=n,i=a):t=(t-n)/(a-n);var o=e(t=t>1?1:t<0?0:t);if($bm_isInstanceOfArray(r)){var s,l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=(i[s]-r[s])*o+r[s];return c}return(i-r)*o+r}function nearestKey(e){var t,n,a,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,a=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){n=t+1,a=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,a=data.k[t+1].t):(n=t+1,a=data.k[t].t);break}}-1===n&&(n=t+1,a=data.k[t].t)}else n=0,a=0;var i={};return i.index=n,i.time=a/elem.comp.globalData.frameRate,i}function key(e){var t,n,a;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var r=data.k[e].hasOwnProperty("s")?data.k[e].s:data.k[e-1].e;for(a=r.length,n=0;n<a;n+=1)t[n]=r[n],t.value[n]=r[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),a=0;if(t.length){var r;for(r=0;r<t.length;r+=1)a+=Math.pow(n[r]-t[r],2);a=100*Math.sqrt(a)}else a=0;return a},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,a=this.getValueAtTime(e),r=this.getValueAtTime(e+-.001);if(a.length)for(t=createTypedArray("float32",a.length),n=0;n<a.length;n+=1)t[n]=(r[n]-a[n])/-.001;else t=(r-a)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};!function(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var a,r,i,o,s,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?r=u-(a=t?Math.abs(u-elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),a=u-(r=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-r)/a)%2!=0)return this.getValueAtTime((a-(l-r)%a+r)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),h=this.getValueAtTime(((l-r)%a+r)/this.comp.globalData.frameRate,0),m=Math.floor((l-r)/a);if(this.pv.length){for(o=(s=new Array(d.length)).length,i=0;i<o;i+=1)s[i]=(p[i]-d[i])*m+h[i];return s}return(p-d)*m+h}if("continue"===e){var f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(f.length)).length,i=0;i<o;i+=1)s[i]=f[i]+(f[i]-y[i])*((l-u)/this.comp.globalData.frameRate)/5e-4;return s}return f+(l-u)/.001*(f-y)}}return this.getValueAtTime(((l-r)%a+r)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var a,r,i,o,s,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?r=u+(a=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>c.length-1)&&(t=c.length-1),a=(r=c[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/a)%2==0)return this.getValueAtTime(((u-l)%a+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),h=this.getValueAtTime((a-(u-l)%a+u)/this.comp.globalData.frameRate,0),m=Math.floor((u-l)/a)+1;if(this.pv.length){for(o=(s=new Array(d.length)).length,i=0;i<o;i+=1)s[i]=h[i]-(p[i]-d[i])*m;return s}return h-(p-d)*m}if("continue"===e){var f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(f.length)).length,i=0;i<o;i+=1)s[i]=f[i]+(f[i]-y[i])*(u-l)/.001;return s}return f+(f-y)*(u-l)/.001}}return this.getValueAtTime((a-(u-l)%a+u)/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,a,r=this.comp.renderedFrame/this.comp.globalData.frameRate,i=r-e,o=t>1?(r+e-i)/(t-1):1,s=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;s<t;){if(a=this.getValueAtTime(i+s*o),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=a[l];else n+=a;s+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=t;else n/=t;return n}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var r=a(e,t,n);return r.dynamicProperties.length?r.getValueAtTime=function(e){console.warn("Transform at time not supported")}.bind(r):r.getValueAtTime=function(e){}.bind(r),r.setGroupProperty=expressionHelpers.setGroupProperty,r};var r=PropertyFactory.getProp;PropertyFactory.getProp=function(a,i,o,s,l){var c=r(a,i,o,s,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(a,i,c),c.k&&l.addDynamicProperty(c),c};var i=ShapePropertyFactory.getConstructorFunction(),o=ShapePropertyFactory.getKeyframedConstructorFunction();function s(){}s.prototype={vertices:function(e,t){this.k&&this.getValue();var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var a,r=n._length,i=n[e],o=n.v,s=createSizedArray(r);for(a=0;a<r;a+=1)s[a]="i"===e||"o"===e?[i[a][0]-o[a][0],i[a][1]-o[a][1]]:[i[a][0],i[a][1]];return s},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var a,r=this._segmentsLength,i=r.lengths,o=r.totalLength*e,s=0,l=i.length,c=0;s<l;){if(c+i[s].addedLength>o){var u=s,d=n.c&&s===l-1?0:s+1,p=(o-c)/i[s].addedLength;a=bez.getPointInSegment(n.v[u],n.v[d],n.o[u],n.i[d],p,i[s]);break}c+=i[s].addedLength,s+=1}return a||(a=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),a},vectorOnPath:function(e,t,n){e=1==e?this.v.c?0:.999:e;var a=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),i=r[0]-a[0],o=r[1]-a[1],s=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));return 0===s?[0,0]:"tangent"===n?[i/s,o/s]:[-o/s,i/s]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([s],i),extendPrototype([s],o),o.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},o.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,a,r){var i=l(e,t,n,a,r);return i.propertyIndex=t.ix,i.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,i):4===n&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}(),TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var a={};return this.copyData(a,e),a.t=n.toString(),a.__complete=!1,a}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function e(e,d,p){var h,m=[],f=e?e.length:0;for(h=0;h<f;h+=1)"gr"==e[h].ty?m.push(t(e[h],d[h],p)):"fl"==e[h].ty?m.push(n(e[h],d[h],p)):"st"==e[h].ty?m.push(a(e[h],d[h],p)):"tm"==e[h].ty?m.push(r(e[h],d[h],p)):"tr"==e[h].ty||("el"==e[h].ty?m.push(i(e[h],d[h],p)):"sr"==e[h].ty?m.push(o(e[h],d[h],p)):"sh"==e[h].ty?m.push(u(e[h],d[h],p)):"rc"==e[h].ty?m.push(s(e[h],d[h],p)):"rd"==e[h].ty?m.push(l(e[h],d[h],p)):"rp"==e[h].ty&&m.push(c(e[h],d[h],p)));return m}function t(t,n,a){var r=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=function(e){return 1===e?r:a(e-1)};var i=function(t,n,a){var r,i=function(e){for(var t=0,n=r.length;t<n;){if(r[t]._name===e||r[t].mn===e||r[t].propertyIndex===e||r[t].ix===e||r[t].ind===e)return r[t];t+=1}if("number"==typeof e)return r[e-1]};return i.propertyGroup=function(e){return 1===e?i:a(e-1)},r=e(t.it,n.it,i.propertyGroup),i.numProperties=r.length,i.propertyIndex=t.cix,i._name=t.nm,i}(t,n,r.propertyGroup),o=function(e,t,n){function a(e){return 1==e?r:n(--e)}function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:void 0}return t.transform.mProps.o.setGroupProperty(a),t.transform.mProps.p.setGroupProperty(a),t.transform.mProps.a.setGroupProperty(a),t.transform.mProps.s.setGroupProperty(a),t.transform.mProps.r.setGroupProperty(a),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(a),t.transform.mProps.sa.setGroupProperty(a)),t.transform.op.setGroupProperty(a),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=n,r}(t.it[t.it.length-1],n.it[n.it.length-1],r.propertyGroup);return r.content=i,r.transform=o,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}function n(e,t,n){function a(e){return"Color"===e||"color"===e?a.color:"Opacity"===e||"opacity"===e?a.opacity:void 0}return Object.defineProperties(a,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),a}function a(e,t,n){function a(e){return 1===e?ob:n(e-1)}function r(e){return 1===e?l:a(e-1)}function i(n){Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var o,s=e.d?e.d.length:0,l={};for(o=0;o<s;o+=1)i(o),t.d.dataProps[o].p.setGroupProperty(r);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:void 0}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(a),t.o.setGroupProperty(a),t.w.setGroupProperty(a),c}function r(e,t,n){function a(e){return 1==e?r:n(--e)}function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:void 0}return r.propertyIndex=e.ix,t.s.setGroupProperty(a),t.e.setGroupProperty(a),t.o.setGroupProperty(a),r.propertyIndex=e.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function i(e,t,n){function a(e){return 1==e?i:n(--e)}i.propertyIndex=e.ix;var r="tm"===t.sh.ty?t.sh.prop:t.sh;function i(t){return e.p.ix===t?i.position:e.s.ix===t?i.size:void 0}return r.s.setGroupProperty(a),r.p.setGroupProperty(a),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(r.s)},position:{get:ExpressionPropertyInterface(r.p)},_name:{value:e.nm}}),i.mn=e.mn,i}function o(e,t,n){function a(e){return 1==e?i:n(--e)}var r="tm"===t.sh.ty?t.sh.prop:t.sh;function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.rotation:e.pt.ix===t?i.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?i.outerRadius:e.os.ix===t?i.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?i.innerRoundness:void 0:i.innerRadius}return i.propertyIndex=e.ix,r.or.setGroupProperty(a),r.os.setGroupProperty(a),r.pt.setGroupProperty(a),r.p.setGroupProperty(a),r.r.setGroupProperty(a),e.ir&&(r.ir.setGroupProperty(a),r.is.setGroupProperty(a)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(r.p)},rotation:{get:ExpressionPropertyInterface(r.r)},points:{get:ExpressionPropertyInterface(r.pt)},outerRadius:{get:ExpressionPropertyInterface(r.or)},outerRoundness:{get:ExpressionPropertyInterface(r.os)},innerRadius:{get:ExpressionPropertyInterface(r.ir)},innerRoundness:{get:ExpressionPropertyInterface(r.is)},_name:{value:e.nm}}),i.mn=e.mn,i}function s(e,t,n){function a(e){return 1==e?i:n(--e)}var r="tm"===t.sh.ty?t.sh.prop:t.sh;function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?i.size:void 0}return i.propertyIndex=e.ix,r.p.setGroupProperty(a),r.s.setGroupProperty(a),r.r.setGroupProperty(a),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(r.p)},roundness:{get:ExpressionPropertyInterface(r.r)},size:{get:ExpressionPropertyInterface(r.s)},_name:{value:e.nm}}),i.mn=e.mn,i}function l(e,t,n){var a=t;function r(t){if(e.r.ix===t||"Round Corners 1"===t)return r.radius}return r.propertyIndex=e.ix,a.rd.setGroupProperty((function(e){return 1==e?r:n(--e)})),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function c(e,t,n){function a(e){return 1==e?i:n(--e)}var r=t;function i(t){return e.c.ix===t||"Copies"===t?i.copies:e.o.ix===t||"Offset"===t?i.offset:void 0}return i.propertyIndex=e.ix,r.c.setGroupProperty(a),r.o.setGroupProperty(a),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(r.c)},offset:{get:ExpressionPropertyInterface(r.o)},_name:{value:e.nm}}),i.mn=e.mn,i}function u(e,t,n){var a=t.sh;function r(e){if("Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return r.path}return a.setGroupProperty((function(e){return 1==e?r:n(--e)})),Object.defineProperties(r,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn}}),r}return function(t,n,a){var r;function i(e){if("number"==typeof e)return r[e-1];for(var t=0,n=r.length;t<n;){if(r[t]._name===e)return r[t];t+=1}}return i.propertyGroup=a,r=e(t,n,i),i.numProperties=r.length,i}}(),TextExpressionInterface=function(e){var t;function n(){}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return void 0!==n&&(e.textProperty.currentData.t=void 0,(t=new String(n)).value=n||new String(n)),t}}),n},LayerExpressionInterface=function(){function e(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var a,r=this._elem.hierarchy.length;for(a=0;a<r;a+=1)this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(e[0],e[1],e[2]||0)}return n.applyToPointArray(e[0],e[1],e[2]||0)}function t(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var a,r=this._elem.hierarchy.length;for(a=0;a<r;a+=1)this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(e)}return n.inversePoint(e)}function n(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,a=this._elem.hierarchy.length;for(n=0;n<a;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function a(){return[1,1,1,1]}return function(r){var i;function o(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return i;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return o.effect}}o.toWorld=e,o.fromWorld=t,o.toComp=e,o.fromComp=n,o.sampleImage=a,o.sourceRectAtTime=r.sourceRectAtTime.bind(r),o._elem=r;var s=getDescriptor(i=TransformExpressionInterface(r.finalTransform.mProp),"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return r.hierarchy.length}},parent:{get:function(){return r.hierarchy[0].layerInterface}},rotation:getDescriptor(i,"rotation"),scale:getDescriptor(i,"scale"),position:getDescriptor(i,"position"),opacity:getDescriptor(i,"opacity"),anchorPoint:s,anchor_point:s,transform:{get:function(){return i}},active:{get:function(){return r.isInRange}}}),o.startTime=r.data.st,o.index=r.data.ind,o.source=r.data.refId,o.height=0===r.data.ty?r.data.h:100,o.width=0===r.data.ty?r.data.w:100,o.inPoint=r.data.ip/r.comp.globalData.frameRate,o.outPoint=r.data.op/r.comp.globalData.frameRate,o._name=r.data.nm,o.registerMaskInterface=function(e){o.mask=new MaskManagerInterface(e,r)},o.registerEffectsInterface=function(e){o.effect=e},o}}(),CompExpressionInterface=function(e){function t(t){for(var n=0,a=e.layers.length;n<a;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}if(Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p)var n=ExpressionPropertyInterface(e.p);return Object.defineProperty(t,"position",{get:function(){return e.p?n():[e.px.v,e.py.v,e.pz?e.pz.v:0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(n,a,r,i){var o,s=[],l=n.ef.length;for(o=0;o<l;o+=1)5===n.ef[o].ty?s.push(e(n.ef[o],a.effectElements[o],a.effectElements[o].propertyGroup,i)):s.push(t(a.effectElements[o],n.ef[o].ty,i,c));function c(e){return 1===e?u:r(e-1)}var u=function(e){for(var t=n.ef,a=0,r=t.length;a<r;){if(e===t[a].nm||e===t[a].mn||e===t[a].ix)return 5===t[a].ty?s[a]:s[a]();a+=1}return s[0]()};return u.propertyGroup=c,"ADBE Color Control"===n.mn&&Object.defineProperty(u,"color",{get:function(){return s[0]()}}),Object.defineProperty(u,"numProperties",{get:function(){return n.np}}),u.active=u.enabled=0!==n.en,u}function t(e,t,n,a){var r=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(a),function(){return 10===t?n.comp.compInterface(e.p.v):r()}}return{createEffectsInterface:function(t,n){if(t.effectsManager){var a,r=[],i=t.data.ef,o=t.effectsManager.effectElements.length;for(a=0;a<o;a+=1)r.push(e(i[a],t.effectsManager.effectElements[a],n,t));return function(e){for(var n=t.data.ef||[],a=0,i=n.length;a<i;){if(e===n[a].nm||e===n[a].mn||e===n[a].ix)return r[a];a+=1}}}}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t,n){var a,r=createSizedArray(t.viewData.length),i=t.viewData.length;for(a=0;a<i;a+=1)r[a]=new e(t.viewData[a],t.masksProperties[a]);return function(e){for(a=0;a<i;){if(t.masksProperties[a].nm===e)return r[a];a+=1}}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(a){if(e.numKeys){var r;r="s"in t.keyframes[a-1]?t.keyframes[a-1].s:"e"in t.keyframes[a-2]?t.keyframes[a-2].e:t.keyframes[a-2].s;var i="unidimensional"===n?new Number(r):Object.assign({},r);return i.time=t.keyframes[a-1].t/t.elem.comp.globalData.frameRate,i}return 0},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function a(){return e}return function(r){return r?"unidimensional"===r.propType?function(t){t&&"pv"in t||(t=e);var a=1/t.mult,r=t.pv*a,i=new Number(r);return i.value=r,n(i,t,"unidimensional"),function(){return t.k&&t.getValue(),r=t.v*a,i.value!==r&&((i=new Number(r)).value=r,n(i,t,"unidimensional")),i}}(r):function(e){e&&"pv"in e||(e=t);var a=1/e.mult,r=e.pv.length,i=createTypedArray("float32",r),o=createTypedArray("float32",r);return i.value=o,n(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<r;t+=1)i[t]=o[t]=e.v[t]*a;return i}}(r):a}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(e,t){var n=e.ef||[];this.effectElements=[];var a,r,i=n.length;for(a=0;a<i;a++)r=new GroupEffect(n[a],t),this.effectElements.push(r)}function GroupEffect(e,t){this.init(e,t)}TextExpressionSelectorProp=function(){function e(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}return function(t,n){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=n.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,n,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(e,t,n){return 1===t.t?new TextExpressionSelectorProp(e,t,n):propertyGetTextProp(e,t,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,a,r=this.data.ef.length,i=this.data.ef;for(n=0;n<r;n+=1){switch(a=null,i[n].ty){case 0:a=new SliderEffect(i[n],t,this);break;case 1:a=new AngleEffect(i[n],t,this);break;case 2:a=new ColorEffect(i[n],t,this);break;case 3:a=new PointEffect(i[n],t,this);break;case 4:case 7:a=new CheckboxEffect(i[n],t,this);break;case 10:a=new LayerIndexEffect(i[n],t,this);break;case 11:a=new MaskIndexEffect(i[n],t,this);break;case 5:a=new EffectsManager(i[n],t,this);break;default:a=new NoValueEffect(i[n],t,this)}a&&this.effectElements.push(a)}};var lottiejs={},_isFrozen=!1;function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}}lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.7";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs}))},{}],jFKs:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("lit-element").css`
* {
  box-sizing: border-box;
}

:host {
  --lottie-player-toolbar-height: 35px;
  --lottie-player-toolbar-background-color: transparent;
  --lottie-player-toolbar-icon-color: #999;
  --lottie-player-toolbar-icon-hover-color: #222;
  --lottie-player-toolbar-icon-active-color: #555;
  --lottie-player-seeker-track-color: #CCC;
  --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);

  display: block;
  width: 100%;
  height: 100%;
}

.main {
  box-sizing: border-box;
  display: inline-grid;
  grid-auto-columns: auto;
  grid-template-rows: auto;
  position: relative;
  height: inherit;
  width: inherit;
}

.main.controls {
  grid-template-rows: 1fr var(--lottie-player-toolbar-height);
}

.animation {
  overflow: hidden;
  height: calc(1fr - var(--lottie-player-toolbar-height));
}

.toolbar {
  display: grid;
  grid-template-columns: 32px 32px 1fr 32px 32px;
  align-items: center;
  justify-items: center;
  background-color: var(--lottie-player-toolbar-background-color);
}

.toolbar button {
  cursor: pointer;
  fill: var(--lottie-player-toolbar-icon-color);
  display: flex;
  background: none;
  border: 0;
  padding: 0;
  outline: none;
  height: 100%;
}

.toolbar button:hover {
  fill: var(--lottie-player-toolbar-icon-hover-color);
}

.toolbar button.active {
  fill: var(--lottie-player-toolbar-icon-active-color);
}

.toolbar button svg {
}

.toolbar button.disabled svg {
  display: none;
}

.toolbar a {
  filter: grayscale(100%);
  display: flex;
  transition: filter .5s, opacity 0.5s;
  opacity: 0.4;
  height: 100%;
  align-items: center;
}

.toolbar a:hover {
  filter: none;
  display: flex;
  opacity: 1;
}

.toolbar a svg {
}

.seeker {
  -webkit-appearance: none;
  width: 95%;
  outline: none;
}

.seeker::-webkit-slider-runnable-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  background: var(--lottie-player-seeker-track-color);
  border-radius: 3px;
}
.seeker::-webkit-slider-thumb {
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: var(--lottie-player-seeker-thumb-color);
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -5px;
}
.seeker:focus::-webkit-slider-runnable-track {
  background: #999;
}
.seeker::-moz-range-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  background: var(--lottie-player-seeker-track-color);
  border-radius: 3px;
}
.seeker::-moz-range-thumb {
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: var(--lottie-player-seeker-thumb-color);
  cursor: pointer;
}
.seeker::-ms-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.seeker::-ms-fill-lower {
  background: var(--lottie-player-seeker-track-color);
  border-radius: 3px;
}
.seeker::-ms-fill-upper {
  background: var(--lottie-player-seeker-track-color);
  border-radius: 3px;
}
.seeker::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: var(--lottie-player-seeker-thumb-color);
  cursor: pointer;
}
.seeker:focus::-ms-fill-lower {
  background: var(--lottie-player-seeker-track-color);
}
.seeker:focus::-ms-fill-upper {
  background: var(--lottie-player-seeker-track-color);
}

.error {
  display: flex;
  justify-content: center;
  height: 100%;
  align-items: center;
}
`;n.default=a},{"lit-element":"+bhx"}],M8c7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseSrc=u,n.LottiePlayer=n.PlayerEvents=n.PlayMode=n.PlayerState=void 0;var a=e("lit-element"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(e("lottie-web/build/player/lottie_svg")),i=function(e){return e&&e.__esModule?e:{default:e}}(e("./lottie-player.styles"));var o,s,l,c=function(e,t,n,a){var r,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};function u(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return new URL(e,window.location.href).toString()}}n.PlayerState=o,function(e){e.Loading="loading",e.Playing="playing",e.Paused="paused",e.Stopped="stopped",e.Frozen="frozen",e.Error="error"}(o||(n.PlayerState=o={})),n.PlayMode=s,function(e){e.Normal="normal",e.Bounce="bounce"}(s||(n.PlayMode=s={})),n.PlayerEvents=l,function(e){e.Load="load",e.Error="error",e.Ready="ready",e.Play="play",e.Pause="pause",e.Stop="stop",e.Freeze="freeze",e.Loop="loop",e.Complete="complete",e.Frame="frame"}(l||(n.PlayerEvents=l={}));let d=class extends a.LitElement{constructor(){super(...arguments),this.mode=s.Normal,this.autoplay=!1,this.background="transparent",this.controls=!1,this.direction=1,this.hover=!1,this.loop=!1,this.renderer="svg",this.speed=1,this.currentState=o.Loading,this.intermission=1,this._counter=0}_onVisibilityChange(){!0===document.hidden&&this.currentState===o.Playing?this.freeze():this.currentState===o.Frozen&&this.play()}_handleSeekChange(e){if(!this._lottie||isNaN(e.target.value))return;const t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}load(e){if(!this.shadowRoot)return;const t={container:this.container,loop:!1,autoplay:!1,renderer:this.renderer,rendererSettings:{scaleMode:"noScale",clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{const n=u(e),a="string"==typeof n?"path":"animationData";this._lottie&&this._lottie.destroy(),this._lottie=r.loadAnimation(Object.assign({},t,{[a]:n}))}catch(e){return this.currentState=o.Error,void this.dispatchEvent(new CustomEvent(l.Error))}this._lottie&&(this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(l.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{this.currentState===o.Playing?!this.loop||this.count&&this._counter>=this.count?this.dispatchEvent(new CustomEvent(l.Complete)):this.mode===s.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(l.Loop)),this.currentState===o.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(l.Loop)),this.currentState===o.Playing&&(this._lottie.stop(),this._lottie.play())},this.intermission)):this.dispatchEvent(new CustomEvent(l.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.dispatchEvent(new CustomEvent(l.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(l.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=o.Error,this.dispatchEvent(new CustomEvent(l.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==o.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===o.Playing&&this.stop()}),this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&this.play())}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=o.Playing,this.dispatchEvent(new CustomEvent(l.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=o.Paused,this.dispatchEvent(new CustomEvent(l.Pause)))}stop(){this._lottie&&(this._counter=0,this._lottie.stop(),this.currentState=o.Stopped,this.dispatchEvent(new CustomEvent(l.Stop)))}seek(e){if(!this._lottie)return;const t=e.toString().match(/^([0-9]+)(%?)$/);if(!t)return;const n="%"===t[2]?this._lottie.totalFrames*Number(t[1])/100:t[1];this.seeker=n,this.currentState===o.Playing?this._lottie.goToAndPlay(n,!0):(this._lottie.goToAndStop(n,!0),this._lottie.pause())}snapshot(e=!0){if(!this.shadowRoot)return;const t=this.shadowRoot.querySelector(".animation svg"),n=(new XMLSerializer).serializeToString(t);if(e){const e=document.createElement("a");e.href="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n),e.download="download_"+this.seeker+".svg",document.body.appendChild(e),e.click(),document.body.removeChild(e)}return n}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=o.Frozen,this.dispatchEvent(new CustomEvent(l.Freeze)))}setSpeed(e=1){this._lottie&&this._lottie.setSpeed(e)}setDirection(e){this._lottie&&this._lottie.setDirection(e)}setLooping(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}togglePlay(){return this.currentState===o.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}static get styles(){return i.default}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(e=>{e[0].isIntersecting?this.currentState===o.Frozen&&this.play():this.currentState===o.Playing&&this.freeze()}),this._io.observe(this.container)),void 0!==document.hidden&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src)}disconnectedCallback(){this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange())}renderControls(){const e=this.currentState===o.Playing,t=this.currentState===o.Paused,n=this.currentState===o.Stopped;return a.html`
      <div class="toolbar">
        <button @click=${this.togglePlay} class=${e||t?"active":""}>
          ${e?a.html`<svg width="24" height="24"><path d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"/></svg>`:a.html`<svg width="24" height="24"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg>`}
        </button>
        <button @click=${this.stop} class=${n?"active":""}>
          <svg width="24" height="24"><path d="M6 6h12v12H6V6z" /></svg>
        </button>
        <input class="seeker" type="range" min="0" step="1" max="100" .value=${this.seeker}
          @input=${this._handleSeekChange}
          @mousedown=${()=>{this._prevState=this.currentState,this.freeze()}}
          @mouseup=${()=>{this._prevState===o.Playing&&this.play()}}
        />
        <button @click=${this.toggleLooping} class=${this.loop?"active":""}>
          <svg width="24" height="24">
            <path d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"/>
          </svg>
        </button>
        <a href="https://www.lottiefiles.com/" target="_blank">
          <svg width="24" height="24" viewBox="0 0 320 320" fill-rule="nonzero"><rect fill="#adadad" x=".5" y=".5" width="100%" height="100%" rx="26.73"/><path d="M251.304 65.44a16.55 16.55 0 0 1 13.927 18.789c-1.333 9.04-9.73 15.292-18.762 13.954-15.992-2.37-39.95 22.534-66.77 73.74-34.24 65.37-66.113 96.517-99.667 94.032-9.102-.674-15.93-8.612-15.258-17.723s8.592-15.96 17.695-15.286c16.57 1.227 40.908-24.737 67.97-76.4 34.46-65.79 66.764-96.157 100.866-91.105z" fill="#fff"/></svg>
        </a>
      </div>
    `}render(){return a.html`
      <div class=${this.controls?"main controls":"main"}>
        <div class="animation" style=${"background:"+this.background}>
          ${this.currentState===o.Error?a.html`<div class="error">⚠️</div>`:void 0}
        </div>
        ${this.controls?this.renderControls():void 0}
      </div>`}};n.LottiePlayer=d,c([(0,a.query)(".animation")],d.prototype,"container",void 0),c([(0,a.property)()],d.prototype,"mode",void 0),c([(0,a.property)({type:Boolean})],d.prototype,"autoplay",void 0),c([(0,a.property)({type:String,reflect:!0})],d.prototype,"background",void 0),c([(0,a.property)({type:Boolean})],d.prototype,"controls",void 0),c([(0,a.property)({type:Number})],d.prototype,"count",void 0),c([(0,a.property)({type:Number})],d.prototype,"direction",void 0),c([(0,a.property)({type:Boolean})],d.prototype,"hover",void 0),c([(0,a.property)({type:Boolean,reflect:!0})],d.prototype,"loop",void 0),c([(0,a.property)({type:String})],d.prototype,"renderer",void 0),c([(0,a.property)({type:Number})],d.prototype,"speed",void 0),c([(0,a.property)({type:String})],d.prototype,"src",void 0),c([(0,a.property)({type:String})],d.prototype,"currentState",void 0),c([(0,a.property)()],d.prototype,"seeker",void 0),c([(0,a.property)()],d.prototype,"intermission",void 0),n.LottiePlayer=d=c([(0,a.customElement)("lottie-player")],d)},{"lit-element":"+bhx","lottie-web/build/player/lottie_svg":"aqmj","./lottie-player.styles":"jFKs"}]},{},["M8c7"])},1680:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1680},1684:function(e,t,n){"use strict";var a=n(26),r=n(1685).start;a({target:"String",proto:!0,forced:n(1686)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1685:function(e,t,n){var a=n(81),r=n(360),i=n(160),o=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(i(t)),d=u.length,p=void 0===s?" ":String(s),h=a(n);return h<=d||""==p?u:(l=h-d,(c=r.call(p,o(l/p.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},1686:function(e,t,n){var a=n(358);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(14),n(101),n(1625),n(1523),n(1563),n(1528);var a=n(657),r=n.n(a);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(t){var o=!1;for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];if("boolean"==typeof l)continue;if(Array.isArray(l)){if(o=i(e,l).length>0)break}else if("object"===r()(l)){if(o=n(l))break}else if(o=a(l.toString()))break}return o}function a(t){var n=new RegExp(e,"i");return t.match(n)&&t.match(n).length>0}return t.filter(n)}},1691:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i),s=n(41);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(9),y=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}(this,d(t).call(this,e)),m(h(h(n)),"handleClick",(function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)})),m(h(h(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),m(h(h(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),m(h(h(n)),"saveNode",(function(e){n.node=e}));var a=!1;return a="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:a},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,i=t.disabled,o=t.loadingIcon,s=t.checkedChildren,u=t.unCheckedChildren,d=c(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),p=this.state.checked,h=f((m(e={},n,!!n),m(e,a,!0),m(e,"".concat(a,"-checked"),p),m(e,"".concat(a,"-disabled"),i),e));return r.a.createElement("button",l({},d,{type:"button",role:"switch","aria-checked":p,disabled:i,className:h,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),o,r.a.createElement("span",{className:"".concat(a,"-inner")},p?s:u))}}])&&u(n.prototype,a),i&&u(n,i),t}(a.Component);y.propTypes={className:o.a.string,prefixCls:o.a.string,disabled:o.a.bool,checkedChildren:o.a.any,unCheckedChildren:o.a.any,onChange:o.a.func,onMouseUp:o.a.func,onClick:o.a.func,tabIndex:o.a.number,checked:o.a.bool,defaultChecked:o.a.bool,autoFocus:o.a.bool,loadingIcon:o.a.node},y.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(s.polyfill)(y),t.default=y},1692:function(e,t,n){"use strict";n(13),n(14),n(16),n(248),n(18),n(19),n(15),n(17);var a=n(6),r=n.n(a),i=n(1207),o=n.n(i),s=n(93),l=n.n(s),c=n(94),u=n.n(c),d=n(95),p=n.n(d),h=n(96),m=n.n(h),f=n(77),y=n.n(f),g=n(97),v=n.n(g),b=n(0),E=n.n(b),O=n(98),k=n.n(O),w=n(78),_=n(59),P=n(1541),S=n(1607),x=n(1551),C=n(1555),D=n(1615),M=n(1550),T=n(1752),A=n(1251),N=n(189);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"onDismiss",value:function(){var e=this.props.onDismiss;e&&e()}},{key:"onBreakpoint",value:function(e){this.props.setMobileView(e)}},{key:"onCollapse",value:function(e){this.props.sidebarToggle(!e)}},{key:"render",value:function(){var e=this.props,t=e.mobileView,n=e.sidebarOpen,a=e.token,r=e.accountExpired,i=e.mode;return!a||["account_balances","portal"].includes(i)||[!0,"true"].includes(r)?null:E.a.createElement(o.a.Sider,{className:"primary-nav",width:280,collapsed:!!t&&!n,collapsedWidth:0,collapsible:!0,trigger:t&&n?E.a.createElement("div",null):null,onBreakpoint:this.onBreakpoint,onCollapse:this.onCollapse,breakpoint:"lg"},E.a.createElement("div",{className:"d-flex flex-column h-100"},E.a.createElement("header",{className:"header"},E.a.createElement(S.a,{default:!0,background:"primary",main:!0},E.a.createElement("div",{className:"center part"},E.a.createElement("div",{className:"w-100 h-100"},E.a.createElement(P.a,{to:"/dashboard",className:"d-flex justify-content-center py-3 h-100 w-100"},E.a.createElement(A.a,{className:"d-block w-100 h-100"}),E.a.createElement(D.a,{level:2,hidden:!0,title:"Main Menu"})))),E.a.createElement("div",{className:"right part"},E.a.createElement(C.a,{onClick:this.props.onCloseClick},E.a.createElement(M.a,null))))),E.a.createElement("div",{className:"body position-relative flex-fill"},E.a.createElement("div",{className:"content"},E.a.createElement(x.a,null,E.a.createElement(T.a,null))))))}}]),t}(E.a.Component);t.a=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},e.portal)}),(function(e){return Object(_.b)({setMobileView:N.D,sidebarToggle:N.K},e)}))(I)},1693:function(e,t,n){var a=n(26),r=n(1627),i=n(258);a({target:"Array",proto:!0},{fill:r}),i("fill")},1695:function(e,t,n){"use strict";n(651);var a,r=n(26),i=n(47),o=n(1628),s=n(34),l=n(662),c=n(137),u=n(649),d=n(46),p=n(664),h=n(663),m=n(659).codeAt,f=n(1696),y=n(197),g=n(1697),v=n(161),b=s.URL,E=g.URLSearchParams,O=g.getState,k=v.set,w=v.getterFor("URL"),_=Math.floor,P=Math.pow,S=/[A-Za-z]/,x=/[\d+\-.A-Za-z]/,C=/\d/,D=/^(0x|0X)/,M=/^[0-7]+$/,T=/^\d+$/,A=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,I=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,R=function(e,t){var n,a,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=B(t.slice(1,-1))))return"Invalid host";e.host=n}else if(W(e)){if(t=f(t),N.test(t))return"Invalid host";if(null===(n=L(t)))return"Invalid host";e.host=n}else{if(j.test(t))return"Invalid host";for(n="",a=h(t),r=0;r<a.length;r++)n+=G(a[r],q);e.host=n}},L=function(e){var t,n,a,r,i,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],a=0;a<t;a++){if(""==(r=l[a]))return e;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=D.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)o=0;else{if(!(10==i?T:8==i?M:A).test(r))return e;o=parseInt(r,i)}n.push(o)}for(a=0;a<t;a++)if(o=n[a],a==t-1){if(o>=P(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),a=0;a<n.length;a++)s+=n[a]*P(256,3-a);return s},B=function(e){var t,n,a,r,i,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=n=0;n<4&&A.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,c>6)return;for(a=0;p();){if(r=null,a>0){if(!("."==p()&&a<4))return;d++}if(!C.test(p()))return;for(;C.test(p());){if(i=parseInt(p(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;d++}l[c]=256*l[c]+r,2!=++a&&4!=a||c++}if(4!=a)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},V=function(e){var t,n,a,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",a=function(e){for(var t=null,n=1,a=null,r=0,i=0;i<8;i++)0!==e[i]?(r>n&&(t=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n&&(t=a,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),a===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},z=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),U=p({},z,{"#":1,"?":1,"{":1,"}":1}),H=p({},U,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=m(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},W=function(e){return d(Y,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},$=function(e,t){var n;return 2==e.length&&S.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&$(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&$(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},ae={},re={},ie={},oe={},se={},le={},ce={},ue={},de={},pe={},he={},me={},fe={},ye={},ge={},ve={},be={},Ee={},Oe=function(e,t,n,r){var i,o,s,l,c,u=n||ee,p=0,m="",f=!1,y=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(I,"")),t=t.replace(F,""),i=h(t);p<=i.length;){switch(o=i[p],u){case ee:if(!o||!S.test(o)){if(n)return"Invalid scheme";u=ne;continue}m+=o.toLowerCase(),u=te;break;case te:if(o&&(x.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";m="",u=ne,p=0;continue}if(n&&(W(e)!=d(Y,m)||"file"==m&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,n)return void(W(e)&&Y[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?u=he:W(e)&&r&&r.scheme==e.scheme?u=ae:W(e)?u=se:"/"==i[p+1]?(u=re,p++):(e.cannotBeABaseURL=!0,e.path.push(""),u=ve)}break;case ne:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ee;break}u="file"==r.scheme?he:ie;continue;case ae:if("/"!=o||"/"!=i[p+1]){u=ie;continue}u=le,p++;break;case re:if("/"==o){u=ce;break}u=ge;continue;case ie:if(e.scheme=r.scheme,o==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&W(e))u=oe;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=ge;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ee}break;case oe:if(!W(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=ge;continue}u=ce}else u=le;break;case se:if(u=le,"/"!=o||"/"!=m.charAt(p+1))continue;p++;break;case le:if("/"!=o&&"\\"!=o){u=ce;continue}break;case ce:if("@"==o){f&&(m="%40"+m),f=!0,s=h(m);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||g){var E=G(b,H);g?e.password+=E:e.username+=E}else g=!0}m=""}else if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(f&&""==m)return"Invalid authority";p-=h(m).length+1,m="",u=ue}else m+=o;break;case ue:case de:if(n&&"file"==e.scheme){u=fe;continue}if(":"!=o||y){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(W(e)&&""==m)return"Invalid host";if(n&&""==m&&(X(e)||null!==e.port))return;if(l=R(e,m))return l;if(m="",u=ye,n)return;continue}"["==o?y=!0:"]"==o&&(y=!1),m+=o}else{if(""==m)return"Invalid host";if(l=R(e,m))return l;if(m="",u=pe,n==de)return}break;case pe:if(!C.test(o)){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)||n){if(""!=m){var O=parseInt(m,10);if(O>65535)return"Invalid port";e.port=W(e)&&O===Y[e.scheme]?null:O,m=""}if(n)return;u=ye;continue}return"Invalid port"}m+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)u=me;else{if(!r||"file"!=r.scheme){u=ge;continue}if(o==a)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=o){Z(i.slice(p).join(""))||(e.host=r.host,e.path=r.path.slice(),Q(e)),u=ge;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ee}}break;case me:if("/"==o||"\\"==o){u=fe;break}r&&"file"==r.scheme&&!Z(i.slice(p).join(""))&&($(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=ge;continue;case fe:if(o==a||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&$(m))u=ge;else if(""==m){if(e.host="",n)return;u=ye}else{if(l=R(e,m))return l;if("localhost"==e.host&&(e.host=""),n)return;m="",u=ye}continue}m+=o;break;case ye:if(W(e)){if(u=ge,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=a&&(u=ge,"/"!=o))continue}else e.fragment="",u=Ee;else e.query="",u=be;break;case ge:if(o==a||"/"==o||"\\"==o&&W(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=m).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Q(e),"/"==o||"\\"==o&&W(e)||e.path.push("")):J(m)?"/"==o||"\\"==o&&W(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&$(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==a||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=be):"#"==o&&(e.fragment="",u=Ee)}else m+=G(o,U);break;case ve:"?"==o?(e.query="",u=be):"#"==o?(e.fragment="",u=Ee):o!=a&&(e.path[0]+=G(o,q));break;case be:n||"#"!=o?o!=a&&("'"==o&&W(e)?e.query+="%27":e.query+="#"==o?"%23":G(o,q)):(e.fragment="",u=Ee);break;case Ee:o!=a&&(e.fragment+=G(o,z))}p++}},ke=function(e){var t,n,a=u(this,ke,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),s=k(a,{type:"URL"});if(void 0!==r)if(r instanceof ke)t=w(r);else if(n=Oe(t={},String(r)))throw TypeError(n);if(n=Oe(s,o,null,t))throw TypeError(n);var l=s.searchParams=new E,c=O(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},i||(a.href=_e.call(a),a.origin=Pe.call(a),a.protocol=Se.call(a),a.username=xe.call(a),a.password=Ce.call(a),a.host=De.call(a),a.hostname=Me.call(a),a.port=Te.call(a),a.pathname=Ae.call(a),a.search=Ne.call(a),a.searchParams=je.call(a),a.hash=Ie.call(a))},we=ke.prototype,_e=function(){var e=w(this),t=e.scheme,n=e.username,a=e.password,r=e.host,i=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",X(e)&&(c+=n+(a?":"+a:"")+"@"),c+=V(r),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Pe=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&W(e)?t+"://"+V(e.host)+(null!==n?":"+n:""):"null"},Se=function(){return w(this).scheme+":"},xe=function(){return w(this).username},Ce=function(){return w(this).password},De=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?V(t):V(t)+":"+n},Me=function(){var e=w(this).host;return null===e?"":V(e)},Te=function(){var e=w(this).port;return null===e?"":String(e)},Ae=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=w(this).query;return e?"?"+e:""},je=function(){return w(this).searchParams},Ie=function(){var e=w(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&l(we,{href:Fe(_e,(function(e){var t=w(this),n=String(e),a=Oe(t,n);if(a)throw TypeError(a);O(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Pe),protocol:Fe(Se,(function(e){var t=w(this);Oe(t,String(e)+":",ee)})),username:Fe(xe,(function(e){var t=w(this),n=h(String(e));if(!K(t)){t.username="";for(var a=0;a<n.length;a++)t.username+=G(n[a],H)}})),password:Fe(Ce,(function(e){var t=w(this),n=h(String(e));if(!K(t)){t.password="";for(var a=0;a<n.length;a++)t.password+=G(n[a],H)}})),host:Fe(De,(function(e){var t=w(this);t.cannotBeABaseURL||Oe(t,String(e),ue)})),hostname:Fe(Me,(function(e){var t=w(this);t.cannotBeABaseURL||Oe(t,String(e),de)})),port:Fe(Te,(function(e){var t=w(this);K(t)||(""==(e=String(e))?t.port=null:Oe(t,e,pe))})),pathname:Fe(Ae,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Oe(t,e+"",ye))})),search:Fe(Ne,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Oe(t,e,be)),O(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(je),hash:Fe(Ie,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Oe(t,e,Ee)):t.fragment=null}))}),c(we,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),c(we,"toString",(function(){return _e.call(this)}),{enumerable:!0}),b){var Re=b.createObjectURL,Le=b.revokeObjectURL;Re&&c(ke,"createObjectURL",(function(e){return Re.apply(b,arguments)})),Le&&c(ke,"revokeObjectURL",(function(e){return Le.apply(b,arguments)}))}y(ke,"URL"),r({global:!0,forced:!o,sham:!i},{URL:ke})},1696:function(e,t,n){"use strict";var a=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,n){var a=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;a+=36)e=o(e/35);return o(a+36*e/(e+38))},u=function(e){var t,n,a=[],r=(e=function(e){for(var t=[],n=0,a=e.length;n<a;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<a){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,u=128,d=0,p=72;for(t=0;t<e.length;t++)(n=e[t])<128&&a.push(s(n));var h=a.length,m=h;for(h&&a.push("-");m<r;){var f=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<f&&(f=n);var y=m+1;if(f-u>o((2147483647-d)/y))throw RangeError(i);for(d+=(f-u)*y,u=f,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(i);if(n==u){for(var g=d,v=36;;v+=36){var b=v<=p?1:v>=p+26?26:v-p;if(g<b)break;var E=g-b,O=36-b;a.push(s(l(b+E%O))),g=o(E/O)}a.push(s(l(g))),p=c(d,y,m==h),d=0,++m}}++d,++u}return a.join("")};e.exports=function(e){var t,n,i=[],o=e.toLowerCase().replace(r,".").split(".");for(t=0;t<o.length;t++)n=o[t],i.push(a.test(n)?"xn--"+u(n):n);return i.join(".")}},1697:function(e,t,n){"use strict";n(193);var a=n(26),r=n(141),i=n(1628),o=n(137),s=n(660),l=n(197),c=n(665),u=n(161),d=n(649),p=n(46),h=n(199),m=n(353),f=n(67),y=n(44),g=n(255),v=n(162),b=n(1698),E=n(352),O=n(31),k=r("fetch"),w=r("Headers"),_=O("iterator"),P=u.set,S=u.getterFor("URLSearchParams"),x=u.getterFor("URLSearchParamsIterator"),C=/\+/g,D=Array(4),M=function(e){return D[e-1]||(D[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},T=function(e){try{return decodeURIComponent(e)}catch(t){return e}},A=function(e){var t=e.replace(C," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(M(n--),T);return t}},N=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(e){return j[e]},F=function(e){return encodeURIComponent(e).replace(N,I)},R=function(e,t){if(t)for(var n,a,r=t.split("&"),i=0;i<r.length;)(n=r[i++]).length&&(a=n.split("="),e.push({key:A(a.shift()),value:A(a.join("="))}))},L=function(e){this.entries.length=0,R(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){P(this,{type:"URLSearchParamsIterator",iterator:b(S(e).entries),kind:t})}),"Iterator",(function(){var e=x(this),t=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value="keys"===t?a.key:"values"===t?a.value:[a.key,a.value]),n})),q=function(){d(this,q,"URLSearchParams");var e,t,n,a,r,i,o,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,h=[];if(P(u,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:L}),void 0!==c)if(y(c))if("function"==typeof(e=E(c)))for(n=(t=e.call(c)).next;!(a=n.call(t)).done;){if((o=(i=(r=b(f(a.value))).next).call(r)).done||(s=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(l in c)p(c,l)&&h.push({key:l,value:c[l]+""});else R(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=q.prototype;s(z,{append:function(e,t){B(arguments.length,2);var n=S(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){B(arguments.length,1);for(var t=S(this),n=t.entries,a=e+"",r=0;r<n.length;)n[r].key===a?n.splice(r,1):r++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=S(this).entries,n=e+"",a=0;a<t.length;a++)if(t[a].key===n)return t[a].value;return null},getAll:function(e){B(arguments.length,1);for(var t=S(this).entries,n=e+"",a=[],r=0;r<t.length;r++)t[r].key===n&&a.push(t[r].value);return a},has:function(e){B(arguments.length,1);for(var t=S(this).entries,n=e+"",a=0;a<t.length;)if(t[a++].key===n)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var n,a=S(this),r=a.entries,i=!1,o=e+"",s=t+"",l=0;l<r.length;l++)(n=r[l]).key===o&&(i?r.splice(l--,1):(i=!0,n.value=s));i||r.push({key:o,value:s}),a.updateURL()},sort:function(){var e,t,n,a=S(this),r=a.entries,i=r.slice();for(r.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}a.updateURL()},forEach:function(e){for(var t,n=S(this).entries,a=h(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)a((t=n[r++]).value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(z,_,z.entries),o(z,"toString",(function(){for(var e,t=S(this).entries,n=[],a=0;a<t.length;)e=t[a++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),l(q,"URLSearchParams"),a({global:!0,forced:!i},{URLSearchParams:q}),i||"function"!=typeof k||"function"!=typeof w||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,a,r=[e];return arguments.length>1&&(t=arguments[1],y(t)&&(n=t.body,"URLSearchParams"===m(n)&&((a=t.headers?new w(t.headers):new w).has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(n)),headers:v(0,a)}))),r.push(t)),k.apply(this,r)}}),e.exports={URLSearchParams:q,getState:S}},1698:function(e,t,n){var a=n(67),r=n(352);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},1700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTML5DragTransition",{enumerable:!0,get:function(){return r.HTML5DragTransition}}),Object.defineProperty(t,"TouchTransition",{enumerable:!0,get:function(){return r.TouchTransition}}),Object.defineProperty(t,"MouseTransition",{enumerable:!0,get:function(){return r.MouseTransition}}),Object.defineProperty(t,"createTransition",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MultiBackend",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PreviewManager",{enumerable:!0,get:function(){return o.PreviewManager}}),t.default=void 0;var a,r=n(1954),i=(a=n(1768))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1955));t.default=function(e){return e.getMonitor?new o.default(e):function(t){return new o.default(t,e)}}},1701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1769);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return l(a).default}});var r=n(1973);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return l(r).default}});var i=n(1974);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return l(i).default}});var o=n(1975);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return l(o).default}});var s=n(1985);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return l(s).default}})},1702:function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var h=o(n);s&&(h=h.concat(s(n)));for(var m=0;m<h.length;++m){var f=h[m];if(!(a[f]||r[f]||d&&d[f])){var y=l(n,f);try{i(t,f,y)}catch(e){}}}return t}return t}},1703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},1704:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"==typeof e.dispose)},e.exports=t.default},1705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},1707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1668));t.isEventFromHandle=function(e,t){try{return Object.keys(t).some((function(n){return e.target===(0,r.findDOMNode)(t[n])}))}catch(e){return!1}},t.isValueOutOfRange=function(e,t){var n=t.min,a=t.max;return e<n||e>a},t.isNotTouchEvent=function(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0},t.getClosestPoint=s,t.getPrecision=l,t.getMousePosition=function(e,t){return e?t.clientY:t.pageX},t.getTouchPosition=function(e,t){return e?t.touches[0].clientY:t.touches[0].pageX},t.getHandleCenterPosition=function(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width},t.ensureValueInRange=function(e,t){var n=t.max,a=t.min;if(e<=a)return a;if(e>=n)return n;return e},t.ensureValuePrecision=function(e,t){var n=t.step,a=isFinite(s(e,t))?s(e,t):0;return null===n?a:parseFloat(a.toFixed(l(n)))},t.pauseEvent=function(e){e.stopPropagation(),e.preventDefault()},t.calculateNextValue=c,t.getKeyboardValueMutator=function(e,t,n){var a="increase";switch(e.keyCode){case i.default.UP:a=t&&n?"decrease":"increase";break;case i.default.RIGHT:a=!t&&n?"decrease":"increase";break;case i.default.DOWN:a=t&&n?"increase":"decrease";break;case i.default.LEFT:a=!t&&n?"increase":"decrease";break;case i.default.END:return function(e,t){return t.max};case i.default.HOME:return function(e,t){return t.min};case i.default.PAGE_UP:return function(e,t){return e+2*t.step};case i.default.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return c(a,e,t)}};var r=n(79),i=o(n(1614));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=t.marks,r=t.step,i=t.min,o=t.max,s=Object.keys(n).map(parseFloat);if(null!==r){var l=Math.floor((o-i)/r),c=Math.min((e-i)/r,l),u=Math.round(c)*r+i;s.push(u)}var d=s.map((function(t){return Math.abs(e-t)}));return s[d.indexOf(Math.min.apply(Math,(0,a.default)(d)))]}function l(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function c(e,t,n){var a={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},r=a[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),i=Object.keys(n.marks)[r];return n.step?a[e](t,n.step):Object.keys(n.marks).length&&n.marks[i]?n.marks[i]:t}},1710:function(e,t,n){},1712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1659)),r=l(n(1660)),i=l(n(1661)),o=l(n(1795)),s=l(n(1713));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function e(t){if((0,a.default)(t))return Number(t);if((0,r.default)(t))return(0,i.default)(t);if((0,o.default)(t)){var n=(0,s.default)(t);return Array.isArray(t)?t.map((function(t,n){return[0,1].includes(n)?e(t):t})):function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},n.latitude&&u({},n.latitude,e(t[n.latitude])),{},n.longitude&&u({},n.longitude,e(t[n.longitude])))}return Array.isArray(t)?t.map((function(t){return(0,o.default)(t)?e(t):t})):t};t.default=d},1713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=n(1562),i=(a=n(1658))&&a.__esModule?a:{default:a};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:r.longitudeKeys,latitude:r.latitudeKeys,altitude:r.altitudeKeys},n=(0,i.default)(e,t.longitude),a=(0,i.default)(e,t.latitude),o=(0,i.default)(e,t.altitude);return s({latitude:a,longitude:n},o?{altitude:o}:{})};t.default=c},1767:function(e,t,n){"use strict";var a=n(26),r=n(204),i=[].reverse,o=[1,2];a({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i.call(this)}})},1768:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){return{_isMBTransition:!0,event:e,check:t}}},1769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){p.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=b(e),n=v(t);return function(e){var t,i,l=e.displayName||e.name||"Component",c=(i=t=function(t){function i(){return m(this,i),f(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return y(i,t),r(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,u.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,a({},this.props,{ref:function(e){t.child=e}}))}}]),i}(o.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+l+")",t.childContextTypes=g,i);return(0,d.default)(c,e)}};var o=n(0),s=h(o),l=h(n(8)),c=n(1959),u=h(n(82)),d=h(n(1702)),p=h(n(1653));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=t.CHILD_CONTEXT_TYPES={dragDropManager:l.default.object.isRequired},v=t.createChildContext=function(e,t){return{dragDropManager:new c.DragDropManager(e,t)}},b=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===(void 0===t?"undefined":i(t))&&"function"==typeof t.default&&(t=t.default),(0,u.default)("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},1770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case r.HOVER:return o(e.clientOffset,t.clientOffset)?e:a({},e,{clientOffset:t.clientOffset});case r.END_DRAG:case r.DROP:return i;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,a=e.initialSourceClientOffset;if(!t||!n||!a)return null;return{x:t.x+a.x-n.x,y:t.y+a.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var r=n(1651),i={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function o(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}},1771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e)?e.some((function(e){return e===t})):e===t};var a,r=n(36),i=(a=r)&&a.__esModule?a:{default:a}},1772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case i.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return l;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return c}var n=e.targetIds,r=t.targetIds,s=(0,a.default)(n,r),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==r[d]){u=!0;break}}else u=!0;if(!u)return l;var p=r[r.length-1],h=n[n.length-1];p!==h&&(p&&s.push(p),h&&s.push(h));return s},t.areDirty=function(e,t){if(e===l)return!1;if(e===c||void 0===t)return!0;return(0,r.default)(t,e).length>0};var a=s(n(1451)),r=s(n(1258)),i=n(1651),o=n(1652);function s(e){return e&&e.__esModule?e:{default:e}}var l=[],c=[]},1773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":a(e))||null===e||"object"!==(void 0===t?"undefined":a(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!i.call(t,n[o]))return!1;var s=e[n[o]],l=t[n[o]];if(s!==l||"object"===(void 0===s?"undefined":a(s))||"object"===(void 0===l?"undefined":a(l)))return!1}return!0}},1774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t,n,m=e.DecoratedComponent,y=e.createHandler,g=e.createMonitor,v=e.createConnector,b=e.registerHandler,E=e.containerDisplayName,O=e.getType,k=e.collect,w=e.options.arePropsEqual,_=void 0===w?h.default:w,P=m.displayName||m.name||"Component",S=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.handleChange=a.handleChange.bind(a),a.handleChildRef=a.handleChildRef.bind(a),(0,u.default)("object"===r(a.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",P,P),a.manager=a.context.dragDropManager,a.handlerMonitor=g(a.manager),a.handlerConnector=v(a.manager.getBackend()),a.handler=y(a.handlerMonitor),a.disposable=new c.SerialDisposable,a.receiveProps(e),a.state=a.getCurrentState(),a.dispose(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!_(e,this.props)||!(0,p.default)(t,this.state)}}]),i(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new c.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){_(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(O(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=b(e,this.handler,this.manager),n=t.handlerId,a=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(r),new c.Disposable(a)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){return k(this.handlerConnector.hooks,this.handlerMonitor)}},{key:"render",value:function(){return s.default.createElement(m,a({},this.props,this.state,{ref:f(m)?this.handleChildRef:null}))}}]),t}(o.Component),t.DecoratedComponent=m,t.displayName=E+"("+P+")",t.contextTypes={dragDropManager:l.default.object.isRequired},n);return(0,d.default)(S,m)};var o=n(0),s=m(o),l=m(n(8)),c=n(1976),u=(m(n(252)),m(n(82))),d=m(n(1702)),p=m(n(1703)),h=m(n(1773));function m(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)}},1775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,r.isValidElement)(t)){var a=t;s(a);var i=n?function(t){return e(t,n)}:e;return(0,o.default)(a,i)}var l=t;e(l,n)}}(e[n]);t[n]=function(){return a}})),t};var a,r=n(0),i=n(1984),o=(a=i)&&a.__esModule?a:{default:a};function s(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}},1776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,i.default)(t,e)};var a,r=n(1703),i=(a=r)&&a.__esModule?a:{default:a}},1777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"==typeof t||"symbol"===(void 0===t?"undefined":a(t))||n&&(0,o.default)(t)&&t.every((function(t){return e(t,!1)}))};var r,i=n(36),o=(r=i)&&r.__esModule?r:{default:r}},1778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var a,r=n(676),i=(a=r)&&a.__esModule?a:{default:a};t.isFirefox=(0,i.default)((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=(0,i.default)((function(){return Boolean(window.safari)}))},1779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(102)),r=o(n(116)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n,o=e.className,s=e.included,l=e.vertical,c=e.offset,u=e.length,d=e.style,p=e.reverse,h=l?(t={},(0,r.default)(t,p?"top":"bottom",c+"%"),(0,r.default)(t,p?"bottom":"top","auto"),(0,r.default)(t,"height",u+"%"),t):(n={},(0,r.default)(n,p?"right":"left",c+"%"),(0,r.default)(n,p?"left":"right","auto"),(0,r.default)(n,"width",u+"%"),n),m=(0,a.default)({},d,h);return s?i.default.createElement("div",{className:o,style:m}):null},e.exports=t.default},1780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(349)),r=E(n(102)),i=E(n(116)),o=E(n(192)),s=E(n(194)),l=E(n(344)),c=E(n(2002)),u=E(n(345));t.default=function(e){var t,n;return n=t=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,a=b.getMousePosition(t,e);if(b.isEventFromHandle(e,n.handlesRefs)){var r=b.getHandleCenterPosition(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(a),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!b.isNotTouchEvent(e)){var t=n.props.vertical,a=b.getTouchPosition(t,e);if(b.isEventFromHandle(e,n.handlesRefs)){var r=b.getHandleCenterPosition(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.onStart(a),n.addDocumentTouchEvents(),b.pauseEvent(e)}},n.onFocus=function(e){var t=n.props,a=t.onFocus,r=t.vertical;if(b.isEventFromHandle(e,n.handlesRefs)){var i=b.getHandleCenterPosition(r,e.target);n.dragOffset=0,n.onStart(i),b.pauseEvent(e),a&&a(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.onEnd(),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=b.getMousePosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!b.isNotTouchEvent(e)&&n.sliderRef){var t=b.getTouchPosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&b.isEventFromHandle(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t}),n.setState({value:t},(function(){return n.onEnd(!0)}))},n.saveSlider=function(e){n.sliderRef=e};var a=e.step,r=e.max,i=e.min,s=!isFinite(r-i)||(r-i)%a==0;return(0,f.default)(!a||Math.floor(a)!==a||s,"Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)",r-i,a),n.handlesRefs={},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,a=t.reverse,r=e.getBoundingClientRect();return n?a?r.bottom:r.top:window.pageXOffset+(a?r.right:r.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=(0,h.default)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=(0,h.default)(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=(0,h.default)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=(0,h.default)(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,a=t.min,r=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(r-a)+a:i*(r-a)+a}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,a=n.prefixCls,o=n.className,s=n.marks,l=n.dots,u=n.step,p=n.included,h=n.disabled,f=n.vertical,v=n.reverse,b=n.min,E=n.max,k=n.children,w=n.maximumTrackStyle,_=n.style,P=n.railStyle,S=n.dotStyle,x=n.activeDotStyle,C=(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),D=C.tracks,M=C.handles,T=(0,m.default)(a,(e={},(0,i.default)(e,a+"-with-marks",Object.keys(s).length),(0,i.default)(e,a+"-disabled",h),(0,i.default)(e,a+"-vertical",f),(0,i.default)(e,o,o),e));return d.default.createElement("div",{ref:this.saveSlider,className:T,onTouchStart:h?O:this.onTouchStart,onMouseDown:h?O:this.onMouseDown,onMouseUp:h?O:this.onMouseUp,onKeyDown:h?O:this.onKeyDown,onFocus:h?O:this.onFocus,onBlur:h?O:this.onBlur,style:_},d.default.createElement("div",{className:a+"-rail",style:(0,r.default)({},w,P)}),D,d.default.createElement(y.default,{prefixCls:a,vertical:f,reverse:v,marks:s,dots:l,step:u,included:p,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:E,min:b,dotStyle:S,activeDotStyle:x}),M,d.default.createElement(g.default,{className:a+"-mark",onClickLabel:h?O:this.onClickMarkLabel,vertical:f,marks:s,included:p,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:E,min:b,reverse:v}),k)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=(0,r.default)({},e.propTypes,{min:p.default.number,max:p.default.number,step:p.default.number,marks:p.default.object,included:p.default.bool,className:p.default.string,prefixCls:p.default.string,disabled:p.default.bool,children:p.default.any,onBeforeChange:p.default.func,onChange:p.default.func,onAfterChange:p.default.func,handle:p.default.func,dots:p.default.bool,vertical:p.default.bool,style:p.default.object,reverse:p.default.bool,minimumTrackStyle:p.default.object,maximumTrackStyle:p.default.object,handleStyle:p.default.oneOfType([p.default.object,p.default.arrayOf(p.default.object)]),trackStyle:p.default.oneOfType([p.default.object,p.default.arrayOf(p.default.object)]),railStyle:p.default.object,dotStyle:p.default.object,activeDotStyle:p.default.object,autoFocus:p.default.bool,onFocus:p.default.func,onBlur:p.default.func}),t.defaultProps=(0,r.default)({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=(0,a.default)(e,["index"]);return delete n.dragging,null===n.value?null:d.default.createElement(v.default,(0,r.default)({},n,{key:t}))},onBeforeChange:O,onChange:O,onAfterChange:O,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n};var d=E(n(0)),p=E(n(8)),h=E(n(1219)),m=E(n(9)),f=E(n(1599)),y=E(n(2009)),g=E(n(2010)),v=E(n(1267)),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1707));function E(e){return e&&e.__esModule?e:{default:e}}function O(){}e.exports=t.default},1781:function(e,t,n){var a=n(142),r=n(103),i=n(167);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),a(a.S+a.F*i((function(){n(1)})),"Object",o)}},1783:function(e,t,n){"use strict";var a=n(26),r=n(1672);a({target:"String",proto:!0,forced:n(1673)("link")},{link:function(e){return r(this,"a","href",e)}})},1785:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},1786:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},1787:function(e,t,n){var a=n(1788);function r(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var a=0;a<e.length-n;a++)this.num[a]=e[a+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=a.gexp(a.glog(this.get(n))+a.glog(e.get(i)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=a.glog(this.get(0))-a.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=a.gexp(a.glog(e.get(i))+t);return new r(n,0).mod(e)}},e.exports=r},1788:function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)n.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)n.EXP_TABLE[a]=n.EXP_TABLE[a-4]^n.EXP_TABLE[a-5]^n.EXP_TABLE[a-6]^n.EXP_TABLE[a-8];for(a=0;a<255;a++)n.LOG_TABLE[n.EXP_TABLE[a]]=a;e.exports=n},1790:function(e,t,n){"use strict";var a=n(34),r=n(47),i=n(1791),o=n(84),s=n(660),l=n(39),c=n(649),u=n(117),d=n(81),p=n(1792),h=n(2034),m=n(359),f=n(655),y=n(254).f,g=n(52).f,v=n(1627),b=n(197),E=n(161),O=E.get,k=E.set,w=a.ArrayBuffer,_=w,P=a.DataView,S=P&&P.prototype,x=Object.prototype,C=a.RangeError,D=h.pack,M=h.unpack,T=function(e){return[255&e]},A=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},j=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},I=function(e){return D(e,23,4)},F=function(e){return D(e,52,8)},R=function(e,t){g(e.prototype,t,{get:function(){return O(this)[t]}})},L=function(e,t,n,a){var r=p(n),i=O(e);if(r+t>i.byteLength)throw C("Wrong index");var o=O(i.buffer).bytes,s=r+i.byteOffset,l=o.slice(s,s+t);return a?l:l.reverse()},B=function(e,t,n,a,r,i){var o=p(n),s=O(e);if(o+t>s.byteLength)throw C("Wrong index");for(var l=O(s.buffer).bytes,c=o+s.byteOffset,u=a(+r),d=0;d<t;d++)l[c+d]=u[i?d:t-d-1]};if(i){if(!l((function(){w(1)}))||!l((function(){new w(-1)}))||l((function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name}))){for(var V,q=(_=function(e){return c(this,_),new w(p(e))}).prototype=w.prototype,z=y(w),U=0;z.length>U;)(V=z[U++])in _||o(_,V,w[V]);q.constructor=_}f&&m(S)!==x&&f(S,x);var H=new P(new _(2)),G=S.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(S,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},{unsafe:!0})}else _=function(e){c(this,_,"ArrayBuffer");var t=p(e);k(this,{bytes:v.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},P=function(e,t,n){c(this,P,"DataView"),c(e,_,"DataView");var a=O(e).byteLength,i=u(t);if(i<0||i>a)throw C("Wrong offset");if(i+(n=void 0===n?a-i:d(n))>a)throw C("Wrong length");k(this,{buffer:e,byteLength:n,byteOffset:i}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},r&&(R(_,"byteLength"),R(P,"buffer"),R(P,"byteLength"),R(P,"byteOffset")),s(P.prototype,{getInt8:function(e){return L(this,1,e)[0]<<24>>24},getUint8:function(e){return L(this,1,e)[0]},getInt16:function(e){var t=L(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=L(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return j(L(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return j(L(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return M(L(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return M(L(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){B(this,1,e,T,t)},setUint8:function(e,t){B(this,1,e,T,t)},setInt16:function(e,t){B(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){B(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){B(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){B(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){B(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){B(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});b(_,"ArrayBuffer"),b(P,"DataView"),e.exports={ArrayBuffer:_,DataView:P}},1791:function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1792:function(e,t,n){var a=n(117),r=n(81);e.exports=function(e){if(void 0===e)return 0;var t=a(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},1793:function(e,t,n){var a=n(2038);e.exports=function(e,t){var n=a(e);if(n%t)throw RangeError("Wrong offset");return n}},1794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"computeDestinationPoint",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"convertArea",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"convertSpeed",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"decimalToSexagesimal",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"findNearest",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"getAreaOfPolygon",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getBounds",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getBoundsOfDistance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getCenter",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"getCenterOfBounds",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getCompassDirection",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"getCoordinateKey",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"getCoordinateKeys",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"getDistance",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"getDistanceFromLine",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"getGreatCircleBearing",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"getLatitude",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"getLongitude",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"getPathLength",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"getPreciseDistance",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"getRhumbLineBearing",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"getRoughCompassDirection",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"getSpeed",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"isDecimal",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"isPointInLine",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"isPointInPolygon",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"isPointNearLine",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"isPointWithinRadius",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"isSexagesimal",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"isValidCoordinate",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"isValidLatitude",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"isValidLongitude",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"orderByDistance",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"sexagesimalToDecimal",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"toDecimal",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"toRad",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"toDeg",{enumerable:!0,get:function(){return V.default}});var a=q(n(2075)),r=q(n(2076)),i=q(n(2077)),o=q(n(2078)),s=q(n(2079)),l=q(n(2080)),c=q(n(2081)),u=q(n(1799)),d=q(n(2082)),p=q(n(2083)),h=q(n(2084)),m=q(n(2085)),f=q(n(1658)),y=q(n(1713)),g=q(n(1611)),v=q(n(1801)),b=q(n(2086)),E=q(n(1578)),O=q(n(1579)),k=q(n(2087)),w=q(n(2088)),_=q(n(1800)),P=q(n(2089)),S=q(n(2090)),x=q(n(1659)),C=q(n(2091)),D=q(n(2092)),M=q(n(2093)),T=q(n(2094)),A=q(n(1660)),N=q(n(1795)),j=q(n(1796)),I=q(n(1797)),F=q(n(1798)),R=q(n(1661)),L=q(n(1712)),B=q(n(1596)),V=q(n(1622));function q(e){return e&&e.__esModule?e:{default:e}}},1795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1713)),r=o(n(1796)),i=o(n(1797));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=(0,a.default)(e),n=t.latitude,o=t.longitude;if(Array.isArray(e)&&e.length>=2)return(0,i.default)(e[0])&&(0,r.default)(e[1]);if(void 0===n||void 0===o)return!1;var s=e[o],l=e[n];return void 0!==l&&void 0!==s&&(!1!==(0,r.default)(l)&&!1!==(0,i.default)(s))};t.default=s},1796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1659)),r=s(n(1660)),i=s(n(1661)),o=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return(0,a.default)(t)?!(parseFloat(t)>o.MAXLAT||t<o.MINLAT):!!(0,r.default)(t)&&e((0,i.default)(t))};t.default=l},1797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1659)),r=s(n(1660)),i=s(n(1661)),o=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return(0,a.default)(t)?!(parseFloat(t)>o.MAXLON||t<o.MINLON):!!(0,r.default)(t)&&e((0,i.default)(t))};t.default=l},1798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default;return n="function"==typeof n?n:r.default,t.slice().sort((function(t,a){return n(e,t)-n(e,a)}))};t.default=i},1799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(1578)),r=i(n(1579));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if(!1===Array.isArray(e)||0===e.length)throw new Error("No points were given.");return e.reduce((function(e,t){var n=(0,a.default)(t),i=(0,r.default)(t);return{maxLat:Math.max(n,e.maxLat),minLat:Math.min(n,e.minLat),maxLng:Math.max(i,e.maxLng),minLng:Math.min(i,e.minLng)}}),{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})};t.default=o},1800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1578)),r=s(n(1579)),i=s(n(1596)),o=s(n(1622));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=(0,i.default)((0,r.default)(t))-(0,i.default)((0,r.default)(e)),s=Math.log(Math.tan((0,i.default)((0,a.default)(t))/2+Math.PI/4)/Math.tan((0,i.default)((0,a.default)(e))/2+Math.PI/4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(2*Math.PI-n):2*Math.PI+n),((0,o.default)(Math.atan2(n,s))+360)%360};t.default=l},1801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};var i=function(e,t,n){var a=(0,r.default)(t,e),i=(0,r.default)(e,n),o=(0,r.default)(t,n),s=Math.acos((a*a+o*o-i*i)/(2*a*o)),l=Math.acos((i*i+o*o-a*a)/(2*i*o));return s>Math.PI/2?a:l>Math.PI/2?i:Math.sin(s)*a};t.default=i},1802:function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=(e.arePathsEqual=function(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a]){if(!n(e[a])||!n(t[a]))return!1;if(t[a].lat!==e[a].lat||t[a].lng!==e[a].lng)return!1}return!0},function(e){return null!==e&&"object"===(void 0===e?"undefined":t(e))&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")})})?a.apply(t,r):a)||(e.exports=i)},1804:function(e,t,n){
/*!
 * Chart.js v2.9.3
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[t[a]]=a);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in r)if(r.hasOwnProperty(i)){if(!("channels"in r[i]))throw new Error("missing channels property: "+i);if(!("labels"in r[i]))throw new Error("missing channel labels property: "+i);if(r[i].labels.length!==r[i].channels)throw new Error("channel and label counts mismatch: "+i);var o=r[i].channels,s=r[i].labels;delete r[i].channels,delete r[i].labels,Object.defineProperty(r[i],"channels",{value:o}),Object.defineProperty(r[i],"labels",{value:s})}r.rgb.hsl=function(e){var t,n,a=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.min(a,r,i),s=Math.max(a,r,i),l=s-o;return s===o?t=0:a===s?t=(r-i)/l:r===s?t=2+(i-a)/l:i===s&&(t=4+(a-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},r.rgb.hsv=function(e){var t,n,a,r,i,o=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(o,s,l),u=c-Math.min(o,s,l),d=function(e){return(c-e)/6/u+.5};return 0===u?r=i=0:(i=u/c,t=d(o),n=d(s),a=d(l),o===c?r=a-n:s===c?r=1/3+t-a:l===c&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*c]},r.rgb.hwb=function(e){var t=e[0],n=e[1],a=e[2];return[r.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,a))*100,100*(a=1-1/255*Math.max(t,Math.max(n,a)))]},r.rgb.cmyk=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-a,1-r)))/(1-t)||0),100*((1-a-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},r.rgb.keyword=function(e){var a=n[e];if(a)return a;var r,i,o,s=1/0;for(var l in t)if(t.hasOwnProperty(l)){var c=t[l],u=(i=e,o=c,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));u<s&&(s=u,r=l)}return r},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*t+.7152*n+.0722*a),100*(.0193*t+.1192*n+.9505*a)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],a=t[1],i=t[2];return a/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.hsl.rgb=function(e){var t,n,a,r,i,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[i=255*l,i,i];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(a=o+1/3*-(c-1))<0&&a++,a>1&&a--,i=6*a<1?t+6*(n-t)*a:2*a<1?n:3*a<2?t+(n-t)*(2/3-a)*6:t,r[c]=255*i;return r},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,a=e[2]/100,r=n,i=Math.max(a,.01);return n*=(a*=2)<=1?a:2-a,r*=i<=1?i:2-i,[t,100*(0===a?2*r/(i+r):2*n/(a+n)),(a+n)/2*100]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,a=e[2]/100,r=Math.floor(t)%6,i=t-Math.floor(t),o=255*a*(1-n),s=255*a*(1-n*i),l=255*a*(1-n*(1-i));switch(a*=255,r){case 0:return[a,l,o];case 1:return[s,a,o];case 2:return[o,a,l];case 3:return[o,s,a];case 4:return[l,o,a];case 5:return[a,o,s]}},r.hsv.hsl=function(e){var t,n,a,r=e[0],i=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return a=(2-i)*o,n=i*s,[r,100*(n=(n/=(t=(2-i)*s)<=1?t:2-t)||0),100*(a/=2)]},r.hwb.rgb=function(e){var t,n,a,r,i,o,s,l=e[0]/360,c=e[1]/100,u=e[2]/100,d=c+u;switch(d>1&&(c/=d,u/=d),a=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(a=1-a),r=c+a*((n=1-u)-c),t){default:case 6:case 0:i=n,o=r,s=c;break;case 1:i=r,o=n,s=c;break;case 2:i=c,o=n,s=r;break;case 3:i=c,o=r,s=n;break;case 4:i=r,o=c,s=n;break;case 5:i=n,o=c,s=r}return[255*i,255*o,255*s]},r.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,a=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,a*(1-r)+r))]},r.xyz.rgb=function(e){var t,n,a,r=e[0]/100,i=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*i+.0415*o,a=.0557*r+-.204*i+1.057*o,t=(t=3.2406*r+-1.5372*i+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.lab.xyz=function(e){var t,n,a,r=e[0];t=e[1]/500+(n=(r+16)/116),a=n-e[2]/200;var i=Math.pow(n,3),o=Math.pow(t,3),s=Math.pow(a,3);return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,a=s>.008856?s:(a-16/116)/7.787,[t*=95.047,n*=100,a*=108.883]},r.lab.lch=function(e){var t,n=e[0],a=e[1],r=e[2];return(t=360*Math.atan2(r,a)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(a*a+r*r),t]},r.lch.lab=function(e){var t,n=e[0],a=e[1];return t=e[2]/360*2*Math.PI,[n,a*Math.cos(t),a*Math.sin(t)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],a=e[2],i=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],a=e[2];return t===n&&n===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(a/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var a=parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},r.rgb.hcg=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,a),r),o=Math.min(Math.min(n,a),r),s=i-o;return t=s<=0?0:i===n?(a-r)/s%6:i===a?2+(r-n)/s:4+(n-a)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},r.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=1,r=0;return(a=n<.5?2*t*n:2*t*(1-n))<1&&(r=(n-.5*a)/(1-a)),[e[0],100*a,100*r]},r.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=t*n,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},r.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,a=e[2]/100;if(0===n)return[255*a,255*a,255*a];var r,i=[0,0,0],o=t%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return r=(1-n)*a,[255*(n*i[0]+r),255*(n*i[1]+r),255*(n*i[2]+r)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),a=0;return n>0&&(a=t/n),[e[0],100*a,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],100*a,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,a=n-t,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function a(e){var t=function(){for(var e={},t=Object.keys(n),a=t.length,r=0;r<a;r++)e[t[r]]={distance:-1,parent:null};return e}(),a=[e];for(t[e].distance=0;a.length;)for(var r=a.pop(),i=Object.keys(n[r]),o=i.length,s=0;s<o;s++){var l=i[s],c=t[l];-1===c.distance&&(c.distance=t[r].distance+1,c.parent=r,a.unshift(l))}return t}function r(e,t){return function(n){return t(e(n))}}function i(e,t){for(var a=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;t[o].parent;)a.unshift(t[o].parent),i=r(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=a,i}n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;var o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=function(e){for(var t=a(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var l=r[s];null!==t[l].parent&&(n[l]=i(l,t))}return n}(e);Object.keys(t).forEach((function(n){var a=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var a=n.length,r=0;r<a;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(a),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)}))}));var s=o,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},c={getRgba:u,getHsla:d,getRgb:function(e){var t=u(e);return t&&t.slice(0,3)},getHsl:function(e){var t=d(e);return t&&t.slice(0,3)},getHwb:p,getAlpha:function(e){var t=u(e);return t?t[3]:(t=d(e))?t[3]:(t=p(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+g(e[0])+g(e[1])+g(e[2])+(t>=0&&t<1?g(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:h,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return m(e,t);var n=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return"rgb("+n+"%, "+a+"%, "+r+"%)"},percentaString:m,hslString:function(e,t){return t<1||e[3]&&e[3]<1?f(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:f,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return v[e.slice(0,3)]}};function u(e){if(e){var t=[0,0,0],n=1,a=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(a){r=(a=a[1])[3];for(var i=0;i<t.length;i++)t[i]=parseInt(a[i]+a[i],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(a=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=a[2],a=a[1],i=0;i<t.length;i++)t[i]=parseInt(a.slice(2*i,2*i+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(a=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=parseInt(a[i+1]);n=parseFloat(a[4])}else if(a=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=Math.round(2.55*parseFloat(a[i+1]));n=parseFloat(a[4])}else if(a=e.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(t=l[a[1]]))return}for(i=0;i<t.length;i++)t[i]=y(t[i],0,255);return n=n||0==n?y(n,0,1):1,t[3]=n,t}}function d(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[y(parseInt(t[1]),0,360),y(parseFloat(t[2]),0,100),y(parseFloat(t[3]),0,100),y(isNaN(n)?1:n,0,1)]}}}function p(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[y(parseInt(t[1]),0,360),y(parseFloat(t[2]),0,100),y(parseFloat(t[3]),0,100),y(isNaN(n)?1:n,0,1)]}}}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function m(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function f(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function y(e,t,n){return Math.min(Math.max(t,e),n)}function g(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var v={};for(var b in l)v[l[b]]=b;var E=function(e){return e instanceof E?e:this instanceof E?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=c.getRgba(e))?this.setValues("rgb",t):(t=c.getHsla(e))?this.setValues("hsl",t):(t=c.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new E(e);var t};E.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return c.hexString(this.values.rgb)},rgbString:function(){return c.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return c.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return c.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return c.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return c.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return c.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return c.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var a=e[n]/255;t[n]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,a=void 0===t?.5:t,r=2*a-1,i=this.alpha()-n.alpha(),o=((r*i==-1?r:(r+i)/(1+r*i))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*a+n.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new E,a=this.values,r=n.values;for(var i in a)a.hasOwnProperty(i)&&(e=a[i],"[object Array]"===(t={}.toString.call(e))?r[i]=e.slice(0):"[object Number]"===t?r[i]=e:console.error("unexpected color value:",e));return n}},E.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},E.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},E.prototype.getValues=function(e){for(var t=this.values,n={},a=0;a<e.length;a++)n[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(n.a=t.alpha),n},E.prototype.setValues=function(e,t){var n,a,r=this.values,i=this.spaces,o=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)r[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[i[e][0]]){var c=i[e];for(n=0;n<e.length;n++)r[e][n]=t[c[n]];l=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)a=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(a);for(var u in i)u!==e&&(r[u]=s[e][u](r[e]));return!0},E.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},E.prototype.setChannel=function(e,t,n){var a=this.values[e];return void 0===n?a[t]:n===a[t]?this:(a[t]=n,this.setValues(e,a),this)},"undefined"!=typeof window&&(window.Color=E);var O,k=E,w={noop:function(){},uid:(O=0,function(){return O++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return w.valueOrDefault(w.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,a){var r,i,o;if(w.isArray(e))if(i=e.length,a)for(r=i-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<i;r++)t.call(n,e[r],r);else if(w.isObject(e))for(i=(o=Object.keys(e)).length,r=0;r<i;r++)t.call(n,e[o[r]],o[r])},arrayEquals:function(e,t){var n,a,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(r=e[n],i=t[n],r instanceof Array&&i instanceof Array){if(!w.arrayEquals(r,i))return!1}else if(r!==i)return!1;return!0},clone:function(e){if(w.isArray(e))return e.map(w.clone);if(w.isObject(e)){for(var t={},n=Object.keys(e),a=n.length,r=0;r<a;++r)t[n[r]]=w.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,a){var r=t[e],i=n[e];w.isObject(r)&&w.isObject(i)?w.merge(r,i,a):t[e]=w.clone(i)},_mergerIf:function(e,t,n){var a=t[e],r=n[e];w.isObject(a)&&w.isObject(r)?w.mergeIf(a,r):t.hasOwnProperty(e)||(t[e]=w.clone(r))},merge:function(e,t,n){var a,r,i,o,s,l=w.isArray(t)?t:[t],c=l.length;if(!w.isObject(e))return e;for(a=(n=n||{}).merger||w._merger,r=0;r<c;++r)if(t=l[r],w.isObject(t))for(s=0,o=(i=Object.keys(t)).length;s<o;++s)a(i[s],e,t,n);return e},mergeIf:function(e,t){return w.merge(e,t,{merger:w._mergerIf})},extend:Object.assign||function(e){return w.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=t.prototype,n.prototype=new a,n.extend=w.inherits,e&&w.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,a){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+a+'" instead')}},_=w;w.callCallback=w.callback,w.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},w.getValueOrDefault=w.valueOrDefault,w.getValueAtIndexOrDefault=w.valueAtIndexOrDefault;var P={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===e?1:(n||(n=.3),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),a<1?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-P.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*P.easeInBounce(2*e):.5*P.easeOutBounce(2*e-1)+.5}},S={effects:P};_.easingEffects=P;var x=Math.PI,C=x/180,D=2*x,M=x/2,T=x/4,A=2*x/3,N={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,a,r,i){if(i){var o=Math.min(i,r/2,a/2),s=t+o,l=n+o,c=t+a-o,u=n+r-o;e.moveTo(t,l),s<c&&l<u?(e.arc(s,l,o,-x,-M),e.arc(c,l,o,-M,0),e.arc(c,u,o,0,M),e.arc(s,u,o,M,x)):s<c?(e.moveTo(s,n),e.arc(c,l,o,-M,M),e.arc(s,l,o,M,x+M)):l<u?(e.arc(s,l,o,-x,0),e.arc(s,u,o,0,x)):e.arc(s,l,o,-x,x),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,a,r)},drawPoint:function(e,t,n,a,r,i){var o,s,l,c,u,d=(i||0)*C;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(o=t.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(a,r),e.rotate(d),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(a,r,n,0,D),e.closePath();break;case"triangle":e.moveTo(a+Math.sin(d)*n,r-Math.cos(d)*n),d+=A,e.lineTo(a+Math.sin(d)*n,r-Math.cos(d)*n),d+=A,e.lineTo(a+Math.sin(d)*n,r-Math.cos(d)*n),e.closePath();break;case"rectRounded":c=n-(u=.516*n),s=Math.cos(d+T)*c,l=Math.sin(d+T)*c,e.arc(a-s,r-l,u,d-x,d-M),e.arc(a+l,r-s,u,d-M,d),e.arc(a+s,r+l,u,d,d+M),e.arc(a-l,r+s,u,d+M,d+x),e.closePath();break;case"rect":if(!i){c=Math.SQRT1_2*n,e.rect(a-c,r-c,2*c,2*c);break}d+=T;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(a-s,r-l),e.lineTo(a+l,r-s),e.lineTo(a+s,r+l),e.lineTo(a-l,r+s),e.closePath();break;case"crossRot":d+=T;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(a-s,r-l),e.lineTo(a+s,r+l),e.moveTo(a+l,r-s),e.lineTo(a-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(a-s,r-l),e.lineTo(a+s,r+l),e.moveTo(a+l,r-s),e.lineTo(a-l,r+s),d+=T,s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(a-s,r-l),e.lineTo(a+s,r+l),e.moveTo(a+l,r-s),e.lineTo(a-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(a-s,r-l),e.lineTo(a+s,r+l);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(d)*n,r+Math.sin(d)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,a){var r=n.steppedLine;if(r){if("middle"===r){var i=(t.x+n.x)/2;e.lineTo(i,a?n.y:t.y),e.lineTo(i,a?t.y:n.y)}else"after"===r&&!a||"after"!==r&&a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(a?t.controlPointPreviousX:t.controlPointNextX,a?t.controlPointPreviousY:t.controlPointNextY,a?n.controlPointNextX:n.controlPointPreviousX,a?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},j=N;_.clear=N.clear,_.drawRoundedRectangle=function(e){e.beginPath(),N.roundedRect.apply(N,arguments)};var I={_set:function(e,t){return _.merge(this[e]||(this[e]={}),t)}};I._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var F=I,R=_.valueOrDefault,L={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,a,r;return _.isObject(e)?(t=+e.top||0,n=+e.right||0,a=+e.bottom||0,r=+e.left||0):t=n=a=r=+e||0,{top:t,right:n,bottom:a,left:r,height:t+a,width:r+n}},_parseFont:function(e){var t=F.global,n=R(e.fontSize,t.defaultFontSize),a={family:R(e.fontFamily,t.defaultFontFamily),lineHeight:_.options.toLineHeight(R(e.lineHeight,t.defaultLineHeight),n),size:n,style:R(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return a.string=function(e){return!e||_.isNullOrUndef(e.size)||_.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a},resolve:function(e,t,n,a){var r,i,o,s=!0;for(r=0,i=e.length;r<i;++r)if(void 0!==(o=e[r])&&(void 0!==t&&"function"==typeof o&&(o=o(t),s=!1),void 0!==n&&_.isArray(o)&&(o=o[n],s=!1),void 0!==o))return a&&!s&&(a.cacheable=!1),o}},B={_factorize:function(e){var t,n=[],a=Math.sqrt(e);for(t=1;t<a;t++)e%t==0&&(n.push(t),n.push(e/t));return a===(0|a)&&n.push(a),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},V=B;_.log10=B.log10;var q=_,z=S,U=j,H=L,G=V,Y={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,a;"ltr"!==t&&"rtl"!==t||(a=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};q.easing=z,q.canvas=U,q.options=H,q.math=G,q.rtl=Y;var W=function(e){q.extend(this,e),this.initialize.apply(this,arguments)};q.extend(W.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=q.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,a=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),a||(a=t._start={}),function(e,t,n,a){var r,i,o,s,l,c,u,d,p,h=Object.keys(n);for(r=0,i=h.length;r<i;++r)if(c=n[o=h[r]],t.hasOwnProperty(o)||(t[o]=c),(s=t[o])!==c&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=s),(u=typeof c)==typeof(l=e[o]))if("string"===u){if((d=k(l)).valid&&(p=k(c)).valid){t[o]=p.mix(d,a).rgbString();continue}}else if(q.isFinite(l)&&q.isFinite(c)){t[o]=l+(c-l)*a;continue}t[o]=c}}(a,r,n,e),t):(t._view=q.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return q.isNumber(this._model.x)&&q.isNumber(this._model.y)}}),W.extend=q.inherits;var X=W,K=X.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),$=K;Object.defineProperty(K.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(K.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),F._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:q.noop,onComplete:q.noop}});var Z={animations:[],request:null,addAnimation:function(e,t,n,a){var r,i,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,a||(e.animating=!0),r=0,i=o.length;r<i;++r)if(o[r].chart===e)return void(o[r]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=q.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=q.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,a,r=this.animations,i=0;i<r.length;)t=(e=r[i]).chart,n=e.numSteps,a=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(a,n),q.callback(e.render,[t,e],t),q.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(q.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(i,1)):++i}},Q=q.options.resolve,J=["push","pop","shift","splice","unshift"];function ee(e,t){var n=e._chartjs;if(n){var a=n.listeners,r=a.indexOf(t);-1!==r&&a.splice(r,1),a.length>0||(J.forEach((function(t){delete e[t]})),delete e._chartjs)}}var te=function(e,t){this.initialize(e,t)};q.extend(te.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,a=this.getDataset(),r=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!a.xAxisID||(e.xAxisID=a.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!a.yAxisID||(e.yAxisID=a.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ee(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),a=this.getDataset().data||[],r=n.data;for(e=0,t=a.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,a=n.getDataset(),r=a.data||(a.data=[]);n._data!==r&&(n._data&&ee(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),J.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),a=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=a.apply(this,t);return q.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),r}})})))),n._data=r),n.resyncElements()},_configure:function(){this._config=q.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&q._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:q.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],a=n.length,r=0;r<a;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,a=0;for(e.dataset&&e.dataset.draw();a<n;++a)t[a].draw()},getStyle:function(e){var t,n=this.getMeta(),a=n.dataset;return this._configure(),a&&void 0===e?t=this._resolveDatasetElementOptions(a||{}):(e=e||0,t=this._resolveDataElementOptions(n.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,a,r,i,o=this,s=o.chart,l=o._config,c=e.custom||{},u=s.options.elements[o.datasetElementType.prototype._type]||{},d=o._datasetElementOptions,p={},h={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:t};for(n=0,a=d.length;n<a;++n)r=d[n],i=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,p[r]=Q([c[i],l[i],u[i]],h);return p},_resolveDataElementOptions:function(e,t){var n=this,a=e&&e.custom,r=n._cachedDataOpts;if(r&&!a)return r;var i,o,s,l,c=n.chart,u=n._config,d=c.options.elements[n.dataElementType.prototype._type]||{},p=n._dataElementOptions,h={},m={chart:c,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},f={cacheable:!a};if(a=a||{},q.isArray(p))for(o=0,s=p.length;o<s;++o)h[l=p[o]]=Q([a[l],u[l],d[l]],m,t,f);else for(o=0,s=(i=Object.keys(p)).length;o<s;++o)h[l=i[o]]=Q([a[l],u[p[l]],u[l],d[l]],m,t,f);return f.cacheable&&(n._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(e){q.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,a=e.custom||{},r=e._model,i=q.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Q([a.hoverBackgroundColor,t.hoverBackgroundColor,i(r.backgroundColor)],void 0,n),r.borderColor=Q([a.hoverBorderColor,t.hoverBorderColor,i(r.borderColor)],void 0,n),r.borderWidth=Q([a.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,a,r,i,o=this.getMeta().dataset,s={};if(o){for(i=o._model,r=this._resolveDatasetElementOptions(o,!0),e=0,t=(a=Object.keys(r)).length;e<t;++e)s[n=a[e]]=i[n],i[n]=r[n];o.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,a=t.length;a<n?e.data.splice(a,n-a):a>n&&this.insertElements(n,a-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),te.extend=q.inherits;var ne=te,ae=2*Math.PI;function re(e,t){var n=t.startAngle,a=t.endAngle,r=t.pixelMargin,i=r/t.outerRadius,o=t.x,s=t.y;e.beginPath(),e.arc(o,s,t.outerRadius,n-i,a+i),t.innerRadius>r?(i=r/t.innerRadius,e.arc(o,s,t.innerRadius-r,a+i,n-i,!0)):e.arc(o,s,r,a+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function ie(e,t,n){var a="inner"===t.borderAlign;a?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,a){var r,i=n.endAngle;for(a&&(n.endAngle=n.startAngle+ae,re(e,n),n.endAngle=i,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=ae,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+ae,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+ae),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,a),a&&re(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}F._set("global",{elements:{arc:{backgroundColor:F.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var oe=X.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var a=q.getAngleFromPoint(n,{x:e,y:t}),r=a.angle,i=a.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=ae;for(;r>s;)r-=ae;for(;r<o;)r+=ae;var l=r>=o&&r<=s,c=i>=n.innerRadius&&i<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,a="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-a,0),pixelMargin:a,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/ae)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+ae,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%ae}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&ie(t,n,r),t.restore()}}),se=q.valueOrDefault,le=F.global.defaultColor;F._set("global",{elements:{line:{tension:.4,backgroundColor:le,borderWidth:3,borderColor:le,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ce=X.extend({_type:"line",draw:function(){var e,t,n,a=this,r=a._view,i=a._chart.ctx,o=r.spanGaps,s=a._children.slice(),l=F.global,c=l.elements.line,u=-1,d=a._loop;if(s.length){if(a._loop){for(e=0;e<s.length;++e)if(t=q.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),d=o;break}d&&s.push(s[0])}for(i.save(),i.lineCap=r.borderCapStyle||c.borderCapStyle,i.setLineDash&&i.setLineDash(r.borderDash||c.borderDash),i.lineDashOffset=se(r.borderDashOffset,c.borderDashOffset),i.lineJoin=r.borderJoinStyle||c.borderJoinStyle,i.lineWidth=se(r.borderWidth,c.borderWidth),i.strokeStyle=r.borderColor||l.defaultColor,i.beginPath(),(n=s[0]._view).skip||(i.moveTo(n.x,n.y),u=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===u?q.previousItem(s,e):s[u],n.skip||(u!==e-1&&!o||-1===u?i.moveTo(n.x,n.y):q.canvas.lineTo(i,t._view,n),u=e);d&&i.closePath(),i.stroke(),i.restore()}}}),ue=q.valueOrDefault,de=F.global.defaultColor;function pe(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}F._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:de,borderColor:de,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var he=X.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:pe,inXRange:pe,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,a=t.pointStyle,r=t.rotation,i=t.radius,o=t.x,s=t.y,l=F.global,c=l.defaultColor;t.skip||(void 0===e||q.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||c,n.lineWidth=ue(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||c,q.canvas.drawPoint(n,a,i,o,s,r))}}),me=F.global.defaultColor;function fe(e){return e&&void 0!==e.width}function ye(e){var t,n,a,r,i;return fe(e)?(i=e.width/2,t=e.x-i,n=e.x+i,a=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(i=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),a=e.y-i,r=e.y+i),{left:t,top:a,right:n,bottom:r}}function ge(e,t,n){return e===t?n:e===n?t:e}function ve(e,t,n){var a,r,i,o,s=e.borderWidth,l=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=ge(t,"left","right")):e.base<e.y&&(t=ge(t,"bottom","top")),n[t]=!0,n):n}(e);return q.isObject(s)?(a=+s.top||0,r=+s.right||0,i=+s.bottom||0,o=+s.left||0):a=r=i=o=+s||0,{t:l.top||a<0?0:a>n?n:a,r:l.right||r<0?0:r>t?t:r,b:l.bottom||i<0?0:i>n?n:i,l:l.left||o<0?0:o>t?t:o}}function be(e,t,n){var a=null===t,r=null===n,i=!(!e||a&&r)&&ye(e);return i&&(a||t>=i.left&&t<=i.right)&&(r||n>=i.top&&n<=i.bottom)}F._set("global",{elements:{rectangle:{backgroundColor:me,borderColor:me,borderSkipped:"bottom",borderWidth:0}}});var Ee=X.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=ye(e),n=t.right-t.left,a=t.bottom-t.top,r=ve(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b}}}(t),a=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.w,a.h),a.w===r.w&&a.h===r.h||(e.save(),e.beginPath(),e.rect(a.x,a.y,a.w,a.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return be(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return fe(n)?be(n,e,null):be(n,null,t)},inXRange:function(e){return be(this._view,e,null)},inYRange:function(e){return be(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return fe(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return fe(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Oe={},ke=oe,we=ce,_e=he,Pe=Ee;Oe.Arc=ke,Oe.Line=we,Oe.Point=_e,Oe.Rectangle=Pe;var Se=q._deprecated,xe=q.valueOrDefault;function Ce(e,t,n){var a,r,i=n.barThickness,o=t.stackCount,s=t.pixels[e],l=q.isNullOrUndef(i)?function(e,t){var n,a,r,i,o=e._length;for(r=1,i=t.length;r<i;++r)o=Math.min(o,Math.abs(t[r]-t[r-1]));for(r=0,i=e.getTicks().length;r<i;++r)a=e.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(a-n)):o,n=a;return o}(t.scale,t.pixels):-1;return q.isNullOrUndef(i)?(a=l*n.categoryPercentage,r=n.barPercentage):(a=i*o,r=1),{chunk:a/o,ratio:r,start:s-a/2}}F._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),F._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var De=ne.extend({dataElementType:Oe.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;ne.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Se("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Se("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Se("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Se("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Se("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,a=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=a.length;t<n;++t)this.updateElement(a[t],t,e)},updateElement:function(e,t,n){var a=this,r=a.getMeta(),i=a.getDataset(),o=a._resolveDataElementOptions(e,t);e._xScale=a.getScaleForId(r.xAxisID),e._yScale=a.getScaleForId(r.yAxisID),e._datasetIndex=a.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:i.label,label:a.chart.data.labels[t]},q.isArray(i.data[t])&&(e._model.borderSkipped=null),a._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,a){var r=this,i=e._model,o=r._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),c=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,t,a),d=r.calculateBarIndexPixels(r.index,t,c,a);i.horizontal=l,i.base=n?s:u.base,i.x=l?n?s:u.head:d.center,i.y=l?d.center:n?s:u.head,i.height=l?d.size:void 0,i.width=l?void 0:d.size},_getStacks:function(e){var t,n,a=this._getIndexScale(),r=a._getMatchingVisibleMetas(this._type),i=a.options.stacked,o=r.length,s=[];for(t=0;t<o&&(n=r[t],(!1===i||-1===s.indexOf(n.stack)||void 0===i&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a},getRuler:function(){var e,t,n=this._getIndexScale(),a=[];for(e=0,t=this.getMeta().data.length;e<t;++e)a.push(n.getPixelForValue(null,e,this.index));return{pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(e,t,n){var a,r,i,o,s,l,c,u=this.chart,d=this._getValueScale(),p=d.isHorizontal(),h=u.data.datasets,m=d._getMatchingVisibleMetas(this._type),f=d._parseValue(h[e].data[t]),y=n.minBarLength,g=d.options.stacked,v=this.getMeta().stack,b=void 0===f.start?0:f.max>=0&&f.min>=0?f.min:f.max,E=void 0===f.start?f.end:f.max>=0&&f.min>=0?f.max-f.min:f.min-f.max,O=m.length;if(g||void 0===g&&void 0!==v)for(a=0;a<O&&(r=m[a]).index!==e;++a)r.stack===v&&(i=void 0===(c=d._parseValue(h[r.index].data[t])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(f.min<0&&i<0||f.max>=0&&i>0)&&(b+=i));return o=d.getPixelForValue(b),l=(s=d.getPixelForValue(b+E))-o,void 0!==y&&Math.abs(l)<y&&(l=y,s=E>=0&&!p||E<0&&p?o-y:o+y),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(e,t,n,a){var r="flex"===a.barThickness?function(e,t,n){var a,r=t.pixels,i=r[e],o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;return null===o&&(o=i-(null===s?t.end-t.start:s-i)),null===s&&(s=i+i-o),a=i-(i-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/t.stackCount,ratio:n.barPercentage,start:a}}(t,n,a):Ce(t,n,a),i=this.getStackIndex(e,this.getMeta().stack),o=r.start+r.chunk*i+r.chunk/2,s=Math.min(xe(a.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,a=this.getDataset(),r=n.length,i=0;for(q.canvas.clipArea(e.ctx,e.chartArea);i<r;++i){var o=t._parseValue(a.data[i]);isNaN(o.min)||isNaN(o.max)||n[i].draw()}q.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=q.extend({},ne.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,a=e._getValueScale().options;return t.barPercentage=xe(n.barPercentage,t.barPercentage),t.barThickness=xe(n.barThickness,t.barThickness),t.categoryPercentage=xe(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=xe(n.maxBarThickness,t.maxBarThickness),t.minBarLength=xe(a.minBarLength,t.minBarLength),t}}),Me=q.valueOrDefault,Te=q.options.resolve;F._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+a.r+")"}}}});var Ae=ne.extend({dataElementType:Oe.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;q.each(n,(function(n,a){t.updateElement(n,a,e)}))},updateElement:function(e,t,n){var a=this,r=a.getMeta(),i=e.custom||{},o=a.getScaleForId(r.xAxisID),s=a.getScaleForId(r.yAxisID),l=a._resolveDataElementOptions(e,t),c=a.getDataset().data[t],u=a.index,d=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,t,u),p=n?s.getBasePixel():s.getPixelForValue(c,t,u);e._xScale=o,e._yScale=s,e._options=l,e._datasetIndex=u,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:i.skip||isNaN(d)||isNaN(p),x:d,y:p},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,a=q.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Me(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Me(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Me(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,a=n.chart,r=n.getDataset(),i=e.custom||{},o=r.data[t]||{},s=ne.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:a,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=q.extend({},s)),s.radius=Te([i.radius,o.r,n._config.radius,a.options.elements.point.radius],l,t),s}}),Ne=q.valueOrDefault,je=Math.PI,Ie=2*je,Fe=je/2;F._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,a,r=document.createElement("ul"),i=e.data,o=i.datasets,s=i.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&a.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var r=e.getDatasetMeta(0),i=r.controller.getStyle(a);return{text:n,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(t.datasets[0].data[a])||r.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,r,i=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[i]&&(r.data[i].hidden=!r.data[i].hidden);o.update()}},cutoutPercentage:50,rotation:-Fe,circumference:Ie,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],a=": "+t.datasets[e.datasetIndex].data[e.index];return q.isArray(n)?(n=n.slice())[0]+=a:n+=a,n}}}});var Re=ne.extend({dataElementType:Oe.Arc,linkScales:q.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,a,r,i=this,o=i.chart,s=o.chartArea,l=o.options,c=1,u=1,d=0,p=0,h=i.getMeta(),m=h.data,f=l.cutoutPercentage/100||0,y=l.circumference,g=i._getRingWeight(i.index);if(y<Ie){var v=l.rotation%Ie,b=(v+=v>=je?-Ie:v<-je?Ie:0)+y,E=Math.cos(v),O=Math.sin(v),k=Math.cos(b),w=Math.sin(b),_=v<=0&&b>=0||b>=Ie,P=v<=Fe&&b>=Fe||b>=Ie+Fe,S=v<=-Fe&&b>=-Fe||b>=je+Fe,x=v===-je||b>=je?-1:Math.min(E,E*f,k,k*f),C=S?-1:Math.min(O,O*f,w,w*f),D=_?1:Math.max(E,E*f,k,k*f),M=P?1:Math.max(O,O*f,w,w*f);c=(D-x)/2,u=(M-C)/2,d=-(D+x)/2,p=-(M+C)/2}for(a=0,r=m.length;a<r;++a)m[a]._options=i._resolveDataElementOptions(m[a],a);for(o.borderWidth=i.getMaxBorderWidth(),t=(s.right-s.left-o.borderWidth)/c,n=(s.bottom-s.top-o.borderWidth)/u,o.outerRadius=Math.max(Math.min(t,n)/2,0),o.innerRadius=Math.max(o.outerRadius*f,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),o.offsetX=d*o.outerRadius,o.offsetY=p*o.outerRadius,h.total=i.calculateTotal(),i.outerRadius=o.outerRadius-o.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-o.radiusLength*g,0),a=0,r=m.length;a<r;++a)i.updateElement(m[a],a,e)},updateElement:function(e,t,n){var a=this,r=a.chart,i=r.chartArea,o=r.options,s=o.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,u=o.rotation,d=o.rotation,p=a.getDataset(),h=n&&s.animateRotate?0:e.hidden?0:a.calculateCircumference(p.data[t])*(o.circumference/Ie),m=n&&s.animateScale?0:a.innerRadius,f=n&&s.animateScale?0:a.outerRadius,y=e._options||{};q.extend(e,{_datasetIndex:a.index,_index:t,_model:{backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,borderAlign:y.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:u,endAngle:d,circumference:h,outerRadius:f,innerRadius:m,label:q.valueAtIndexOrDefault(p.label,t,r.data.labels[t])}});var g=e._model;n&&s.animateRotate||(g.startAngle=0===t?o.rotation:a.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),a=0;return q.each(n.data,(function(n,r){e=t.data[r],isNaN(e)||n.hidden||(a+=Math.abs(e))})),a},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Ie*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,a,r,i,o,s,l,c=0,u=this.chart;if(!e)for(t=0,n=u.data.datasets.length;t<n;++t)if(u.isDatasetVisible(t)){e=(a=u.getDatasetMeta(t)).data,t!==this.index&&(i=a.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],i?(i._configure(),o=i._resolveDataElementOptions(r,t)):o=r._options,"inner"!==o.borderAlign&&(s=o.borderWidth,c=(l=o.hoverBorderWidth)>(c=s>c?s:c)?l:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,a=q.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Ne(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ne(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ne(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Ne(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});F._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),F._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Le=De.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Be=q.valueOrDefault,Ve=q.options.resolve,qe=q.canvas._isPointInArea;function ze(e,t){var n=e&&e.options.ticks||{},a=n.reverse,r=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:a?i:r,end:a?r:i}}function Ue(e,t,n){var a=n/2,r=ze(e,a),i=ze(t,a);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function He(e){var t,n,a,r;return q.isObject(e)?(t=e.top,n=e.right,a=e.bottom,r=e.left):t=n=a=r=e,{top:t,right:n,bottom:a,left:r}}F._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ge=ne.extend({datasetElementType:Oe.Line,dataElementType:Oe.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,a=this,r=a.getMeta(),i=r.dataset,o=r.data||[],s=a.chart.options,l=a._config,c=a._showLine=Be(l.showLine,s.showLines);for(a._xScale=a.getScaleForId(r.xAxisID),a._yScale=a.getScaleForId(r.yAxisID),c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),i._scale=a._yScale,i._datasetIndex=a.index,i._children=o,i._model=a._resolveDatasetElementOptions(i),i.pivot()),t=0,n=o.length;t<n;++t)a.updateElement(o[t],t,e);for(c&&0!==i._model.tension&&a.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var a,r,i=this,o=i.getMeta(),s=e.custom||{},l=i.getDataset(),c=i.index,u=l.data[t],d=i._xScale,p=i._yScale,h=o.dataset._model,m=i._resolveDataElementOptions(e,t);a=d.getPixelForValue("object"==typeof u?u:NaN,t,c),r=n?p.getBasePixel():i.calculatePointY(u,t,c),e._xScale=d,e._yScale=p,e._options=m,e._datasetIndex=c,e._index=t,e._model={x:a,y:r,skip:s.skip||isNaN(a)||isNaN(r),radius:m.radius,pointStyle:m.pointStyle,rotation:m.rotation,backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,tension:Be(s.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:m.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,a=e.custom||{},r=t.chart.options,i=r.elements.line,o=ne.prototype._resolveDatasetElementOptions.apply(t,arguments);return o.spanGaps=Be(n.spanGaps,r.spanGaps),o.tension=Be(n.lineTension,i.tension),o.steppedLine=Ve([a.steppedLine,n.steppedLine,i.stepped]),o.clip=He(Be(n.clip,Ue(t._xScale,t._yScale,o.borderWidth))),o},calculatePointY:function(e,t,n){var a,r,i,o,s,l,c,u=this.chart,d=this._yScale,p=0,h=0;if(d.options.stacked){for(s=+d.getRightValue(e),c=(l=u._getSortedVisibleDatasetMetas()).length,a=0;a<c&&(i=l[a]).index!==n;++a)r=u.data.datasets[i.index],"line"===i.type&&i.yAxisID===d.id&&((o=+d.getRightValue(r.data[t]))<0?h+=o||0:p+=o||0);return s<0?d.getPixelForValue(h+s):d.getPixelForValue(p+s)}return d.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,a,r=this.chart,i=this.getMeta(),o=i.dataset._model,s=r.chartArea,l=i.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===o.cubicInterpolationMode)q.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,a=q.splineCurve(q.previousItem(l,e)._model,n,q.nextItem(l,e)._model,o.tension),n.controlPointPreviousX=a.previous.x,n.controlPointPreviousY=a.previous.y,n.controlPointNextX=a.next.x,n.controlPointNextY=a.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)n=l[e]._model,qe(n,s)&&(e>0&&qe(l[e-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),e<l.length-1&&qe(l[e+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),a=n.data||[],r=t.chartArea,i=t.canvas,o=0,s=a.length;for(this._showLine&&(e=n.dataset._model.clip,q.canvas.clipArea(t.ctx,{left:!1===e.left?0:r.left-e.left,right:!1===e.right?i.width:r.right+e.right,top:!1===e.top?0:r.top-e.top,bottom:!1===e.bottom?i.height:r.bottom+e.bottom}),n.dataset.draw(),q.canvas.unclipArea(t.ctx));o<s;++o)a[o].draw(r)},setHoverStyle:function(e){var t=e._model,n=e._options,a=q.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Be(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Be(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Be(n.hoverBorderWidth,n.borderWidth),t.radius=Be(n.hoverRadius,n.radius)}}),Ye=q.options.resolve;F._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,a,r=document.createElement("ul"),i=e.data,o=i.datasets,s=i.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&a.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,a){var r=e.getDatasetMeta(0),i=r.controller.getStyle(a);return{text:n,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(t.datasets[0].data[a])||r.data[a].hidden,index:a}})):[]}},onClick:function(e,t){var n,a,r,i=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[i].hidden=!r.data[i].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var We=ne.extend({dataElementType:Oe.Arc,linkScales:q.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a,r=this,i=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],u=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),t=0,n=i.data.length;t<n;t++)l[t]=s,a=r._computeAngle(t),c[t]=a,s+=a;for(t=0,n=u.length;t<n;++t)u[t]._options=r._resolveDataElementOptions(u[t],t),r.updateElement(u[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,a=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(a.cutoutPercentage?t.outerRadius/100*a.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var a=this,r=a.chart,i=a.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,u=l.xCenter,d=l.yCenter,p=o.startAngle,h=e.hidden?0:l.getDistanceFromCenterForValue(i.data[t]),m=a._starts[t],f=m+(e.hidden?0:a._angles[t]),y=s.animateScale?0:l.getDistanceFromCenterForValue(i.data[t]),g=e._options||{};q.extend(e,{_datasetIndex:a.index,_index:t,_scale:l,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:u,y:d,innerRadius:0,outerRadius:n?y:h,startAngle:n&&s.animateRotate?p:m,endAngle:n&&s.animateRotate?p:f,label:q.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return q.each(t.data,(function(t,a){isNaN(e.data[a])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,a=q.getHoverColor,r=q.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,a=t.getDataset(),r=t.getMeta();if(isNaN(a.data[e])||r.data[e].hidden)return 0;var i={chart:t.chart,dataIndex:e,dataset:a,datasetIndex:t.index};return Ye([t.chart.options.elements.arc.angle,2*Math.PI/n],i,e)}});F._set("pie",q.clone(F.doughnut)),F._set("pie",{cutoutPercentage:0});var Xe=Re,Ke=q.valueOrDefault;F._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var $e=ne.extend({datasetElementType:Oe.Line,dataElementType:Oe.Point,linkScales:q.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,a=this,r=a.getMeta(),i=r.dataset,o=r.data||[],s=a.chart.scale,l=a._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),i._scale=s,i._datasetIndex=a.index,i._children=o,i._loop=!0,i._model=a._resolveDatasetElementOptions(i),i.pivot(),t=0,n=o.length;t<n;++t)a.updateElement(o[t],t,e);for(a.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var a=this,r=e.custom||{},i=a.getDataset(),o=a.chart.scale,s=o.getPointPositionForValue(t,i.data[t]),l=a._resolveDataElementOptions(e,t),c=a.getMeta().dataset._model,u=n?o.xCenter:s.x,d=n?o.yCenter:s.y;e._scale=o,e._options=l,e._datasetIndex=a.index,e._index=t,e._model={x:u,y:d,skip:r.skip||isNaN(u)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ke(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,a=ne.prototype._resolveDatasetElementOptions.apply(e,arguments);return a.spanGaps=Ke(t.spanGaps,n.spanGaps),a.tension=Ke(t.lineTension,n.elements.line.tension),a},updateBezierControlPoints:function(){var e,t,n,a,r=this.getMeta(),i=this.chart.chartArea,o=r.data||[];function s(e,t,n){return Math.max(Math.min(e,n),t)}for(r.dataset._model.spanGaps&&(o=o.filter((function(e){return!e._model.skip}))),e=0,t=o.length;e<t;++e)n=o[e]._model,a=q.splineCurve(q.previousItem(o,e,!0)._model,n,q.nextItem(o,e,!0)._model,n.tension),n.controlPointPreviousX=s(a.previous.x,i.left,i.right),n.controlPointPreviousY=s(a.previous.y,i.top,i.bottom),n.controlPointNextX=s(a.next.x,i.left,i.right),n.controlPointNextY=s(a.next.y,i.top,i.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,a=q.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ke(n.hoverBackgroundColor,a(n.backgroundColor)),t.borderColor=Ke(n.hoverBorderColor,a(n.borderColor)),t.borderWidth=Ke(n.hoverBorderWidth,n.borderWidth),t.radius=Ke(n.hoverRadius,n.radius)}});F._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),F._set("global",{datasets:{scatter:{showLine:!1}}});var Ze={bar:De,bubble:Ae,doughnut:Re,horizontalBar:Le,line:Ge,polarArea:We,pie:Xe,radar:$e,scatter:Ge};function Qe(e,t){return e.native?{x:e.x,y:e.y}:q.getRelativePosition(e,t)}function Je(e,t){var n,a,r,i,o,s,l=e._getSortedVisibleDatasetMetas();for(a=0,i=l.length;a<i;++a)for(r=0,o=(n=l[a].data).length;r<o;++r)(s=n[r])._view.skip||t(s)}function et(e,t){var n=[];return Je(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function tt(e,t,n,a){var r=Number.POSITIVE_INFINITY,i=[];return Je(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),s=a(t,o);s<r?(i=[e],r=s):s===r&&i.push(e)}})),i}function nt(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){var r=t?Math.abs(e.x-a.x):0,i=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))}}function at(e,t,n){var a=Qe(t,e);n.axis=n.axis||"x";var r=nt(n.axis),i=n.intersect?et(e,a):tt(e,a,!1,r),o=[];return i.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[i[0]._index];t&&!t._view.skip&&o.push(t)})),o):[]}var rt={modes:{single:function(e,t){var n=Qe(t,e),a=[];return Je(e,(function(e){if(e.inRange(n.x,n.y))return a.push(e),a})),a.slice(0,1)},label:at,index:at,dataset:function(e,t,n){var a=Qe(t,e);n.axis=n.axis||"xy";var r=nt(n.axis),i=n.intersect?et(e,a):tt(e,a,!1,r);return i.length>0&&(i=e.getDatasetMeta(i[0]._datasetIndex).data),i},"x-axis":function(e,t){return at(e,t,{intersect:!1})},point:function(e,t){return et(e,Qe(t,e))},nearest:function(e,t,n){var a=Qe(t,e);n.axis=n.axis||"xy";var r=nt(n.axis);return tt(e,a,n.intersect,r)},x:function(e,t,n){var a=Qe(t,e),r=[],i=!1;return Je(e,(function(e){e.inXRange(a.x)&&r.push(e),e.inRange(a.x,a.y)&&(i=!0)})),n.intersect&&!i&&(r=[]),r},y:function(e,t,n){var a=Qe(t,e),r=[],i=!1;return Je(e,(function(e){e.inYRange(a.y)&&r.push(e),e.inRange(a.x,a.y)&&(i=!0)})),n.intersect&&!i&&(r=[]),r}}},it=q.extend;function ot(e,t){return q.where(e,(function(e){return e.pos===t}))}function st(e,t){return e.sort((function(e,n){var a=t?n:e,r=t?e:n;return a.weight===r.weight?a.index-r.index:a.weight-r.weight}))}function lt(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function ct(e,t,n){var a,r,i=n.box,o=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?i.height:i.width,e[n.pos]+=n.size,i.getPadding){var s=i.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(a=t.outerWidth-lt(o,e,"left","right"),r=t.outerHeight-lt(o,e,"top","bottom"),a!==e.w||r!==e.h)return e.w=a,e.h=r,n.horizontal?a!==e.w:r!==e.h}function ut(e,t){var n=t.maxPadding;function a(e){var a={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){a[e]=Math.max(t[e],n[e])})),a}return a(e?["left","right"]:["top","bottom"])}function dt(e,t,n){var a,r,i,o,s,l,c=[];for(a=0,r=e.length;a<r;++a)(o=(i=e[a]).box).update(i.width||t.w,i.height||t.h,ut(i.horizontal,t)),ct(t,n,i)&&(l=!0,c.length&&(s=!0)),o.fullWidth||c.push(i);return s&&dt(c,t,n)||l}function pt(e,t,n){var a,r,i,o,s=n.padding,l=t.x,c=t.y;for(a=0,r=e.length;a<r;++a)o=(i=e[a]).box,i.horizontal?(o.left=o.fullWidth?s.left:t.left,o.right=o.fullWidth?n.outerWidth-s.right:t.left+t.w,o.top=c,o.bottom=c+o.height,o.width=o.right-o.left,c=o.bottom):(o.left=l,o.right=l+o.width,o.top=t.top,o.bottom=t.top+t.h,o.height=o.bottom-o.top,l=o.right);t.x=l,t.y=c}F._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ht,mt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var a,r=["fullWidth","position","weight"],i=r.length,o=0;o<i;++o)a=r[o],n.hasOwnProperty(a)&&(t[a]=n[a])},update:function(e,t,n){if(e){var a=e.options.layout||{},r=q.options.toPadding(a.padding),i=t-r.width,o=n-r.height,s=function(e){var t=function(e){var t,n,a,r=[];for(t=0,n=(e||[]).length;t<n;++t)a=e[t],r.push({index:t,box:a,pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return r}(e),n=st(ot(t,"left"),!0),a=st(ot(t,"right")),r=st(ot(t,"top"),!0),i=st(ot(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:a.concat(i),chartArea:ot(t,"chartArea"),vertical:n.concat(a),horizontal:r.concat(i)}}(e.boxes),l=s.vertical,c=s.horizontal,u=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,vBoxMaxWidth:i/2/l.length,hBoxMaxHeight:o/2}),d=it({maxPadding:it({},r),w:i,h:o,x:r.left,y:r.top},r);!function(e,t){var n,a,r;for(n=0,a=e.length;n<a;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight}(l.concat(c),u),dt(l,d,u),dt(c,d,u)&&dt(l,d,u),function(e){var t=e.maxPadding;function n(n){var a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),pt(s.leftAndTop,d,u),d.x+=d.w,d.y+=d.h,pt(s.rightAndBottom,d,u),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},q.each(s.chartArea,(function(t){var n=t.box;it(n,e.chartArea),n.update(d.w,d.h)}))}}},ft=(ht=Object.freeze({__proto__:null,default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&ht.default||ht,yt=["animationstart","webkitAnimationStart"],gt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function vt(e,t){var n=q.getStyle(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?Number(a[1]):void 0}var bt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function Et(e,t,n){e.addEventListener(t,n,bt)}function Ot(e,t,n){e.removeEventListener(t,n,bt)}function kt(e,t,n,a,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==a?a:null}}function wt(e){var t=document.createElement("div");return t.className=e||"",t}function _t(e,t,n){var a,r,i,o,s=e.$chartjs||(e.$chartjs={}),l=s.resizer=function(e){var t=wt("chartjs-size-monitor"),n=wt("chartjs-size-monitor-expand"),a=wt("chartjs-size-monitor-shrink");n.appendChild(wt()),a.appendChild(wt()),t.appendChild(n),t.appendChild(a),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var r=function(){t._reset(),e()};return Et(n,"scroll",r.bind(n,"expand")),Et(a,"scroll",r.bind(a,"shrink")),t}((a=function(){if(s.resizer){var a=n.options.maintainAspectRatio&&e.parentNode,r=a?a.clientWidth:0;t(kt("resize",n)),a&&a.clientWidth<r&&n.canvas&&t(kt("resize",n))}},i=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,i||(i=!0,q.requestAnimFrame.call(window,(function(){i=!1,a.apply(r,o)})))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),a=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};q.each(yt,(function(t){Et(e,t,a)})),n.reflow=!!e.offsetParent,e.classList.add("chartjs-render-monitor")}(e,(function(){if(s.resizer){var t=e.parentNode;t&&t!==l.parentNode&&t.insertBefore(l,t.firstChild),l._reset()}}))}function Pt(e){var t=e.$chartjs||{},n=t.resizer;delete t.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(q.each(yt,(function(t){Ot(e,t,n)})),delete t.renderProxy),e.classList.remove("chartjs-render-monitor")}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}var St={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(t)),e.appendChild(a)}}(t.host?t:document.head,ft)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,a=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:a,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var i=vt(e,"width");void 0!==i&&(e.width=i)}if(null===a||""===a)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=vt(e,"height");void 0!==i&&(e.height=o)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach((function(e){var a=n[e];q.isNullOrUndef(a)?t.removeAttribute(e):t.setAttribute(e,a)})),q.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var r=n.$chartjs||(n.$chartjs={});Et(a,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=gt[e.type]||e.type,a=q.getRelativePosition(e,t);return kt(n,t,a.x,a.y,e)}(t,e))})}else _t(a,n,e)},removeEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var r=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];r&&Ot(a,t,r)}else Pt(a)}};q.addEvent=Et,q.removeEvent=Ot;var xt=St._enabled?St:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Ct=q.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},xt);F._set("global",{plugins:{}});var Dt={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var a,r,i,o,s,l=this.descriptors(e),c=l.length;for(a=0;a<c;++a)if("function"==typeof(s=(i=(r=l[a]).plugin)[t])&&((o=[e].concat(n||[])).push(r.options),!1===s.apply(i,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],a=[],r=e&&e.config||{},i=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,r=i[t];!1!==r&&(!0===r&&(r=q.clone(F.global.plugins[t])),n.push(e),a.push({plugin:e,options:r||{}}))}})),t.descriptors=a,t.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}},Mt={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=q.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?q.merge({},[F.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=q.extend(this.defaults[e],t))},addScalesToLayout:function(e){q.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,mt.addBox(e,t)}))}},Tt=q.valueOrDefault,At=q.rtl.getRtlAdapter;F._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:q.noop,title:function(e,t){var n="",a=t.labels,r=a?a.length:0;if(e.length>0){var i=e[0];i.label?n=i.label:i.xLabel?n=i.xLabel:r>0&&i.index<r&&(n=a[i.index])}return n},afterTitle:q.noop,beforeBody:q.noop,beforeLabel:q.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),q.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:q.noop,afterBody:q.noop,beforeFooter:q.noop,footer:q.noop,afterFooter:q.noop}}});var Nt={average:function(e){if(!e.length)return!1;var t,n,a=0,r=0,i=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();a+=s.x,r+=s.y,++i}}return{x:a/i,y:r/i}},nearest:function(e,t){var n,a,r,i=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){var l=e[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),u=q.distanceBetweenPoints(t,c);u<s&&(s=u,r=l)}}if(r){var d=r.tooltipPosition();i=d.x,o=d.y}return{x:i,y:o}}};function jt(e,t){return t&&(q.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function It(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ft(e){var t=F.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Tt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Tt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Tt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Tt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Tt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Tt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Tt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Tt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Tt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Rt(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Lt(e){return jt([],It(e))}var Bt=X.extend({initialize:function(){this._model=Ft(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,a=n.beforeTitle.apply(e,arguments),r=n.title.apply(e,arguments),i=n.afterTitle.apply(e,arguments),o=[];return o=jt(o,It(a)),o=jt(o,It(r)),o=jt(o,It(i))},getBeforeBody:function(){return Lt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,a=n._options.callbacks,r=[];return q.each(e,(function(e){var i={before:[],lines:[],after:[]};jt(i.before,It(a.beforeLabel.call(n,e,t))),jt(i.lines,a.label.call(n,e,t)),jt(i.after,It(a.afterLabel.call(n,e,t))),r.push(i)})),r},getAfterBody:function(){return Lt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),a=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),i=[];return i=jt(i,It(n)),i=jt(i,It(a)),i=jt(i,It(r))},update:function(e){var t,n,a,r,i,o,s,l,c,u,d=this,p=d._options,h=d._model,m=d._model=Ft(p),f=d._active,y=d._data,g={xAlign:h.xAlign,yAlign:h.yAlign},v={x:h.x,y:h.y},b={width:h.width,height:h.height},E={x:h.caretX,y:h.caretY};if(f.length){m.opacity=1;var O=[],k=[];E=Nt[p.position].call(d,f,d._eventPosition);var w=[];for(t=0,n=f.length;t<n;++t)w.push((a=f[t],r=void 0,i=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,r=a._xScale,i=a._yScale||a._scale,o=a._index,s=a._datasetIndex,l=a._chart.getDatasetMeta(s).controller,c=l._getIndexScale(),u=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:i?i.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:u?""+u.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:a._model.x,y:a._model.y}));p.filter&&(w=w.filter((function(e){return p.filter(e,y)}))),p.itemSort&&(w=w.sort((function(e,t){return p.itemSort(e,t,y)}))),q.each(w,(function(e){O.push(p.callbacks.labelColor.call(d,e,d._chart)),k.push(p.callbacks.labelTextColor.call(d,e,d._chart))})),m.title=d.getTitle(w,y),m.beforeBody=d.getBeforeBody(w,y),m.body=d.getBody(w,y),m.afterBody=d.getAfterBody(w,y),m.footer=d.getFooter(w,y),m.x=E.x,m.y=E.y,m.caretPadding=p.caretPadding,m.labelColors=O,m.labelTextColors=k,m.dataPoints=w,b=function(e,t){var n=e._chart.ctx,a=2*t.yPadding,r=0,i=t.body,o=i.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);o+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,c=t.titleFontSize,u=t.bodyFontSize,d=t.footerFontSize;a+=s*c,a+=s?(s-1)*t.titleSpacing:0,a+=s?t.titleMarginBottom:0,a+=o*u,a+=o?(o-1)*t.bodySpacing:0,a+=l?t.footerMarginTop:0,a+=l*d,a+=l?(l-1)*t.footerSpacing:0;var p=0,h=function(e){r=Math.max(r,n.measureText(e).width+p)};return n.font=q.fontString(c,t._titleFontStyle,t._titleFontFamily),q.each(t.title,h),n.font=q.fontString(u,t._bodyFontStyle,t._bodyFontFamily),q.each(t.beforeBody.concat(t.afterBody),h),p=t.displayColors?u+2:0,q.each(i,(function(e){q.each(e.before,h),q.each(e.lines,h),q.each(e.after,h)})),p=0,n.font=q.fontString(d,t._footerFontStyle,t._footerFontFamily),q.each(t.footer,h),{width:r+=2*t.xPadding,height:a}}(this,m),v=function(e,t,n,a){var r=e.x,i=e.y,o=e.caretSize,s=e.caretPadding,l=e.cornerRadius,c=n.xAlign,u=n.yAlign,d=o+s,p=l+s;return"right"===c?r-=t.width:"center"===c&&((r-=t.width/2)+t.width>a.width&&(r=a.width-t.width),r<0&&(r=0)),"top"===u?i+=d:i-="bottom"===u?t.height+d:t.height/2,"center"===u?"left"===c?r+=d:"right"===c&&(r-=d):"left"===c?r-=p:"right"===c&&(r+=p),{x:r,y:i}}(m,b,g=function(e,t){var n,a,r,i,o,s=e._model,l=e._chart,c=e._chart.chartArea,u="center",d="center";s.y<t.height?d="top":s.y>l.height-t.height&&(d="bottom");var p=(c.left+c.right)/2,h=(c.top+c.bottom)/2;"center"===d?(n=function(e){return e<=p},a=function(e){return e>p}):(n=function(e){return e<=t.width/2},a=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},i=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=h?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",d=o(s.y))):a(s.x)&&(u="right",i(s.x)&&(u="center",d=o(s.y)));var m=e._options;return{xAlign:m.xAlign?m.xAlign:u,yAlign:m.yAlign?m.yAlign:d}}(this,b),d._chart)}else m.opacity=0;return m.xAlign=g.xAlign,m.yAlign=g.yAlign,m.x=v.x,m.y=v.y,m.width=b.width,m.height=b.height,m.caretX=E.x,m.caretY=E.y,d._model=m,e&&p.custom&&p.custom.call(d,m),d},drawCaret:function(e,t){var n=this._chart.ctx,a=this._view,r=this.getCaretPosition(e,t,a);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var a,r,i,o,s,l,c=n.caretSize,u=n.cornerRadius,d=n.xAlign,p=n.yAlign,h=e.x,m=e.y,f=t.width,y=t.height;if("center"===p)s=m+y/2,"left"===d?(r=(a=h)-c,i=a,o=s+c,l=s-c):(r=(a=h+f)+c,i=a,o=s-c,l=s+c);else if("left"===d?(a=(r=h+u+c)-c,i=r+c):"right"===d?(a=(r=h+f-u-c)-c,i=r+c):(a=(r=n.caretX)-c,i=r+c),"top"===p)s=(o=m)-c,l=o;else{s=(o=m+y)+c,l=o;var g=i;i=a,a=g}return{x1:a,x2:r,x3:i,y1:o,y2:s,y3:l}},drawTitle:function(e,t,n){var a,r,i,o=t.title,s=o.length;if(s){var l=At(t.rtl,t.x,t.width);for(e.x=Rt(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",a=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=q.fontString(a,t._titleFontStyle,t._titleFontFamily),i=0;i<s;++i)n.fillText(o[i],l.x(e.x),e.y+a/2),e.y+=a+r,i+1===s&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var a,r,i,o,s,l,c,u,d=t.bodyFontSize,p=t.bodySpacing,h=t._bodyAlign,m=t.body,f=t.displayColors,y=0,g=f?Rt(t,"left"):0,v=At(t.rtl,t.x,t.width),b=function(t){n.fillText(t,v.x(e.x+y),e.y+d/2),e.y+=d+p},E=v.textAlign(h);for(n.textAlign=h,n.textBaseline="middle",n.font=q.fontString(d,t._bodyFontStyle,t._bodyFontFamily),e.x=Rt(t,E),n.fillStyle=t.bodyFontColor,q.each(t.beforeBody,b),y=f&&"right"!==E?"center"===h?d/2+1:d+2:0,s=0,c=m.length;s<c;++s){for(a=m[s],r=t.labelTextColors[s],i=t.labelColors[s],n.fillStyle=r,q.each(a.before,b),l=0,u=(o=a.lines).length;l<u;++l){if(f){var O=v.x(g);n.fillStyle=t.legendColorBackground,n.fillRect(v.leftForLtr(O,d),e.y,d,d),n.lineWidth=1,n.strokeStyle=i.borderColor,n.strokeRect(v.leftForLtr(O,d),e.y,d,d),n.fillStyle=i.backgroundColor,n.fillRect(v.leftForLtr(v.xPlus(O,1),d-2),e.y+1,d-2,d-2),n.fillStyle=r}b(o[l])}q.each(a.after,b)}y=0,q.each(t.afterBody,b),e.y-=p},drawFooter:function(e,t,n){var a,r,i=t.footer,o=i.length;if(o){var s=At(t.rtl,t.x,t.width);for(e.x=Rt(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",a=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=q.fontString(a,t._footerFontStyle,t._footerFontFamily),r=0;r<o;++r)n.fillText(i[r],s.x(e.x),e.y+a/2),e.y+=a+t.footerSpacing}},drawBackground:function(e,t,n,a){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,i=t.yAlign,o=e.x,s=e.y,l=a.width,c=a.height,u=t.cornerRadius;n.beginPath(),n.moveTo(o+u,s),"top"===i&&this.drawCaret(e,a),n.lineTo(o+l-u,s),n.quadraticCurveTo(o+l,s,o+l,s+u),"center"===i&&"right"===r&&this.drawCaret(e,a),n.lineTo(o+l,s+c-u),n.quadraticCurveTo(o+l,s+c,o+l-u,s+c),"bottom"===i&&this.drawCaret(e,a),n.lineTo(o+u,s+c),n.quadraticCurveTo(o,s+c,o,s+c-u),"center"===i&&"left"===r&&this.drawCaret(e,a),n.lineTo(o,s+u),n.quadraticCurveTo(o,s,o+u,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},a={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,i=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&i&&(e.save(),e.globalAlpha=r,this.drawBackground(a,t,e,n),a.y+=t.yPadding,q.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),q.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,a=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,a.mode,a),a.reverse&&n._active.reverse()),(t=!q.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(a.enabled||a.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Vt=Nt,qt=Bt;qt.positioners=Vt;var zt=q.valueOrDefault;function Ut(){return q.merge({},[].slice.call(arguments),{merger:function(e,t,n,a){if("xAxes"===e||"yAxes"===e){var r,i,o,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)o=n[e][r],i=zt(o.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||o.type&&o.type!==t[e][r].type?q.merge(t[e][r],[Mt.getScaleDefaults(i),o]):q.merge(t[e][r],o)}else q._merger(e,t,n,a)}})}function Ht(){return q.merge({},[].slice.call(arguments),{merger:function(e,t,n,a){var r=t[e]||{},i=n[e];"scales"===e?t[e]=Ut(r,i):"scale"===e?t[e]=q.merge(r,[Mt.getScaleDefaults(i.type),i]):q._merger(e,t,n,a)}})}function Gt(e){var t=e.options;q.each(e.scales,(function(t){mt.removeBox(e,t)})),t=Ht(F.global,F[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Yt(e,t,n){var a,r=function(e){return e.id===a};do{a=t+n++}while(q.findIndex(e,r)>=0);return a}function Wt(e){return"top"===e||"bottom"===e}function Xt(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}F._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Kt=function(e,t){return this.construct(e,t),this};q.extend(Kt.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Ht(F.global,F[e.type],e.options||{}),e}(t);var a=Ct.acquireContext(e,t),r=a&&a.canvas,i=r&&r.height,o=r&&r.width;n.id=q.uid(),n.ctx=a,n.canvas=r,n.config=t,n.width=o,n.height=i,n.aspectRatio=i?o/i:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Kt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),a&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Dt.notify(e,"beforeInit"),q.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),Dt.notify(e,"afterInit"),e},clear:function(){return q.canvas.clear(this),this},stop:function(){return Z.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,a=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,i=Math.max(0,Math.floor(q.getMaximumWidth(a))),o=Math.max(0,Math.floor(r?i/r:q.getMaximumHeight(a)));if((t.width!==i||t.height!==o)&&(a.width=t.width=i,a.height=t.height=o,a.style.width=i+"px",a.style.height=o+"px",q.retinaScale(t,n.devicePixelRatio),!e)){var s={width:i,height:o};Dt.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;q.each(t.xAxes,(function(e,n){e.id||(e.id=Yt(t.xAxes,"x-axis-",n))})),q.each(t.yAxes,(function(e,n){e.id||(e.id=Yt(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},a=[],r=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(a=a.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&a.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),q.each(a,(function(t){var a=t.options,i=a.id,o=zt(a.type,t.dtype);Wt(a.position)!==Wt(t.dposition)&&(a.position=t.dposition),r[i]=!0;var s=null;if(i in n&&n[i].type===o)(s=n[i]).options=a,s.ctx=e.ctx,s.chart=e;else{var l=Mt.getScaleConstructor(o);if(!l)return;s=new l({id:i,type:o,options:a,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),q.each(r,(function(e,t){e||delete n[t]})),e.scales=n,Mt.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,a=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var i=r[e],o=n.getDatasetMeta(e),s=i.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(e),o=n.getDatasetMeta(e)),o.type=s,o.order=i.order||0,o.index=e,o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var l=Ze[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(n,e),a.push(o.controller)}}return a},resetElements:function(){var e=this;q.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,a=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Gt(a),Dt._invalidate(a),!1!==Dt.notify(a,"beforeUpdate")){a.tooltip._data=a.data;var r=a.buildOrUpdateControllers();for(t=0,n=a.data.datasets.length;t<n;t++)a.getDatasetMeta(t).controller.buildOrUpdateElements();a.updateLayout(),a.options.animation&&a.options.animation.duration&&q.each(r,(function(e){e.reset()})),a.updateDatasets(),a.tooltip.initialize(),a.lastActive=[],Dt.notify(a,"afterUpdate"),a._layers.sort(Xt("z","_idx")),a._bufferedRender?a._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:a.render(e)}},updateLayout:function(){var e=this;!1!==Dt.notify(e,"beforeLayout")&&(mt.update(this,this.width,this.height),e._layers=[],q.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),Dt.notify(e,"afterScaleUpdate"),Dt.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==Dt.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);Dt.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==Dt.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),Dt.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,a=zt(e.duration,n&&n.duration),r=e.lazy;if(!1!==Dt.notify(t,"beforeRender")){var i=function(e){Dt.notify(t,"afterRender"),q.callback(n&&n.onComplete,[e],t)};if(n&&a){var o=new $({numSteps:a/16.66,easing:e.easing||n.easing,render:function(e,t){var n=q.easing.effects[t.easing],a=t.currentStep,r=a/t.numSteps;e.draw(n(r),r,a)},onAnimationProgress:n.onProgress,onAnimationComplete:i});Z.addAnimation(t,o,a,r)}else t.draw(),i(new $({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,a=this;if(a.clear(),q.isNullOrUndef(e)&&(e=1),a.transition(e),!(a.width<=0||a.height<=0)&&!1!==Dt.notify(a,"beforeDraw",[e])){for(n=a._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(a.chartArea);for(a.drawDatasets(e);t<n.length;++t)n[t].draw(a.chartArea);a._drawTooltip(e),Dt.notify(a,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,a=[];for(t=0,n=(this.data.datasets||[]).length;t<n;++t)e&&!this.isDatasetVisible(t)||a.push(this.getDatasetMeta(t));return a.sort(Xt("order","index")),a},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==Dt.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(t[n],e);Dt.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==Dt.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),Dt.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==Dt.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),Dt.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return rt.modes.single(this,e)},getElementsAtEvent:function(e){return rt.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return rt.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var a=rt.modes[t];return"function"==typeof a?a(this,e,n):[]},getDatasetAtEvent:function(e){return rt.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],a=n._meta&&n._meta[t];a&&(a.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,a=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);a&&(n.unbindEvents(),q.canvas.clear(n),Ct.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Dt.notify(n,"destroy"),delete Kt.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new qt({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};q.each(e.options.events,(function(a){Ct.addEventListener(e,a,n),t[a]=n})),e.options.responsive&&(n=function(){e.resize()},Ct.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,q.each(t,(function(t,n){Ct.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var a,r,i,o=n?"set":"remove";for(r=0,i=e.length;r<i;++r)(a=e[r])&&this.getDatasetMeta(a._datasetIndex).controller[o+"HoverStyle"](a);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Dt.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var a=t.handleEvent(e);n&&(a=n._start?n.handleEvent(e):a|n.handleEvent(e)),Dt.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):a&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,a=n.options||{},r=a.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,r.mode,r),q.callback(a.onHover||a.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||a.onClick&&a.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!q.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Kt.instances={};var $t=Kt;function Zt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Qt(e){this.options=e||{}}Kt.Controller=Kt,Kt.types={},q.configMerge=Ht,q.scaleMerge=Ut,q.extend(Qt.prototype,{formats:Zt,parse:Zt,format:Zt,add:Zt,diff:Zt,startOf:Zt,endOf:Zt,_create:function(e){return e}}),Qt.override=function(e){q.extend(Qt.prototype,e)};var Jt={_date:Qt},en={formatters:{values:function(e){return q.isArray(e)?e:""+e},linear:function(e,t,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&e!==Math.floor(e)&&(a=e-Math.floor(e));var r=q.log10(Math.abs(a)),i="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=q.log10(Math.abs(e)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),i=e.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),i=e.toFixed(l)}else i="0";return i},logarithmic:function(e,t,n){var a=e/Math.pow(10,Math.floor(q.log10(e)));return 0===e?"0":1===a||2===a||5===a||0===t||t===n.length-1?e.toExponential():""}}},tn=q.isArray,nn=q.isNullOrUndef,an=q.valueOrDefault,rn=q.valueAtIndexOrDefault;function on(e,t,n){var a,r=e.getTicks().length,i=Math.min(t,r-1),o=e.getPixelForTick(i),s=e._startPixel,l=e._endPixel;if(!(n&&(a=1===r?Math.max(o-s,l-o):0===t?(e.getPixelForTick(1)-o)/2:(o-e.getPixelForTick(i-1))/2,(o+=i<t?a:-a)<s-1e-6||o>l+1e-6)))return o}function sn(e,t,n,a){var r,i,o,s,l,c,u,d,p,h,m,f,y,g=n.length,v=[],b=[],E=[];for(r=0;r<g;++r){if(s=n[r].label,l=n[r].major?t.major:t.minor,e.font=c=l.string,u=a[c]=a[c]||{data:{},gc:[]},d=l.lineHeight,p=h=0,nn(s)||tn(s)){if(tn(s))for(i=0,o=s.length;i<o;++i)m=s[i],nn(m)||tn(m)||(p=q.measureText(e,u.data,u.gc,p,m),h+=d)}else p=q.measureText(e,u.data,u.gc,p,s),h=d;v.push(p),b.push(h),E.push(d/2)}function O(e){return{width:v[e]||0,height:b[e]||0,offset:E[e]||0}}return function(e,t){q.each(e,(function(e){var n,a=e.gc,r=a.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[a[n]];a.splice(0,r)}}))}(a,g),f=v.indexOf(Math.max.apply(null,v)),y=b.indexOf(Math.max.apply(null,b)),{first:O(0),last:O(g-1),widest:O(f),highest:O(y)}}function ln(e){return e.drawTicks?e.tickMarkLength:0}function cn(e){var t,n;return e.display?(t=q.options._parseFont(e),n=q.options.toPadding(e.padding),t.lineHeight+n.height):0}function un(e,t){return q.extend(q.options._parseFont({fontFamily:an(t.fontFamily,e.fontFamily),fontSize:an(t.fontSize,e.fontSize),fontStyle:an(t.fontStyle,e.fontStyle),lineHeight:an(t.lineHeight,e.lineHeight)}),{color:q.options.resolve([t.fontColor,e.fontColor,F.global.defaultFontColor])})}function dn(e){var t=un(e,e.minor);return{minor:t,major:e.major.enabled?un(e,e.major):t}}function pn(e){var t,n,a,r=[];for(n=0,a=e.length;n<a;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function hn(e,t,n,a){var r,i,o,s,l=an(n,0),c=Math.min(an(a,e.length),e.length),u=0;for(t=Math.ceil(t),a&&(t=(r=a-n)/Math.floor(r/t)),s=l;s<0;)u++,s=Math.round(l+u*t);for(i=Math.max(l,0);i<c;i++)o=e[i],i===s?(o._index=i,u++,s=Math.round(l+u*t)):delete o.label}F._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:en.formatters.values,minor:{},major:{}}});var mn=X.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){q.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var a,r,i,o,s,l=this,c=l.options.ticks,u=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=q.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],a=0,r=l.ticks.length;a<r;++a)o.push({value:l.ticks[a],major:!1});return l._ticks=o,s=u<o.length,i=l._convertTicksToLabels(s?function(e,t){for(var n=[],a=e.length/t,r=0,i=e.length;r<i;r+=a)n.push(e[Math.floor(r)]);return n}(o,u):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(o):o,s&&(i=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=i,l.afterUpdate(),l.minSize},_configure:function(){var e,t,n=this,a=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,a=!a),n._startPixel=e,n._endPixel=t,n._reversePixels=a,n._length=t-e},afterUpdate:function(){q.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){q.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){q.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){q.callback(this.options.beforeDataLimits,[this])},determineDataLimits:q.noop,afterDataLimits:function(){q.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){q.callback(this.options.beforeBuildTicks,[this])},buildTicks:q.noop,afterBuildTicks:function(e){var t=this;return tn(e)&&e.length?q.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=q.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){q.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){q.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){q.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,a,r,i,o,s=this,l=s.options,c=l.ticks,u=s.getTicks().length,d=c.minRotation||0,p=c.maxRotation,h=d;!s._isVisible()||!c.display||d>=p||u<=1||!s.isHorizontal()?s.labelRotation=d:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,a=Math.min(s.maxWidth,s.chart.width-t),t+6>(r=l.offset?s.maxWidth/u:a/(u-1))&&(r=a/(u-(l.offset?.5:1)),i=s.maxHeight-ln(l.gridLines)-c.padding-cn(l.scaleLabel),o=Math.sqrt(t*t+n*n),h=q.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(i/o,1))-Math.asin(n/o))),h=Math.max(d,Math.min(p,h))),s.labelRotation=h)},afterCalculateTickRotation:function(){q.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){q.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,a=e.options,r=a.ticks,i=a.scaleLabel,o=a.gridLines,s=e._isVisible(),l="bottom"===a.position,c=e.isHorizontal();if(c?t.width=e.maxWidth:s&&(t.width=ln(o)+cn(i)),c?s&&(t.height=ln(o)+cn(i)):t.height=e.maxHeight,r.display&&s){var u=dn(r),d=e._getLabelSizes(),p=d.first,h=d.last,m=d.widest,f=d.highest,y=.4*u.minor.lineHeight,g=r.padding;if(c){var v=0!==e.labelRotation,b=q.toRadians(e.labelRotation),E=Math.cos(b),O=Math.sin(b),k=O*m.width+E*(f.height-(v?f.offset:0))+(v?0:y);t.height=Math.min(e.maxHeight,t.height+k+g);var w,_,P=e.getPixelForTick(0)-e.left,S=e.right-e.getPixelForTick(e.getTicks().length-1);v?(w=l?E*p.width+O*p.offset:O*(p.height-p.offset),_=l?O*(h.height-h.offset):E*h.width+O*h.offset):(w=p.width/2,_=h.width/2),e.paddingLeft=Math.max((w-P)*e.width/(e.width-P),0)+3,e.paddingRight=Math.max((_-S)*e.width/(e.width-S),0)+3}else{var x=r.mirror?0:m.width+g+y;t.width=Math.min(e.maxWidth,t.width+x),e.paddingTop=p.height/2,e.paddingBottom=h.height/2}}e.handleMargins(),c?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){q.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(nn(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,a,r=this;for(r.ticks=e.map((function(e){return e.value})),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,a=e.length;n<a;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=sn(e.ctx,dn(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,a,r;return tn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),a=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),a=e,r=e),{min:a,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:q.noop,getPixelForValue:q.noop,getValueForPixel:q.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,a=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*a+(t?a/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,a,r,i=this.options.ticks,o=this._length,s=i.maxTicksLimit||o/this._tickSize()+1,l=i.major.enabled?function(e){var t,n,a=[];for(t=0,n=e.length;t<n;t++)e[t].major&&a.push(t);return a}(e):[],c=l.length,u=l[0],d=l[c-1];if(c>s)return function(e,t,n){var a,r,i=0,o=t[0];for(n=Math.ceil(n),a=0;a<e.length;a++)r=e[a],a===o?(r._index=a,o=t[++i*n]):delete r.label}(e,l,c/s),pn(e);if(a=function(e,t,n,a){var r,i,o,s,l=function(e){var t,n,a=e.length;if(a<2)return!1;for(n=e[0],t=1;t<a;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),c=(t.length-1)/a;if(!l)return Math.max(c,1);for(o=0,s=(r=q.math._factorize(l)).length-1;o<s;o++)if((i=r[o])>c)return i;return Math.max(c,1)}(l,e,0,s),c>0){for(t=0,n=c-1;t<n;t++)hn(e,a,l[t],l[t+1]);return r=c>1?(d-u)/(c-1):null,hn(e,a,q.isNullOrUndef(r)?0:u-r,u),hn(e,a,d,q.isNullOrUndef(r)?e.length:d+r),pn(e)}return hn(e,a),pn(e)},_tickSize:function(){var e=this.options.ticks,t=q.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),r=this._getLabelSizes(),i=e.autoSkipPadding||0,o=r?r.widest.width+i:0,s=r?r.highest.height+i:0;return this.isHorizontal()?s*n>o*a?o/n:s/a:s*a<o*n?s/n:o/a},_isVisible:function(){var e,t,n,a=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(e=0,t=a.data.datasets.length;e<t;++e)if(a.isDatasetVisible(e)&&((n=a.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,a,r,i,o,s,l,c,u,d,p,h,m,f,y,g,v=this,b=v.chart,E=v.options,O=E.gridLines,k=E.position,w=O.offsetGridLines,_=v.isHorizontal(),P=v._ticksToDraw,S=P.length+(w?1:0),x=ln(O),C=[],D=O.drawBorder?rn(O.lineWidth,0,0):0,M=D/2,T=q._alignPixel,A=function(e){return T(b,e,D)};for("top"===k?(t=A(v.bottom),s=v.bottom-x,c=t-M,d=A(e.top)+M,h=e.bottom):"bottom"===k?(t=A(v.top),d=e.top,h=A(e.bottom)-M,s=t+M,c=v.top+x):"left"===k?(t=A(v.right),o=v.right-x,l=t-M,u=A(e.left)+M,p=e.right):(t=A(v.left),u=e.left,p=A(e.right)-M,o=t+M,l=v.left+x),n=0;n<S;++n)a=P[n]||{},nn(a.label)&&n<P.length||(n===v.zeroLineIndex&&E.offset===w?(m=O.zeroLineWidth,f=O.zeroLineColor,y=O.zeroLineBorderDash||[],g=O.zeroLineBorderDashOffset||0):(m=rn(O.lineWidth,n,1),f=rn(O.color,n,"rgba(0,0,0,0.1)"),y=O.borderDash||[],g=O.borderDashOffset||0),void 0!==(r=on(v,a._index||n,w))&&(i=T(b,r,m),_?o=l=u=p=i:s=c=d=h=i,C.push({tx1:o,ty1:s,tx2:l,ty2:c,x1:u,y1:d,x2:p,y2:h,width:m,color:f,borderDash:y,borderDashOffset:g})));return C.ticksLength=S,C.borderValue=t,C},_computeLabelItems:function(){var e,t,n,a,r,i,o,s,l,c,u,d,p=this,h=p.options,m=h.ticks,f=h.position,y=m.mirror,g=p.isHorizontal(),v=p._ticksToDraw,b=dn(m),E=m.padding,O=ln(h.gridLines),k=-q.toRadians(p.labelRotation),w=[];for("top"===f?(i=p.bottom-O-E,o=k?"left":"center"):"bottom"===f?(i=p.top+O+E,o=k?"right":"center"):"left"===f?(r=p.right-(y?0:O)-E,o=y?"left":"right"):(r=p.left+(y?0:O)+E,o=y?"right":"left"),e=0,t=v.length;e<t;++e)a=(n=v[e]).label,nn(a)||(s=p.getPixelForTick(n._index||e)+m.labelOffset,c=(l=n.major?b.major:b.minor).lineHeight,u=tn(a)?a.length:1,g?(r=s,d="top"===f?((k?1:.5)-u)*c:(k?0:.5)*c):(i=s,d=(1-u)*c/2),w.push({x:r,y:i,rotation:k,label:a,font:l,textOffset:d,textAlign:o}));return w},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var a,r,i,o,s,l=t.ctx,c=t.chart,u=q._alignPixel,d=n.drawBorder?rn(n.lineWidth,0,0):0,p=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(i=0,o=p.length;i<o;++i)a=(s=p[i]).width,r=s.color,a&&r&&(l.save(),l.lineWidth=a,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(d){var h,m,f,y,g=d,v=rn(n.lineWidth,p.ticksLength-1,1),b=p.borderValue;t.isHorizontal()?(h=u(c,t.left,g)-g/2,m=u(c,t.right,v)+v/2,f=y=b):(f=u(c,t.top,g)-g/2,y=u(c,t.bottom,v)+v/2,h=m=b),l.lineWidth=d,l.strokeStyle=rn(n.color,0),l.beginPath(),l.moveTo(h,f),l.lineTo(m,y),l.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,a,r,i,o,s,l,c=e.ctx,u=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,a=u.length;t<a;++t){if(o=(i=u[t]).font,c.save(),c.translate(i.x,i.y),c.rotate(i.rotation),c.font=o.string,c.fillStyle=o.color,c.textBaseline="middle",c.textAlign=i.textAlign,s=i.label,l=i.textOffset,tn(s))for(n=0,r=s.length;n<r;++n)c.fillText(""+s[n],0,l),l+=o.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,a=n.scaleLabel;if(a.display){var r,i,o=an(a.fontColor,F.global.defaultFontColor),s=q.options._parseFont(a),l=q.options.toPadding(a.padding),c=s.lineHeight/2,u=n.position,d=0;if(e.isHorizontal())r=e.left+e.width/2,i="bottom"===u?e.bottom-c-l.bottom:e.top+c+l.top;else{var p="left"===u;r=p?e.left+c+l.top:e.right-c-l.top,i=e.top+e.height/2,d=p?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,i),t.rotate(d),t.textAlign="center",t.textBaseline="middle",t.fillStyle=o,t.font=s.string,t.fillText(a.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,a=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==a&&e.draw===e._draw?[{z:a,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(a){return(!e||a.type===e)&&(n?a.xAxisID===t.id:a.yAxisID===t.id)}))}});mn.prototype._draw=mn.prototype.draw;var fn=mn,yn=q.isNullOrUndef,gn=fn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),a=t.options.ticks,r=a.min,i=a.max,o=0,s=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(o=e),void 0!==i&&(e=n.indexOf(i))>=0&&(s=e),t.minIndex=o,t.maxIndex=s,t.min=n[o],t.max=n[s]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;fn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var a,r,i,o=this;return yn(t)||yn(n)||(e=o.chart.data.datasets[n].data[t]),yn(e)||(a=o.isHorizontal()?e.x:e.y),(void 0!==a||void 0!==e&&isNaN(t))&&(r=o._getLabels(),e=q.valueOrDefault(a,e),t=-1!==(i=r.indexOf(e))?i:t,isNaN(t)&&(t=e)),o.getPixelForDecimal((t-o._startValue)/o._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),vn={position:"bottom"};gn._defaults=vn;var bn=q.noop,En=q.isNullOrUndef,On=fn.extend({getRightValue:function(e){return"string"==typeof e?+e:fn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=q.sign(e.min),a=q.sign(e.max);n<0&&a<0?e.max=0:n>0&&a>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,i=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==i&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,a=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),a=a||11),a&&(e=Math.min(a,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:bn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),a={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:q.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,a,r,i,o=[],s=e.stepSize,l=s||1,c=e.maxTicks-1,u=e.min,d=e.max,p=e.precision,h=t.min,m=t.max,f=q.niceNum((m-h)/c/l)*l;if(f<1e-14&&En(u)&&En(d))return[h,m];(i=Math.ceil(m/f)-Math.floor(h/f))>c&&(f=q.niceNum(i*f/c/l)*l),s||En(p)?n=Math.pow(10,q._decimalPlaces(f)):(n=Math.pow(10,p),f=Math.ceil(f*n)/n),a=Math.floor(h/f)*f,r=Math.ceil(m/f)*f,s&&(!En(u)&&q.almostWhole(u/f,f/1e3)&&(a=u),!En(d)&&q.almostWhole(d/f,f/1e3)&&(r=d)),i=(r-a)/f,i=q.almostEquals(i,Math.round(i),f/1e3)?Math.round(i):Math.ceil(i),a=Math.round(a*n)/n,r=Math.round(r*n)/n,o.push(En(u)?a:u);for(var y=1;y<i;++y)o.push(Math.round((a+y*f)*n)/n);return o.push(En(d)?r:d),o}(a,e);e.handleDirectionalChanges(),e.max=q.max(r),e.min=q.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),fn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),a=t.min,r=t.max;fn.prototype._configure.call(t),t.options.offset&&n.length&&(a-=e=(r-a)/Math.max(n.length-1,1)/2,r+=e),t._startValue=a,t._endValue=r,t._valueRange=r-a}}),kn={position:"left",ticks:{callback:en.formatters.linear}};function wn(e,t,n,a){var r,i,o=e.options,s=function(e,t,n){var a=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[a]&&(e[a]={pos:[],neg:[]}),e[a]}(t,o.stacked,n),l=s.pos,c=s.neg,u=a.length;for(r=0;r<u;++r)i=e._parseValue(a[r]),isNaN(i.min)||isNaN(i.max)||n.data[r].hidden||(l[r]=l[r]||0,c[r]=c[r]||0,o.relativePoints?l[r]=100:i.min<0||i.max<0?c[r]+=i.min:l[r]+=i.max)}function _n(e,t,n){var a,r,i=n.length;for(a=0;a<i;++a)r=e._parseValue(n[a]),isNaN(r.min)||isNaN(r.max)||t.data[a].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}var Pn=On.extend({determineDataLimits:function(){var e,t,n,a,r=this,i=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=i.stacked,c={},u=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(e=0;!l&&e<u;++e)l=void 0!==(t=s[e]).stack;for(e=0;e<u;++e)n=o[(t=s[e]).index].data,l?wn(r,c,t,n):_n(r,t,n);q.each(c,(function(e){a=e.pos.concat(e.neg),r.min=Math.min(r.min,q.min(a)),r.max=Math.max(r.max,q.max(a))})),r.min=q.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=q.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=q.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),Sn=kn;Pn._defaults=Sn;var xn=q.valueOrDefault,Cn=q.math.log10,Dn={position:"left",ticks:{callback:en.formatters.logarithmic}};function Mn(e,t){return q.isFinite(e)&&e>=0?e:t}var Tn=fn.extend({determineDataLimits:function(){var e,t,n,a,r,i,o=this,s=o.options,l=o.chart,c=l.data.datasets,u=o.isHorizontal();function d(e){return u?e.xAxisID===o.id:e.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var p=s.stacked;if(void 0===p)for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&d(t)&&void 0!==t.stack){p=!0;break}if(s.stacked||p){var h={};for(e=0;e<c.length;e++){var m=[(t=l.getDatasetMeta(e)).type,void 0===s.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(l.isDatasetVisible(e)&&d(t))for(void 0===h[m]&&(h[m]=[]),r=0,i=(a=c[e].data).length;r<i;r++){var f=h[m];n=o._parseValue(a[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(f[r]=f[r]||0,f[r]+=n.max)}}q.each(h,(function(e){if(e.length>0){var t=q.min(e),n=q.max(e);o.min=Math.min(o.min,t),o.max=Math.max(o.max,n)}}))}else for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&d(t))for(r=0,i=(a=c[e].data).length;r<i;r++)n=o._parseValue(a[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=q.isFinite(o.min)?o.min:null,o.max=q.isFinite(o.max)?o.max:null,o.minNotZero=q.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=Mn(t.min,e.min),e.max=Mn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(Cn(e.min))-1),e.max=Math.pow(10,Math.floor(Cn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(Cn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(Cn(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(Cn(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),a={min:Mn(t.min),max:Mn(t.max)},r=e.ticks=function(e,t){var n,a,r=[],i=xn(e.min,Math.pow(10,Math.floor(Cn(t.min)))),o=Math.floor(Cn(t.max)),s=Math.ceil(t.max/Math.pow(10,o));0===i?(n=Math.floor(Cn(t.minNotZero)),a=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(i),i=a*Math.pow(10,n)):(n=Math.floor(Cn(i)),a=Math.floor(i/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(i),10==++a&&(a=1,l=++n>=0?1:l),i=Math.round(a*Math.pow(10,n)*l)/l}while(n<o||n===o&&a<s);var c=xn(e.max,i);return r.push(c),r}(a,e);e.max=q.max(r),e.min=q.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),fn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(Cn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;fn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=xn(e.options.ticks.fontSize,F.global.defaultFontSize)/e._length),e._startValue=Cn(t),e._valueOffset=n,e._valueRange=(Cn(e.max)-Cn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(Cn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),An=Dn;Tn._defaults=An;var Nn=q.valueOrDefault,jn=q.valueAtIndexOrDefault,In=q.options.resolve,Fn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:en.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Rn(e){var t=e.ticks;return t.display&&e.display?Nn(t.fontSize,F.global.defaultFontSize)+2*t.backdropPaddingY:0}function Ln(e,t,n,a,r){return e===a||e===r?{start:t-n/2,end:t+n/2}:e<a||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Bn(e){return 0===e||180===e?"center":e<180?"left":"right"}function Vn(e,t,n,a){var r,i,o=n.y+a/2;if(q.isArray(t))for(r=0,i=t.length;r<i;++r)e.fillText(t[r],n.x,o),o+=a;else e.fillText(t,n.x,o)}function qn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function zn(e){return q.isNumber(e)?e:0}var Un=On.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Rn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;q.each(t.data.datasets,(function(r,i){if(t.isDatasetVisible(i)){var o=t.getDatasetMeta(i);q.each(r.data,(function(t,r){var i=+e.getRightValue(t);isNaN(i)||o.data[r].hidden||(n=Math.min(i,n),a=Math.max(i,a))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=a===Number.NEGATIVE_INFINITY?0:a,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Rn(this.options))},convertTicksToLabels:function(){var e=this;On.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=q.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,a,r=q.options._parseFont(e.options.pointLabels),i={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=r.string,e._pointLabelSizes=[];var s,l,c,u=e.chart.data.labels.length;for(t=0;t<u;t++){a=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=r.lineHeight,c=e.pointLabels[t],n=q.isArray(c)?{w:q.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},e._pointLabelSizes[t]=n;var d=e.getIndexAngle(t),p=q.toDegrees(d)%360,h=Ln(p,a.x,n.w,0,180),m=Ln(p,a.y,n.h,90,270);h.start<i.l&&(i.l=h.start,o.l=d),h.end>i.r&&(i.r=h.end,o.r=d),m.start<i.t&&(i.t=m.start,o.t=d),m.end>i.b&&(i.b=m.end,o.b=d)}e.setReductions(e.drawingArea,i,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var a=this,r=t.l/Math.sin(n.l),i=Math.max(t.r-a.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),s=-Math.max(t.b-(a.height-a.paddingTop),0)/Math.cos(n.b);r=zn(r),i=zn(i),o=zn(o),s=zn(s),a.drawingArea=Math.min(Math.floor(e-(r+i)/2),Math.floor(e-(o+s)/2)),a.setCenterPoint(r,i,o,s)},setCenterPoint:function(e,t,n,a){var r=this,i=r.width-t-r.drawingArea,o=e+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-a-r.drawingArea;r.xCenter=Math.floor((o+i)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(q.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var e,t,n,a=this,r=a.ctx,i=a.options,o=i.gridLines,s=i.angleLines,l=Nn(s.lineWidth,o.lineWidth),c=Nn(s.color,o.color);if(i.pointLabels.display&&function(e){var t=e.ctx,n=e.options,a=n.pointLabels,r=Rn(n),i=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),o=q.options._parseFont(a);t.save(),t.font=o.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var l=0===s?r/2:0,c=e.getPointPosition(s,i+l+5),u=jn(a.fontColor,s,F.global.defaultFontColor);t.fillStyle=u;var d=e.getIndexAngle(s),p=q.toDegrees(d);t.textAlign=Bn(p),qn(p,e._pointLabelSizes[s],c),Vn(t,e.pointLabels[s],c,o.lineHeight)}t.restore()}(a),o.display&&q.each(a.ticks,(function(e,n){0!==n&&(t=a.getDistanceFromCenterForValue(a.ticksAsNumbers[n]),function(e,t,n,a){var r,i=e.ctx,o=t.circular,s=e.chart.data.labels.length,l=jn(t.color,a-1),c=jn(t.lineWidth,a-1);if((o||s)&&l&&c){if(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash&&(i.setLineDash(t.borderDash||[]),i.lineDashOffset=t.borderDashOffset||0),i.beginPath(),o)i.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),i.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=e.getPointPosition(u,n),i.lineTo(r.x,r.y)}i.closePath(),i.stroke(),i.restore()}}(a,o,t,n))})),s.display&&l&&c){for(r.save(),r.lineWidth=l,r.strokeStyle=c,r.setLineDash&&(r.setLineDash(In([s.borderDash,o.borderDash,[]])),r.lineDashOffset=In([s.borderDashOffset,o.borderDashOffset,0])),e=a.chart.data.labels.length-1;e>=0;e--)t=a.getDistanceFromCenterForValue(i.ticks.reverse?a.min:a.max),n=a.getPointPosition(e,t),r.beginPath(),r.moveTo(a.xCenter,a.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var a,r,i=e.getIndexAngle(0),o=q.options._parseFont(n),s=Nn(n.fontColor,F.global.defaultFontColor);t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",q.each(e.ticks,(function(i,l){(0!==l||n.reverse)&&(a=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=t.measureText(i).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-a-o.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(i,0,-a))})),t.restore()}},_drawTitle:q.noop}),Hn=Fn;Un._defaults=Hn;var Gn=q._deprecated,Yn=q.options.resolve,Wn=q.valueOrDefault,Xn=Number.MIN_SAFE_INTEGER||-9007199254740991,Kn=Number.MAX_SAFE_INTEGER||9007199254740991,$n={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys($n);function Qn(e,t){return e-t}function Jn(e){return q.valueOrDefault(e.time.min,e.ticks.min)}function ea(e){return q.valueOrDefault(e.time.max,e.ticks.max)}function ta(e,t,n,a){var r=function(e,t,n){for(var a,r,i,o=0,s=e.length-1;o>=0&&o<=s;){if(r=e[(a=o+s>>1)-1]||null,i=e[a],!r)return{lo:null,hi:i};if(i[t]<n)o=a+1;else{if(!(r[t]>n))return{lo:r,hi:i};s=a-1}}return{lo:i,hi:null}}(e,t,n),i=r.lo?r.hi?r.lo:e[e.length-2]:e[0],o=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=o[t]-i[t],l=s?(n-i[t])/s:0,c=(o[a]-i[a])*l;return i[a]+c}function na(e,t){var n=e._adapter,a=e.options.time,r=a.parser,i=r||a.format,o=t;return"function"==typeof r&&(o=r(o)),q.isFinite(o)||(o="string"==typeof i?n.parse(o,i):n.parse(o)),null!==o?+o:(r||"function"!=typeof i||(o=i(t),q.isFinite(o)||(o=n.parse(o))),o)}function aa(e,t){if(q.isNullOrUndef(t))return null;var n=e.options.time,a=na(e,e.getRightValue(t));return null===a?a:(n.round&&(a=+e._adapter.startOf(a,n.round)),a)}function ra(e,t,n,a){var r,i,o,s=Zn.length;for(r=Zn.indexOf(e);r<s-1;++r)if(o=(i=$n[Zn[r]]).steps?i.steps:Kn,i.common&&Math.ceil((n-t)/(o*i.size))<=a)return Zn[r];return Zn[s-1]}function ia(e,t,n){var a,r,i=[],o={},s=t.length;for(a=0;a<s;++a)o[r=t[a]]=a,i.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,a){var r,i,o=e._adapter,s=+o.startOf(t[0].value,a),l=t[t.length-1].value;for(r=s;r<=l;r=+o.add(r,1,a))(i=n[r])>=0&&(t[i].major=!0);return t}(e,i,o,n):i}var oa=fn.extend({initialize:function(){this.mergeTicksOptions(),fn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),a=e._adapter=new Jt._date(t.adapters.date);return Gn("time scale",n.format,"time.format","time.parser"),Gn("time scale",n.min,"time.min","ticks.min"),Gn("time scale",n.max,"time.max","ticks.max"),q.mergeIf(n.displayFormats,a.formats()),fn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),fn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,a,r,i,o,s=this,l=s.chart,c=s._adapter,u=s.options,d=u.time.unit||"day",p=Kn,h=Xn,m=[],f=[],y=[],g=s._getLabels();for(e=0,n=g.length;e<n;++e)y.push(aa(s,g[e]));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(r=l.data.datasets[e].data,q.isObject(r[0]))for(f[e]=[],t=0,a=r.length;t<a;++t)i=aa(s,r[t]),m.push(i),f[e][t]=i;else f[e]=y.slice(0),o||(m=m.concat(y),o=!0);else f[e]=[];y.length&&(p=Math.min(p,y[0]),h=Math.max(h,y[y.length-1])),m.length&&(m=n>1?function(e){var t,n,a,r={},i=[];for(t=0,n=e.length;t<n;++t)r[a=e[t]]||(r[a]=!0,i.push(a));return i}(m).sort(Qn):m.sort(Qn),p=Math.min(p,m[0]),h=Math.max(h,m[m.length-1])),p=aa(s,Jn(u))||p,h=aa(s,ea(u))||h,p=p===Kn?+c.startOf(Date.now(),d):p,h=h===Xn?+c.endOf(Date.now(),d)+1:h,s.min=Math.min(p,h),s.max=Math.max(p+1,h),s._table=[],s._timestamps={data:m,datasets:f,labels:y}},buildTicks:function(){var e,t,n,a=this,r=a.min,i=a.max,o=a.options,s=o.ticks,l=o.time,c=a._timestamps,u=[],d=a.getLabelCapacity(r),p=s.source,h=o.distribution;for(c="data"===p||"auto"===p&&"series"===h?c.data:"labels"===p?c.labels:function(e,t,n,a){var r,i=e._adapter,o=e.options,s=o.time,l=s.unit||ra(s.minUnit,t,n,a),c=Yn([s.stepSize,s.unitStepSize,1]),u="week"===l&&s.isoWeekday,d=t,p=[];if(u&&(d=+i.startOf(d,"isoWeek",u)),d=+i.startOf(d,u?"day":l),i.diff(n,t,l)>1e5*c)throw t+" and "+n+" are too far apart with stepSize of "+c+" "+l;for(r=d;r<n;r=+i.add(r,c,l))p.push(r);return r!==n&&"ticks"!==o.bounds||p.push(r),p}(a,r,i,d),"ticks"===o.bounds&&c.length&&(r=c[0],i=c[c.length-1]),r=aa(a,Jn(o))||r,i=aa(a,ea(o))||i,e=0,t=c.length;e<t;++e)(n=c[e])>=r&&n<=i&&u.push(n);return a.min=r,a.max=i,a._unit=l.unit||(s.autoSkip?ra(l.minUnit,a.min,a.max,d):function(e,t,n,a,r){var i,o;for(i=Zn.length-1;i>=Zn.indexOf(n);i--)if(o=Zn[i],$n[o].common&&e._adapter.diff(r,a,o)>=t-1)return o;return Zn[n?Zn.indexOf(n):0]}(a,u.length,l.minUnit,a.min,a.max)),a._majorUnit=s.major.enabled&&"year"!==a._unit?function(e){for(var t=Zn.indexOf(e)+1,n=Zn.length;t<n;++t)if($n[Zn[t]].common)return Zn[t]}(a._unit):void 0,a._table=function(e,t,n,a){if("linear"===a||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,i,o,s,l,c=[],u=[t];for(r=0,i=e.length;r<i;++r)(s=e[r])>t&&s<n&&u.push(s);for(u.push(n),r=0,i=u.length;r<i;++r)l=u[r+1],o=u[r-1],s=u[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(i-1)});return c}(a._timestamps.data,r,i,h),a._offsets=function(e,t,n,a,r){var i,o,s=0,l=0;return r.offset&&t.length&&(i=ta(e,"time",t[0],"pos"),s=1===t.length?1-i:(ta(e,"time",t[1],"pos")-i)/2,o=ta(e,"time",t[t.length-1],"pos"),l=1===t.length?o:(o-ta(e,"time",t[t.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(a._table,u,0,0,o),s.reverse&&u.reverse(),ia(a,u,a._majorUnit)},getLabelForIndex:function(e,t){var n=this,a=n._adapter,r=n.chart.data,i=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return q.isObject(s)&&(o=n.getRightValue(s)),i.tooltipFormat?a.format(na(n,o),i.tooltipFormat):"string"==typeof o?o:a.format(na(n,o),i.displayFormats.datetime)},tickFormatFunction:function(e,t,n,a){var r=this._adapter,i=this.options,o=i.time.displayFormats,s=o[this._unit],l=this._majorUnit,c=o[l],u=n[t],d=i.ticks,p=l&&c&&u&&u.major,h=r.format(e,a||(p?c:s)),m=p?d.major:d.minor,f=Yn([m.callback,m.userCallback,d.callback,d.userCallback]);return f?f(h,t,n):h},convertTicksToLabels:function(e){var t,n,a=[];for(t=0,n=e.length;t<n;++t)a.push(this.tickFormatFunction(e[t].value,t,e));return a},getPixelForOffset:function(e){var t=this._offsets,n=ta(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var a=null;if(void 0!==t&&void 0!==n&&(a=this._timestamps.datasets[n][t]),null===a&&(a=aa(this,e)),null!==a)return this.getPixelForOffset(a)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,a=ta(this._table,"pos",n,"time");return this._adapter._create(a)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,a=q.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(a),i=Math.sin(a),o=Wn(t.fontSize,F.global.defaultFontSize);return{w:n*r+o*i,h:n*i+o*r}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,a=n.displayFormats,r=a[n.unit]||a.millisecond,i=t.tickFormatFunction(e,0,ia(t,[e],t._majorUnit),r),o=t._getLabelSize(i),s=Math.floor(t.isHorizontal()?t.width/o.w:t.height/o.h);return t.options.offset&&s--,s>0?s:1}}),sa={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};oa._defaults=sa;var la={category:gn,linear:Pn,logarithmic:Tn,radialLinear:Un,time:oa},ca={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Jt._date.override("function"==typeof e?{_id:"moment",formats:function(){return ca},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,a){return e(t).add(n,a).valueOf()},diff:function(t,n,a){return e(t).diff(e(n),a)},startOf:function(t,n,a){return t=e(t),"isoWeek"===n?t.isoWeekday(a).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),F._set("global",{plugins:{filler:{propagate:!0}}});var ua={dataset:function(e){var t=e.fill,n=e.chart,a=n.getDatasetMeta(t),r=a&&n.isDatasetVisible(t)&&a.dataset._children||[],i=r.length||0;return i?function(e,t){return t<i&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,a=t?t.y:null;return q.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===a?e.y:a}}}};function da(e,t,n){var a,r=e._model||{},i=r.fill;if(void 0===i&&(i=!!r.backgroundColor),!1===i||null===i)return!1;if(!0===i)return"origin";if(a=parseFloat(i,10),isFinite(a)&&Math.floor(a)===a)return"-"!==i[0]&&"+"!==i[0]||(a=t+a),!(a===t||a<0||a>=n)&&a;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function pa(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,a,r,i,o=e.el._scale,s=o.options,l=o.chart.data.labels.length,c=e.fill,u=[];if(!l)return null;for(t=s.ticks.reverse?o.max:o.min,n=s.ticks.reverse?o.min:o.max,a=o.getPointPositionForValue(0,t),r=0;r<l;++r)i="start"===c||"end"===c?o.getPointPositionForValue(r,"start"===c?t:n):o.getBasePosition(r),s.gridLines.circular&&(i.cx=a.x,i.cy=a.y,i.angle=o.getIndexAngle(r)-Math.PI/2),u.push(i);return u}(e):function(e){var t,n=e.el._model||{},a=e.el._scale||{},r=e.fill,i=null;if(isFinite(r))return null;if("start"===r?i=void 0===n.scaleBottom?a.bottom:n.scaleBottom:"end"===r?i=void 0===n.scaleTop?a.top:n.scaleTop:void 0!==n.scaleZero?i=n.scaleZero:a.getBasePixel&&(i=a.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if(q.isFinite(i))return{x:(t=a.isHorizontal())?i:null,y:t?null:i}}return null}(e)}function ha(e,t,n){var a,r=e[t].fill,i=[t];if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!isFinite(r))return r;if(!(a=e[r]))return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function ma(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),ua[n](e))}function fa(e){return e&&!e.skip}function ya(e,t,n,a,r){var i,o,s,l;if(a&&r){for(e.moveTo(t[0].x,t[0].y),i=1;i<a;++i)q.canvas.lineTo(e,t[i-1],t[i]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),i=r-1;i>0;--i)q.canvas.lineTo(e,n[i],n[i-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),i=r-1;i>0;--i)e.arc(o,s,l,n[i].angle,n[i-1].angle,!0)}}function ga(e,t,n,a,r,i){var o,s,l,c,u,d,p,h,m=t.length,f=a.spanGaps,y=[],g=[],v=0,b=0;for(e.beginPath(),o=0,s=m;o<s;++o)u=n(c=t[l=o%m]._view,l,a),d=fa(c),p=fa(u),i&&void 0===h&&d&&(s=m+(h=o+1)),d&&p?(v=y.push(c),b=g.push(u)):v&&b&&(f?(d&&y.push(c),p&&g.push(u)):(ya(e,y,g,v,b),v=b=0,y=[],g=[]));ya(e,y,g,v,b),e.closePath(),e.fillStyle=r,e.fill()}var va={id:"filler",afterDatasetsUpdate:function(e,t){var n,a,r,i,o=(e.data.datasets||[]).length,s=t.propagate,l=[];for(a=0;a<o;++a)i=null,(r=(n=e.getDatasetMeta(a)).dataset)&&r._model&&r instanceof Oe.Line&&(i={visible:e.isDatasetVisible(a),fill:da(r,a,o),chart:e,el:r}),n.$filler=i,l.push(i);for(a=0;a<o;++a)(i=l[a])&&(i.fill=ha(l,a,s),i.boundary=pa(i),i.mapper=ma(i))},beforeDatasetsDraw:function(e){var t,n,a,r,i,o,s,l=e._getSortedVisibleDatasetMetas(),c=e.ctx;for(n=l.length-1;n>=0;--n)(t=l[n].$filler)&&t.visible&&(r=(a=t.el)._view,i=a._children||[],o=t.mapper,s=r.backgroundColor||F.global.defaultColor,o&&s&&i.length&&(q.canvas.clipArea(c,e.chartArea),ga(c,i,o,r,s,a._loop),q.canvas.unclipArea(c)))}},ba=q.rtl.getRtlAdapter,Ea=q.noop,Oa=q.valueOrDefault;function ka(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}F._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,a=this.chart,r=a.getDatasetMeta(n);r.hidden=null===r.hidden?!a.data.datasets[n].hidden:null,a.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},a=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var r=n.controller.getStyle(a?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,a,r=document.createElement("ul"),i=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=i.length;t<n;t++)(a=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=i[t].backgroundColor,i[t].label&&a.appendChild(document.createTextNode(i[t].label));return r.outerHTML}});var wa=X.extend({initialize:function(e){q.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Ea,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Ea,beforeSetDimensions:Ea,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ea,beforeBuildLabels:Ea,buildLabels:function(){var e=this,t=e.options.labels||{},n=q.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:Ea,beforeFit:Ea,fit:function(){var e=this,t=e.options,n=t.labels,a=t.display,r=e.ctx,i=q.options._parseFont(n),o=i.size,s=e.legendHitBoxes=[],l=e.minSize,c=e.isHorizontal();if(c?(l.width=e.maxWidth,l.height=a?10:0):(l.width=a?10:0,l.height=e.maxHeight),a){if(r.font=i.string,c){var u=e.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="middle",q.each(e.legendItems,(function(e,t){var a=ka(n,o)+o/2+r.measureText(e.text).width;(0===t||u[u.length-1]+a+2*n.padding>l.width)&&(d+=o+n.padding,u[u.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:a,height:o},u[u.length-1]+=a+n.padding})),l.height+=d}else{var p=n.padding,h=e.columnWidths=[],m=e.columnHeights=[],f=n.padding,y=0,g=0;q.each(e.legendItems,(function(e,t){var a=ka(n,o)+o/2+r.measureText(e.text).width;t>0&&g+o+2*p>l.height&&(f+=y+n.padding,h.push(y),m.push(g),y=0,g=0),y=Math.max(y,a),g+=o+p,s[t]={left:0,top:0,width:a,height:o}})),f+=y,h.push(y),m.push(g),l.width+=f}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:Ea,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,a=F.global,r=a.defaultColor,i=a.elements.line,o=e.height,s=e.columnHeights,l=e.width,c=e.lineWidths;if(t.display){var u,d=ba(t.rtl,e.left,e.minSize.width),p=e.ctx,h=Oa(n.fontColor,a.defaultFontColor),m=q.options._parseFont(n),f=m.size;p.textAlign=d.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.strokeStyle=h,p.fillStyle=h,p.font=m.string;var y=ka(n,f),g=e.legendHitBoxes,v=function(e,a){switch(t.align){case"start":return n.padding;case"end":return e-a;default:return(e-a+n.padding)/2}},b=e.isHorizontal();u=b?{x:e.left+v(l,c[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+v(o,s[0]),line:0},q.rtl.overrideTextDirection(e.ctx,t.textDirection);var E=f+n.padding;q.each(e.legendItems,(function(t,a){var h=p.measureText(t.text).width,m=y+f/2+h,O=u.x,k=u.y;d.setWidth(e.minSize.width),b?a>0&&O+m+n.padding>e.left+e.minSize.width&&(k=u.y+=E,u.line++,O=u.x=e.left+v(l,c[u.line])):a>0&&k+E>e.top+e.minSize.height&&(O=u.x=O+e.columnWidths[u.line]+n.padding,u.line++,k=u.y=e.top+v(o,s[u.line]));var w=d.x(O);!function(e,t,a){if(!(isNaN(y)||y<=0)){p.save();var o=Oa(a.lineWidth,i.borderWidth);if(p.fillStyle=Oa(a.fillStyle,r),p.lineCap=Oa(a.lineCap,i.borderCapStyle),p.lineDashOffset=Oa(a.lineDashOffset,i.borderDashOffset),p.lineJoin=Oa(a.lineJoin,i.borderJoinStyle),p.lineWidth=o,p.strokeStyle=Oa(a.strokeStyle,r),p.setLineDash&&p.setLineDash(Oa(a.lineDash,i.borderDash)),n&&n.usePointStyle){var s=y*Math.SQRT2/2,l=d.xPlus(e,y/2),c=t+f/2;q.canvas.drawPoint(p,a.pointStyle,s,l,c,a.rotation)}else p.fillRect(d.leftForLtr(e,y),t,y,f),0!==o&&p.strokeRect(d.leftForLtr(e,y),t,y,f);p.restore()}}(w,k,t),g[a].left=d.leftForLtr(w,g[a].width),g[a].top=k,function(e,t,n,a){var r=f/2,i=d.xPlus(e,y+r),o=t+r;p.fillText(n.text,i,o),n.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(i,o),p.lineTo(d.xPlus(i,a),o),p.stroke())}(w,k,t,h),b?u.x+=m+n.padding:u.y+=E})),q.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,a,r,i=this;if(e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom)for(r=i.legendHitBoxes,n=0;n<r.length;++n)if(e>=(a=r[n]).left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height)return i.legendItems[n];return null},handleEvent:function(e){var t,n=this,a=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!a.onHover&&!a.onLeave)return}else{if("click"!==r)return;if(!a.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&a.onClick&&a.onClick.call(n,e.native,t):(a.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&a.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),a.onHover&&t&&a.onHover.call(n,e.native,t))}});function _a(e,t){var n=new wa({ctx:e.ctx,options:t,chart:e});mt.configure(e,n,t),mt.addBox(e,n),e.legend=n}var Pa={id:"legend",_element:wa,beforeInit:function(e){var t=e.options.legend;t&&_a(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(q.mergeIf(t,F.global.legend),n?(mt.configure(e,n,t),n.options=t):_a(e,t)):n&&(mt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},Sa=q.noop;F._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var xa=X.extend({initialize:function(e){q.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:Sa,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Sa,beforeSetDimensions:Sa,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Sa,beforeBuildLabels:Sa,buildLabels:Sa,afterBuildLabels:Sa,beforeFit:Sa,fit:function(){var e,t=this,n=t.options,a=t.minSize={},r=t.isHorizontal();n.display?(e=(q.isArray(n.text)?n.text.length:1)*q.options._parseFont(n).lineHeight+2*n.padding,t.width=a.width=r?t.maxWidth:e,t.height=a.height=r?e:t.maxHeight):t.width=a.width=t.height=a.height=0},afterFit:Sa,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var a,r,i,o=q.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,u=e.top,d=e.left,p=e.bottom,h=e.right;t.fillStyle=q.valueOrDefault(n.fontColor,F.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(r=d+(h-d)/2,i=u+l,a=h-d):(r="left"===n.position?d+l:h-l,i=u+(p-u)/2,a=p-u,c=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,i),t.rotate(c),t.textAlign="center",t.textBaseline="middle";var m=n.text;if(q.isArray(m))for(var f=0,y=0;y<m.length;++y)t.fillText(m[y],0,f,a),f+=s;else t.fillText(m,0,0,a);t.restore()}}});function Ca(e,t){var n=new xa({ctx:e.ctx,options:t,chart:e});mt.configure(e,n,t),mt.addBox(e,n),e.titleBlock=n}var Da={},Ma=va,Ta=Pa,Aa={id:"title",_element:xa,beforeInit:function(e){var t=e.options.title;t&&Ca(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(q.mergeIf(t,F.global.title),n?(mt.configure(e,n,t),n.options=t):Ca(e,t)):n&&(mt.removeBox(e,n),delete e.titleBlock)}};for(var Na in Da.filler=Ma,Da.legend=Ta,Da.title=Aa,$t.helpers=q,function(){function e(e,t,n){var a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}function t(e){return null!=e&&"none"!==e}function n(n,a,r){var i=document.defaultView,o=q._getParentNode(n),s=i.getComputedStyle(n)[a],l=i.getComputedStyle(o)[a],c=t(s),u=t(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?e(s,n,r):d,u?e(l,o,r):d):"none"}q.where=function(e,t){if(q.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return q.each(e,(function(e){t(e)&&n.push(e)})),n},q.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var a=0,r=e.length;a<r;++a)if(t.call(n,e[a],a,e))return a;return-1},q.findNextWhere=function(e,t,n){q.isNullOrUndef(n)&&(n=-1);for(var a=n+1;a<e.length;a++){var r=e[a];if(t(r))return r}},q.findPreviousWhere=function(e,t,n){q.isNullOrUndef(n)&&(n=e.length);for(var a=n-1;a>=0;a--){var r=e[a];if(t(r))return r}},q.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},q.almostEquals=function(e,t,n){return Math.abs(e-t)<n},q.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},q.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},q.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},q.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},q.toRadians=function(e){return e*(Math.PI/180)},q.toDegrees=function(e){return e*(180/Math.PI)},q._decimalPlaces=function(e){if(q.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},q.getAngleFromPoint=function(e,t){var n=t.x-e.x,a=t.y-e.y,r=Math.sqrt(n*n+a*a),i=Math.atan2(a,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:r}},q.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},q.aliasPixel=function(e){return e%2==0?0:.5},q._alignPixel=function(e,t,n){var a=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*a)/a+r},q.splineCurve=function(e,t,n,a){var r=e.skip?t:e,i=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),c=s/(s+l),u=l/(s+l),d=a*(c=isNaN(c)?0:c),p=a*(u=isNaN(u)?0:u);return{previous:{x:i.x-d*(o.x-r.x),y:i.y-d*(o.y-r.y)},next:{x:i.x+p*(o.x-r.x),y:i.y+p*(o.y-r.y)}}},q.EPSILON=Number.EPSILON||1e-14,q.splineCurveMonotone=function(e){var t,n,a,r,i,o,s,l,c,u=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),d=u.length;for(t=0;t<d;++t)if(!(a=u[t]).model.skip){if(n=t>0?u[t-1]:null,(r=t<d-1?u[t+1]:null)&&!r.model.skip){var p=r.model.x-a.model.x;a.deltaK=0!==p?(r.model.y-a.model.y)/p:0}!n||n.model.skip?a.mK=a.deltaK:!r||r.model.skip?a.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(a.deltaK)?a.mK=0:a.mK=(n.deltaK+a.deltaK)/2}for(t=0;t<d-1;++t)a=u[t],r=u[t+1],a.model.skip||r.model.skip||(q.almostEquals(a.deltaK,0,this.EPSILON)?a.mK=r.mK=0:(i=a.mK/a.deltaK,o=r.mK/a.deltaK,(l=Math.pow(i,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),a.mK=i*s*a.deltaK,r.mK=o*s*a.deltaK)));for(t=0;t<d;++t)(a=u[t]).model.skip||(n=t>0?u[t-1]:null,r=t<d-1?u[t+1]:null,n&&!n.model.skip&&(c=(a.model.x-n.model.x)/3,a.model.controlPointPreviousX=a.model.x-c,a.model.controlPointPreviousY=a.model.y-c*a.mK),r&&!r.model.skip&&(c=(r.model.x-a.model.x)/3,a.model.controlPointNextX=a.model.x+c,a.model.controlPointNextY=a.model.y+c*a.mK))},q.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},q.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},q.niceNum=function(e,t){var n=Math.floor(q.log10(e)),a=e/Math.pow(10,n);return(t?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)},q.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},q.getRelativePosition=function(e,t){var n,a,r=e.originalEvent||e,i=e.target||e.srcElement,o=i.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,a=s[0].clientY):(n=r.clientX,a=r.clientY);var l=parseFloat(q.getStyle(i,"padding-left")),c=parseFloat(q.getStyle(i,"padding-top")),u=parseFloat(q.getStyle(i,"padding-right")),d=parseFloat(q.getStyle(i,"padding-bottom")),p=o.right-o.left-l-u,h=o.bottom-o.top-c-d;return{x:n=Math.round((n-o.left-l)/p*i.width/t.currentDevicePixelRatio),y:a=Math.round((a-o.top-c)/h*i.height/t.currentDevicePixelRatio)}},q.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},q.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},q._calculatePadding=function(e,t,n){return(t=q.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},q._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},q.getMaximumWidth=function(e){var t=q._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,a=n-q._calculatePadding(t,"padding-left",n)-q._calculatePadding(t,"padding-right",n),r=q.getConstraintWidth(e);return isNaN(r)?a:Math.min(a,r)},q.getMaximumHeight=function(e){var t=q._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,a=n-q._calculatePadding(t,"padding-top",n)-q._calculatePadding(t,"padding-bottom",n),r=q.getConstraintHeight(e);return isNaN(r)?a:Math.min(a,r)},q.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},q.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var a=e.canvas,r=e.height,i=e.width;a.height=r*n,a.width=i*n,e.ctx.scale(n,n),a.style.height||a.style.width||(a.style.height=r+"px",a.style.width=i+"px")}},q.fontString=function(e,t,n){return t+" "+e+"px "+n},q.longestText=function(e,t,n,a){var r=(a=a||{}).data=a.data||{},i=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(r=a.data={},i=a.garbageCollect=[],a.font=t),e.font=t;var o,s,l,c,u,d=0,p=n.length;for(o=0;o<p;o++)if(null!=(c=n[o])&&!0!==q.isArray(c))d=q.measureText(e,r,i,d,c);else if(q.isArray(c))for(s=0,l=c.length;s<l;s++)null==(u=c[s])||q.isArray(u)||(d=q.measureText(e,r,i,d,u));var h=i.length/2;if(h>n.length){for(o=0;o<h;o++)delete r[i[o]];i.splice(0,h)}return d},q.measureText=function(e,t,n,a,r){var i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>a&&(a=i),a},q.numberOfLabelLines=function(e){var t=1;return q.each(e,(function(e){q.isArray(e)&&e.length>t&&(t=e.length)})),t},q.color=k?function(e){return e instanceof CanvasGradient&&(e=F.global.defaultColor),k(e)}:function(e){return console.error("Color.js not found!"),e},q.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:q.color(e).saturate(.5).darken(.1).rgbString()}}(),$t._adapters=Jt,$t.Animation=$,$t.animationService=Z,$t.controllers=Ze,$t.DatasetController=ne,$t.defaults=F,$t.Element=X,$t.elements=Oe,$t.Interaction=rt,$t.layouts=mt,$t.platform=Ct,$t.plugins=Dt,$t.Scale=fn,$t.scaleService=Mt,$t.Ticks=en,$t.Tooltip=qt,$t.helpers.each(la,(function(e,t){$t.scaleService.registerScaleType(t,e,e._defaults)})),Da)Da.hasOwnProperty(Na)&&$t.plugins.register(Da[Na]);$t.platform.initialize();var ja=$t;return"undefined"!=typeof window&&(window.Chart=$t),$t.Chart=$t,$t.Legend=Da.legend._element,$t.Title=Da.title._element,$t.pluginService=$t.plugins,$t.PluginBase=$t.Element.extend({}),$t.canvasHelpers=$t.helpers.canvas,$t.layoutService=$t.layouts,$t.LinearScaleBase=On,$t.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){$t[e]=function(t,n){return new $t(t,$t.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),ja}(function(){try{return n(4)}catch(e){}}())},1806:function(e,t,n){"use strict";n(13),n(14),n(16),n(190),n(645),n(251),n(18),n(19),n(15),n(1523),n(1524),n(17);var a=n(6),r=n.n(a),i=n(1193),o=n.n(i),s=n(93),l=n.n(s),c=n(94),u=n.n(c),d=n(95),p=n.n(d),h=n(96),m=n.n(h),f=n(77),y=n.n(f),g=n(97),v=n.n(g),b=n(0),E=n.n(b),O=n(98),k=n.n(O),w=n(4),_=n.n(w),P=n(78),S=n(59),x=n(1582),C=n(1530),D=n(1529),M=n(1525),T=n(1551),A=n(1715),N="Report immediately if card is lost or stolen.",j={1:"Card will be disabled temporarily and all transactions will be declined. ".concat(N),2:"Online transactions will be declined based on controls set. ".concat(N),3:"All store purchases outside the Philippines will be declined based on controls set. ".concat(N),4:"All store purchases in the Philippines will be declined based on controls set. ".concat(N)},I={1:"Are you sure you want to unlock your card?",2:"Are you sure you want to allow Online transactions?",3:"Are you sure you want to allow transactions made outside the Philippines?",4:"Are you sure you want to allow transactions made in the Philippines?"},F=n(1441),R=n(1442),L=n(99),B=n(1532),V=n(189),q=n(113),z=n(1537);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={all:"You have successfully {status} your card.",online:"You successfully {status} your transaction control for all Online purchases",international:"You successfully {status} your transaction control for all International in-store purchases",local:"You successfully {status} your transaction control for all Local in-store purchases"},Y=E.a.createElement("div",{style:{height:"70vh",position:"relative"}},E.a.createElement(T.a,null,E.a.createElement("p",{className:"text-center"},E.a.createElement("b",null,"UnionBank of the Philippines Visa Card Transaction Control Terms and Conditions ")),E.a.createElement("p",null,"PLEASE CAREFULLY READ THE FOLLOWING TERMS AND CONDITIONS BEFORE AGREEING TO PARTICIPATE IN THE ",E.a.createElement("b",null,"UNIONBANK OF THE PHILIPPINES VISA CARD TRANSACTION CONTROL SERVICE"),' (THE "SERVICE"). YOU AGREE TO BE BOUND BY THESE TERMS AND CONDITIONS ("AGREEMENT") AND REPRESENT AND WARRANT THAT YOU HAVE THE RIGHT, AUTHORITY, AND CAPACITY TO ENTER INTO THIS AGREEMENT.'),E.a.createElement("p",null,E.a.createElement("b",null,"Acceptance of the Terms.")," Your use of the Service constitutes your acceptance of this Agreement. This Agreement is subject to change from time to time. We will notify you of any material change via e-mail, SMS message, by online secure message, or through our website",E.a.createElement("a",{href:"https://www.unionbankph.com/",target:"_blank"}," www.unionbankph.com")," by providing a link to the revised Agreement. Further, UnionBank reserves the right, in its sole discretion, to change, modify, add, or remove portions from the Services. If the change is favorable to you, we may make the change at any time without prior notification. If you do not agree with the change you may discontinue using the Service. Your continued use of the Service will indicate your acceptance of any such changes to the Service and/or this Agreement."),E.a.createElement("p",null,E.a.createElement("b",null,"Service."),' The Card Transaction Control Service (“Service”) is a program that is a self-service facility designed to allow you to temporarily disable your Visa credit card in the event it is misplaced, lost, or stolen, or to set a transaction amount limits at selected merchant categories. The Service is offered by UnionBank of the Philippines (referred to herein as "UnionBank", "us", "we" or "our"). To use the Service, you must have a UnionBank online banking account and internet service. The Service may be accessed through UnionBank’s online banking or mobile application.'),E.a.createElement("p",null,"The Service does not allow for the cancellation of authorized or pre-authorized credit card transactions for recurring payments or under automatic debit arrangements. It is not intended as a method for stopping payment on authorized or pre-authorized transactions. In accordance with Visa operating rules, all transactions for which there is prior authorization, will be paid by UnionBank. This applies to authorizations made in both card present and card not present situations, and in cases of pre-authorized recurring transactions. Pre-authorized recurring transactions must be stopped in accordance with the agreements made by the User with the merchant involved in the pre-authorization."),E.a.createElement("p",null,E.a.createElement("b",null,"Hardware and Software Requirements.")," In order to use the Service, you must obtain and maintain, at your expense, the UnionBank mobile app, or access to the UnionBank online banking website, and the connectivity required to use the Service. You are responsible for the security of your device, and for allowing its use only by individuals authorized by you. You agree to maintain internal security controls to protect your device and your member information."),E.a.createElement("p",null,"You are responsible for all costs of using the Service and operating the device, including, but not limited to cellular and internet service charge."),E.a.createElement("p",null,E.a.createElement("b",null,"Definition of Terms.")," In these Terms and Conditions:"),E.a.createElement("p",null,"“Card account” refers to the Visa credit card account held with UnionBank in the customer’s name, whether solely or jointly with another person."),E.a.createElement("p",null,"“Card transaction/s” refers to transactions initiated using the customer’s card including, but not limited to, ATM Withdrawals, Point of Sale or Online/Mobile Purchases."),E.a.createElement("p",null,"“You”, “Your”, and “Customer” refer to the owner of the account."),E.a.createElement("p",null,E.a.createElement("b",null,"Limitation of Service.")," When using the Service, you may experience technical difficulties or any other interruption that may impede your access to the Service. We will attempt to post alerts on our website or send you an SMS message to notify you of these interruptions in Service. We cannot assume responsibility for any technical difficulties or any resulting damages that you may incur."),E.a.createElement("p",null,"The Service has qualification requirements, and we reserve the right to change the qualifications at any time without prior notice. We likewise reserve the right to change, suspend, or discontinue the Service, in whole or in part, or your use of the Service, in whole or in part, immediately and at any time without prior notice to you."),E.a.createElement("p",null,E.a.createElement("b",null,"Availability of Service.")," While we will make every effort to decline transactions while your card is in a deactivated state, or to immediately apply the transaction limits you have set on your card, we do not guarantee the continuous availability of the Service, we cannot and do not guarantee that all such transactions will be declined, and that all transaction limits set will take effect immediately due to circumstances beyond our control. You acknowledge that the deactivation and the transaction limit adjustment function are reliant on computer and/or telecommunication systems. Disruptions to these systems may result in the authorization of transactions, even when the card is in a deactivated state or transactions limits are in place. Reactivation of cards may be unavailable during certain times of day. We will attempt to notify you of these times."),E.a.createElement("p",null,"You are responsible for monitoring your account activity, whether electronically or by checking your statements. Use of the Service does not override the user’s responsibility to report unauthorized transactions in a timely manner. UnionBank assumes no responsibility for failure of the Service to work in the expected manner, aside from the responsibilities put forth in said agreement."),E.a.createElement("p",null,E.a.createElement("b",null,"Fees.")," You agree to pay the charges that may be imposed by the Bank when availing of the Service and the standard SMS and call rates that apply in the course of your use of the Service. We will deduct the charges directly from your deposit account balance as these are incurred. We are not responsible for the monitoring of your mobile phone charges. It is your responsibility to monitor these charges and to ensure that you have enough mobile credits to use the Service. The Bank will not be liable for dishonor of other debits to your deposit account resulting from our deduction of any charges as authorized by your acceptance of these terms."),E.a.createElement("p",null,"You are also responsible for paying any and whatever taxes due or may be imposed upon arising from availment of the Service. You authorize the Bank to automatically charge or debit your deposit account for any and all such taxes due."),E.a.createElement("p",null,"We reserve the right to change the charges, fees, or other terms described in these Terms and Conditions. When changes are made and/or fees, charges or other material terms are added we will update these Terms and Conditions, and either send a notice to you at the address shown on our records, or send you an email."),E.a.createElement("p",null,"You agree to be responsible to check the website from time to time, for any updates to these Terms and Conditions and you further agree that your continued use of the Service after the effectivity of any changes to the Terms and Conditions will constitute your consent and adherence to such changes."),E.a.createElement("p",null,"As always, you may choose to decline changes by discontinuing the accounts or services to which these changes relate. The Bank also reserve the option, in our business judgment, to waive, reduce or reverse charges or fees for individual situations."),E.a.createElement("p",null,E.a.createElement("b",null,"Ownership & License.")," You agree that UnionBank retains all ownership and proprietary rights of the Service, associated content, technology, and website(s). Your use of the Service is subject to and conditioned upon your complete compliance with this Agreement. Without limiting the restriction of the foregoing, you may not use the Service (i) in any anti-competitive manner, (ii) for any purpose which would be contrary to UnionBank’s business interest, or (iii) to UnionBank’s actual or potential economic disadvantage in any aspect. You may use the Service only for non-business, personal use in accordance with this Agreement. You may not copy, reproduce, distribute or create derivative works from the content and agree not to reverse engineer or reverse compile any of the technology used to provide the Service. You agree not to question or dispute said ownership by UnionBank and herein assign to UnionBank any and all rights over said Service, associated content, technology and website, whether vested, contingent or future and all rights of action and all other rights of whatever nature therein, whether now existing or in the future created, to which you may now or at anytime be entitled under law. You agree to execute all documents and deeds necessary to effect said assignment."),E.a.createElement("p",null,E.a.createElement("b",null,"Enforceability.")," We may waive enforcement of any provision of the Agreement. No waiver or a breach of this Agreement shall constitute a waiver of any prior or subsequent breach of the Agreement. Any such waiver shall not affect our rights with respect to any other transaction or to modify the terms of this Agreement. In the event that any provision of this Agreement shall be deemed to be invalid, illegal, or unenforceable to any extent, the remainder of the Agreement shall not be impaired or otherwise affected and shall continue to be valid and enforceable to the fullest extent permitted by law."),E.a.createElement("p",null,E.a.createElement("b",null,"Representation and Warranties.")," You represent and warrant to us that you and any user you authorize will use the Service only for lawful purposes and in compliance with all applicable rules and regulations and without reasonable instructions, rules, policies, specification, and operating procedures and will not violate any law of any country or the intellectual property rights of any third party."),E.a.createElement("p",null,E.a.createElement("b",null,"Limitations.")),E.a.createElement("ol",null,E.a.createElement("li",null,E.a.createElement("b",null,"No Warranties."),' Equipment, Computer, and Software. UNIONBANK, ITS DIRECTORS, OFFICERS, EMPLOYEES, STAFF, REPRESENTATIVES, ASSIGNS, RELATED PARTIES, AFFILIATES, SUBSIDIARIES, DIVISIONS, ADVERTISING AND PROMOTION AGENCIES OR THEIR SERVICE PROVIDERS (COLLECTIVELY, "RELEASED PARTIES") SPECIFICALLY DISCLAIM ANY RESPONSIBILITY AND ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, AS TO THE OPERATION OF THE SERVICE OR EQUIPMENT. YOU AGREE THAT YOUR USE OF AND ACCESS TO THE SERVICE AND ANY EQUIPMENT ARE AT YOUR SOLE RISK. THE SERVICE AND ANY EQUIPMENT USED TO MAKE AVAILABLE SUCH SERVICE IS PROVIDED ON AN "AS IS" AND AN "AS AVAILABLE" BASIS.'),E.a.createElement("br",null),E.a.createElement("li",null,E.a.createElement("b",null,"Limitation of Liability.")," The Bank may, from time to time, introduce new features on the Service. By using the Service, you agree to be bound by the Terms and Conditions that will be made available to you concerning these services.",E.a.createElement("p",null,"The Bank does not guarantee the continuous availability of the Service."),E.a.createElement("p",null,"The Bank shall not be liable for any loss or damage of whatever nature in connection with the implementation of Service in the following instances:")),E.a.createElement("ol",{style:{listStyleType:"lower-alpha"}},E.a.createElement("li",null,"Disruption, failure or delay relating to or in connection with the Service which are due to circumstances beyond the control of the Bank, unforeseen events, fortuitous events, such as but not limited to, prolonged power outages, breakdown in computers, software, operating systems and telecommunication facilities, typhoons, floods, public disturbances and calamities and other similar or related cases."),E.a.createElement("br",null),E.a.createElement("li",null,"Loss or damage arising out of any fraudulent access or utilization of the Service due to theft or unauthorized disclosure of mobile phones, passwords, or violation of other security measures used for the Service with or without your participation."),E.a.createElement("br",null),E.a.createElement("li",null,"Inaccurate, incomplete or delayed information is received due to disruption or failure of any information or communication facilities used for the Service, or due to faults in the telecommunication network, internet or network failure, or software or hardware error beyond the control of the Bank."),E.a.createElement("br",null),E.a.createElement("li",null,"Inaccurate, incomplete or delayed information is received due to disruption or failure of any information or communication facilities used for the Service, or due to faults in the telecommunication network, internet or network failure, or software or hardware error beyond the control of the Bank."),E.a.createElement("br",null),E.a.createElement("li",null,"Any and all liability, costs, damages, losses and causes of action arising from or in any way connected with the disclosure of information concerning your accounts and/or transactions with the Bank to unauthorized persons for any reason whatsoever, including but not limited to, wiretapping of communication lines or erroneous connection by telecommunication switches, or errors in transmitted information due to faulty lines, and any and all forms of high technology surveillance or fraud.")),E.a.createElement("p",null,"You agree to hold the Bank free and harmless from any claims and liabilities and you undertake to reimburse/indemnify the Bank for all such costs, payments, damages, and expenses which the Bank may be liable for or which the Bank may incur or have incurred by reason of the Bank’s implementation of any and all requests/transactions you make through the Service."),E.a.createElement("p",null,"At any rate, any liability of the Bank for damages suffered by you arising from this agreement; your use of the Service; or, the breach of any of the Bank’s obligations hereunder, shall be limited to the amount ofthe annual charges you have incurred for the year you suffered the damage."),E.a.createElement("p",null,"All terms and conditions of your existing deposit accounts with the Bank insofar as not inconsistent herewith shall remain in full force and effect."),E.a.createElement("p",null,"You agree that where particular transactions, products and services are subject to specific terms and conditions agreed upon between you and the Bank, insofar as not inconsistent herewith, or that are applicable thereto from time to time, such terms and conditions shall take precedence."),E.a.createElement("p",null,"If the Bank is asked to execute an instruction, the Bank may take into consideration any other transactions that have been authorized but have not been debited from the account (and any other transactional charges upon the account) and if the Bank determines that there are or will be insufficient available funds in the account to pay the amount that would be due in respect of such instruction, the Bank may in its own absolute discretion, but with notice to you, refuse to authorize such transaction, in which event such transaction will not be debited from the account. The Bank shall not be liable for any loss or courses of action resulting from any such refusal to authorize any transaction."),E.a.createElement("p",null,"With notice to you, we may also refuse to allow any requests/transactions without liability to you if we have reason to believe that one or more requests/transactions on your account may have been unauthorized or fraudulent or erroneous; if there is a dispute concerning the account that makes us uncertain regarding the instructions that have been given; if the deposit account is garnished or attached; if the deposit account has been pledged as collateral for a debt; if the availability of funds on deposit cannot be verified; if any required documentation has not been presented; or if you have failed to repay an obligation to us on time."),E.a.createElement("li",null,E.a.createElement("b",null,"Indemnity.")," You agree to indemnify and hold harmless the Bank (Board of Directors and Employees) from any loss, liability, claim, or demand, including reasonable attorneys’ fees, made by any third party due to or arising out of your use of the Service in violation of this Agreement and/or arising from a breach of this Agreement and/or any breach of your representations and warranties set forth herein.")),E.a.createElement("p",null,"UNIONBANK SHALL NOT BE LIABLE FOR ANY DAMAGES OTHER THAN THOSE CAUSED SOLELY AND DIRECTLY BY ITS GROSS NEGLIGENCE OR WILLFUL MISCONDUCT, AND ITS LIABILITY SHALL IN NO EVENT EXCEED YOUR ACTUAL DAMAGES. UNIONBANK SHALL NOT BE LIABLE FOR ANY INDIRECT, SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES. YOU ACKNOWLEDGE THAT THE SERVICE IS PROVIDED BY UNIONBANK ON AN “AS IS” BASIS, AND THAT YOU USE IT AT YOUR SOLE RISK. EXCEPT AS EXPRESSLY SET FORTH IN THIS AGREEMENT, THE CREDIT UNION MAKES NO REPRESENTATION OR WARRANTY, EXPRESS OR IMPLIED, AS TO THE SERVICE INCLUDING, WITHOUT LIMITATION, ANY WARRANTY OR MERCHANTABILITY OR FITNESS OF A PARTICULAR PURPOSE."),E.a.createElement("p",null,E.a.createElement("b",null,"Termination.")," You may request for termination of the Service or Card unenrollment by placing a request via the UnionBank application. You shall remain responsible for any requests made on your account/s through the Service prior to the time of such termination of the Service."),E.a.createElement("p",null,"Without limiting the foregoing, this Agreement may be terminated if you breach any term of this Agreement, if you use the Services for any unauthorized or illegal purposes or you use the Services in a manner inconsistent with the terms of your Bank Services Agreement or any other Agreement with us."),E.a.createElement("p",null,E.a.createElement("b",null,"No Amendment of Existing Terms and Conditions for Cards.")," THE TRANSACTION ALERTS THAT ARE PROVIDED TO YOU THROUGH THIS SERVICE DO NOT AMEND, SUPPLEMENT, CHANGE OR REPLACE ANY OTHER NOTICE OR INFORMATION THAT YOU MAY RECEIVE IN CONNECTION WITH YOUR CARD ACCOUNT, INCLUDING, BUT NOT LIMITED TO, ANY INFORMATION PROVIDED TO YOU ON YOUR PERIODIC STATEMENT OR CARDMEMBER AGREEMENT."),E.a.createElement("p",null,E.a.createElement("b",null,"Miscellaneous.")," Should the Bank become involved in any litigation in connection with or arising from these Terms and Conditions, or with any of the rights, powers and remedies hereunder, all fees and expenses incurred by the Bank in such a litigation, including a reasonable amount for the attorney’s fees which amount is hereby agreed to be at the rate of 10% of the sum sought, shall be paid by you."),E.a.createElement("p",null,"These Terms and Conditions are governed the applicable laws of the Philippines and the rules and ulations of the Bangko Sentral ng Pilipinas."),E.a.createElement("p",null,"The venue of all legal actions or proceedings arising out of or in connection with these Terms and Conditions shall be brought only in the proper courts of Pasig City to the exclusion of all other venues."))),W=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={lockedAll:!1,showModal:!1,rule:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,n=e.productDetails,a=e.transactionControl;n&&n.id?a?this.updateTransactionControl(a):this.fetchCardControl(n.id):t.replace("/dashboard")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dismissConfirmModal,a=t.disableAllRule,r=t.selectedRule,i=t.setSelectedRule,o=t.transactionControl,s=t.resetConfirmModal,l=t.clearSelectedRule,c=t.confirmModal,u=t.productDetails,d=t.history,p=this.state.rule;c.state&&o&&c.key===o.id&&(n(!1),a?this.updateAll(a):p?(i(p),this.setState({rule:null}),this.updateRule(p)):r&&this.updateRule(r)),(c.canceled||e.confirmModal.message&&!c.message&&!c.state&&o&&c.key===o.id)&&(s(),this.setState({lockedAll:null}),this.setState({lockedAll:!this.state.lockedAll})),c.state&&"handleDismiss"===c.key&&(n(!1),l(),this.handleDismiss()),u&&!u.id&&d.replace("/dashboard")}},{key:"componentWillUnmount",value:function(){(0,this.props.resetState)()}},{key:"getNotifCountUnseen",value:function(){var e=this.props.updateNotificationsCount;L.a.get("/notifications/count-unseen").then((function(t){e(t.data)}))}},{key:"updateTransactionControl",value:function(e){var t=this.props.setTransactionControl;this.setState({lockedAll:e.all.locked}),t(e)}},{key:"showRuleForm",value:function(e,t){if(t)return!1;var n=this.props,a=n.setSelectedRule,r=n.transactionControl;e.credit_limit=r.credit_limit,a(e),this.closeNotificationSidebar()}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"showToast",value:function(e,t){var n="";n=e?"all"===t?"locked":"enabled":"all"===t?"unlocked":"disabled",(0,this.props.toastOpen)(G[t].replace("{status}",n),"success")}},{key:"fetchCardControl",value:function(e){var t=this;L.a.get("user/products/".concat(e,"/transaction-control")).then((function(e){t.updateTransactionControl(e.data)}))}},{key:"updateRule",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.transactionControl,o=n.productDetails,s=n.clearSelectedRule,l=i.rules.map((function(n){return e.id===n.id?e:(n.start_time=t.formatTime(n.start_time),n.end_time=t.formatTime(n.end_time),n)}));a(),L.a.put("user/products/".concat(o.id,"/transaction-control"),{rules:l}).then((function(n){t.updateTransactionControl(n.data),t.getNotifCountUnseen(),t.showToast(e.locked,e.name.toLowerCase()),s(),r()})).catch((function(e){r()}))}},{key:"updateAll",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.productDetails,o=n.clearDisableAllRule;e.start_time=e.start_time?Object(B.e)(e.start_time):null,e.end_time=e.end_time?Object(B.e)(e.end_time):null,a(),L.a.put("user/products/".concat(i.id,"/transaction-control/all"),e).then((function(n){t.updateTransactionControl(n.data),t.getNotifCountUnseen(),t.showToast(e.locked,"all"),o(),r()})).catch((function(e){r()}))}},{key:"formatTime",value:function(e){if(!e)return null;var t=_.a.utc(e,"HH:mm").toDate();return _()(t).format("HH:mmZZ")}},{key:"handleSubmit",value:function(e){var t=this.props,n=t.openConfirmModal,a=t.transactionControl,r="",i="",o="Enable";this.setState({rule:e}),e.locked?(i="Enable ".concat(e.name," Controls"),r=j[e.id]):(r=I[e.id],i="Disable ".concat(e.name," Controls"),o="Allow"),n(a.id,i,r,o,"Cancel")}},{key:"handleSubmitAll",value:function(){var e=this.props,t=e.openConfirmModal,n=e.setDisableAllRule,a=e.transactionControl,r="",i="",o=Object.assign({},a.all),s="Lock";o.locked?(r=I[o.id],i="Unlock Card",s="Unlock"):(i="Lock Card",r=j[o.id]),o.locked=!o.locked,n(o),t(a.id,i,r,s,"Cancel"),this.setState({lockedAll:o.locked})}},{key:"confirmDismiss",value:function(){var e=this.props,t=e.openConfirmModal,n=e.ruleForm;n.errors&&n.errors.noChanges?this.handleDismiss():t("handleDismiss","Hang on","Your changes will be lost if you don't save them. Are you sure you want to proceed?")}},{key:"handleDismiss",value:function(){(0,this.props.clearSelectedRule)()}},{key:"getAdvanceSettings",value:function(){var e=this,t=this.props.transactionControl;if(!t||!t.rules)return null;var n=t.all&&t.all.locked;return t.rules.map((function(t){return E.a.createElement("div",{className:"list-group-item ".concat(!n&&"btn"),key:t.id,role:"presentation",onClick:e.showRuleForm.bind(e,t,n)},E.a.createElement(A.b,t))}))}},{key:"getIcon",value:function(e){return e?E.a.createElement(F.a,{className:"align-self-center"}):E.a.createElement(R.a,{className:"align-self-center"})}},{key:"getLockAllButton",value:function(e){return E.a.createElement("div",{className:"card my-4"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item"},E.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},E.a.createElement("div",{className:"rounded-circle d-flex justify-content-center",style:{border:"1px #ececec solid",width:"40px",height:"40px"}},this.getIcon(e.locked)),E.a.createElement("div",{className:"d-flex flex-column flex-md-row mx-3",style:{flexGrow:"1"}},E.a.createElement("div",{className:"text-left text-primary font-weight-bold  col-md-2 col-12"},e.name),E.a.createElement("div",{className:"text-muted text-left col-md-9 col-12"},this.state.lockedAll?"Card is locked":"Card is unlocked")),E.a.createElement("div",{style:{width:"50px"}},E.a.createElement(o.a,{className:"justify-content-center",checked:this.state.lockedAll,onChange:this.handleSubmitAll}))))))}},{key:"showTermsAndCondition",value:function(){(0,this.props.openAlertModal)(Y,{title:"Terms and Condition",buttonLabel:"",size:"medium"})}},{key:"render",value:function(){var e=this.props,t=e.productDetails,n=e.transactionControl;return E.a.createElement(C.a,{title:"Transaction Controls"},E.a.createElement(D.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},n&&E.a.createElement(M.a,{title:"Lock/Unlock, set limits & alerts"},E.a.createElement("div",null,t&&E.a.createElement(x.a,{item:t,balance:t.balance,maskToggle:!0})),this.getLockAllButton(n.all),E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush",style:{opacity:n.all.locked?"0.6":"1"}},this.getAdvanceSettings())),E.a.createElement("div",{className:"mt-5 px-3"},"By using Transaction Controls, you confirm that you accept its "," ",E.a.createElement("a",{href:"#",onClick:this.showTermsAndCondition},"Terms and Conditions"),".")))),E.a.createElement(A.c,{onDismiss:this.confirmDismiss,onSubmit:this.handleSubmit}))}}]),t}(E.a.Component),X=Object(P.c)((function(e){var t=e.page;return H({},e.cardControl,{productDetails:e.creditCard.creditCardDetails,confirmModal:t.confirmModal})}),(function(e){return H({},Object(S.b)({setTransactionControl:q.g,setDisableAllRule:q.e,setSelectedRule:q.f,resetState:q.d,clearDisableAllRule:q.b,clearSelectedRule:q.c,loadingOpen:V.i,loadingDismiss:V.h,dismissConfirmModal:V.d,resetConfirmModal:V.s,openConfirmModal:V.o,toastOpen:V.O,updateNotificationsCount:z.s,closeNotifItem:z.b,closeNotifs:z.c,openAlertModal:V.n},e))}))(W);n.d(t,"a",(function(){return A.a}));t.b=X},1921:function(e,t,n){"use strict";var a=n(26),r=n(1672);a({target:"String",proto:!0,forced:n(1673)("fixed")},{fixed:function(){return r(this,"tt","","")}})},1924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(0)),r=s(n(79)),i=s(n(8)),o=s(n(1925));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n;c(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return f(m(m(n=d(this,(e=p(t)).call.apply(e,[this].concat(i))))),"state",{children:n.props.disableInitialAnimation?n.props.children:null,height:n.props.disableInitialAnimation?"auto":0}),f(m(m(n)),"delayTimer",null),f(m(m(n)),"heightTimer",null),f(m(m(n)),"raf",null),f(m(m(n)),"waitTwoFrames",(function(e){n.raf=requestAnimationFrame((function(){n.raf=requestAnimationFrame((function(){e()}))}))})),f(m(m(n)),"setWrapperHeight",(function(){var e=r.default.findDOMNode(m(m(n))),t=e&&e.firstElementChild,a=t?t.offsetHeight:0;n.previousHeight=a,clearTimeout(n.heightTimer),n.setState({height:a},(function(){n.heightTimer=setTimeout((function(){n.setState({height:"auto"})}),n.props.duration)}))})),f(m(m(n)),"transition",(function(e){clearTimeout(n.delayTimer),clearTimeout(n.heightTimer),n.setState({children:null,height:n.previousHeight},(function(){n.delayTimer=setTimeout((function(){n.waitTwoFrames((function(){n.setState({children:e},(function(){n.waitTwoFrames((function(){n.setWrapperHeight()}))}))}))}),n.props.duration)}))})),n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.props.disableInitialAnimation?this.setWrapperHeight():this.transition(this.props.children)}},{key:"componentDidUpdate",value:function(e){e.children.key!==this.props.children.key?this.transition(this.props.children):e.children!==this.props.children&&this.setState({children:this.props.children})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer),clearTimeout(this.heightTimer),cancelAnimationFrame(this.raf)}},{key:"render",value:function(){var e=this.props.component;return a.default.createElement(e,{className:this.props.className,style:{height:this.state.height}},a.default.createElement(o.default,{classNames:this.props.classNames,duration:this.props.duration,disableInitialAnimation:this.props.disableInitialAnimation},this.state.children))}}])&&u(n.prototype,i),s&&u(n,s),t}(a.default.Component);f(y,"propTypes",{children:i.default.node,className:i.default.string,component:i.default.string,disableInitialAnimation:i.default.bool,duration:i.default.number,classNames:i.default.shape({beforeEnter:i.default.string,entering:i.default.string,beforeLeave:i.default.string,leaving:i.default.string})}),f(y,"defaultProps",{component:"div",disableInitialAnimation:!1,duration:500});var g=y;t.default=g},1925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),i=c(r),o=c(n(79)),s=c(n(8)),l=n(1926);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,a;u(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={children:a.props.disableInitialAnimation?a.props.children:null},a.isAnimating=!1,a.waitForNode=function(e){if(a){var t=o.default.findDOMNode(a);t?e(t):a.raf=requestAnimationFrame((function(){a.waitForNode(e)}))}},a.clearTimers=function(){cancelAnimationFrame(a.raf),clearTimeout(a.animationTimer),clearTimeout(a.delayTimer),a.isAnimating=!1},a.animateIn=function(){(0,l.canAnimate)()?(a.clearTimers(),a.isAnimating=!0,a.delayTimer=setTimeout((function(){a.setState({children:a.props.children},(function(){var e=a.props.classNames;a.waitForNode((function(t){(0,l.resetClassList)(t,e),t.classList.add(e.beforeEnter),a.raf=requestAnimationFrame((function(){a.raf=requestAnimationFrame((function(){t&&t.classList.add(e.entering)}))})),a.animationTimer=setTimeout((function(){t&&(0,l.resetClassList)(t,e),a.isAnimating=!1,a.setState({})}),a.props.duration)}))}))}),a.props.delay)):a.setState({children:a.props.children})},a.animateOut=function(){if((0,l.canAnimate)()){var e=o.default.findDOMNode(a),t=a.props.classNames;e&&(a.clearTimers(),a.isAnimating=!0,a.delayTimer=setTimeout((function(){e&&(0,l.resetClassList)(e,t),e&&e.classList.add(t.beforeLeave),a.raf=requestAnimationFrame((function(){e&&e.classList.add(t.leaving)})),a.animationTimer=setTimeout((function(){a.isAnimating=!1,a.setState({children:a.props.children})}),a.props.duration)}),a.props.delay))}else a.setState({children:a.props.children})},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.children&&!this.props.disableInitialAnimation&&(this.raf=requestAnimationFrame((function(){e.animateIn()})))}},{key:"componentWillUnmount",value:function(){this.clearTimers()}},{key:"componentDidUpdate",value:function(e){var t=r.Children.toArray(this.props.children),n=r.Children.toArray(e.children);t.length!==n.length?t.length?this.animateIn():this.animateOut():this.props.children===this.state.children||this.isAnimating||this.setState({children:this.props.children})}},{key:"render",value:function(){return this.state.children}}]),t}(i.default.Component);p.propTypes={children:s.default.node,classNames:s.default.shape({beforeEnter:s.default.string,entering:s.default.string,beforeLeave:s.default.string,leaving:s.default.string}),disableInitialAnimation:s.default.bool,delay:s.default.number,duration:s.default.number.isRequired},p.defaultProps={children:null,classNames:{beforeEnter:"before-enter",entering:"entering",beforeLeave:"before-leave",leaving:"leaving"},duration:500,delay:0},t.default=p},1926:function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.resetClassList=function(e,t){e&&Object.keys(t).forEach((function(n){e.classList.remove(t[n])}))},t.canAnimate=function(e){var t=!(!window||!window.requestAnimationFrame),n=!!(document&&document.body&&document.body.classList),r=function(e){return"TinyTransition: Your browser doesn't support "+e+". Consider adding a polyfill."};e&&!t&&a(r("requestAnimationFrame"));e&&!n&&a(r("element.classList"));return t&&n}},1931:function(e,t,n){"use strict";n(13),n(14),n(16),n(190),n(648),n(18),n(19),n(15),n(17);var a=n(6),r=n.n(a),i=n(93),o=n.n(i),s=n(94),l=n.n(s),c=n(95),u=n.n(c),d=n(96),p=n.n(d),h=n(77),m=n.n(h),f=n(97),y=n.n(f),g=n(0),v=n.n(g),b=n(98),E=n.n(b),O=n(78),k=n(59),w=n(1635),_=n(99),P=n(1556),S=n(1576);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(){var e;return o()(this,t),e=u()(this,p()(t).call(this)),E()(m()(e)),e}return y()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.getTodayAppointments()}},{key:"getTodayAppointments",value:function(){var e=this.props,t=e.setTodayAppointments,n=e.setHasReminder;_.a.get("/branch-appointments/today",{noError:!0}).then((function(e){var a=e.data;t(a),n(0!==a.length)})).catch((function(){n(!1)}))}},{key:"render",value:function(){var e=this.props,t=e.todayAppointments,n=e.appointmentLength,a=e.viewAppointment;return 0===n?null:v.a.createElement("div",null,t.slice(0,1).map((function(e){return v.a.createElement(w.a,{key:e.id,appointment:e,onClick:a,reminder:!0})})))}}]),t}(v.a.Component);t.a=Object(O.c)((function(e){var t=e.branch;return C({},t,{appointmentLength:t.todayAppointments.length})}),(function(e){return C({},Object(k.b)({viewMore:P.z,setTodayAppointments:P.u,viewAppointment:P.y,removeAppointment:P.e,setHasReminder:S.e},e))}))(D)},1939:function(e,t,n){"use strict";n(13),n(14),n(16),n(645),n(1583),n(1594),n(18),n(19),n(15),n(17);var a=n(1185),r=n.n(a),i=n(191),o=n.n(i),s=n(6),l=n.n(s),c=n(93),u=n.n(c),d=n(94),p=n.n(d),h=n(95),m=n.n(h),f=n(96),y=n.n(f),g=n(77),v=n.n(g),b=n(97),E=n.n(b),O=n(0),k=n.n(O),w=n(78),_=n(98),P=n.n(_),S=n(59),x=n(1525),C=n(1940),D=n(1534),M=n(1527),T=n(1560),A=n(1545),N=n(1542);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=null,R=function(e){function t(){var e;return u()(this,t),e=m()(this,y()(t).call(this)),P()(v()(e)),e.state={defaultPercentage:0,addedPercentage:null,topUpAmount:0},e}return E()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=(e.topUpForm,e.setOpenTopUpSidebar);t?this.setState({topUpAmount:0,defaultPercentage:t.value/t.target*100,addedPercentage:t.value/t.target*100/2}):n(!1)}},{key:"validateAmount",value:function(e,t,n){var a=null,r=this.props.selectedGoal,i=Object(A.a)(t)+r.value;return i&&0!==i.length?t<100?a="Minimum top up amount is PHP 100":i&&Number.isNaN(i)?a="Minimum top up amount is PHP 100":i>r.target?a="The amount you entered is greater than your target goal.":(i>99&&i%100!=0||i<100)&&(a="Please enter an amount in increments of Php 100"):a="Minimum top up amount is PHP 100",a?n(a):n()}},{key:"preValidateAmount",value:function(e){return Object(A.d)(e)}},{key:"handleTopUpBtnClick",value:function(){var e=this,t=this.state,n=t.addedPercentage,a=t.topUpAmount,r=this.props.selectedGoal,i=a>=r.target?a:Object(A.a)(a)+100;this.setState({addedPercentage:n>=100?n:(r.value+i)/r.target*100,topUpAmount:i},(function(){e.topUpForm.setFieldsValue({topup_amount:i})}))}},{key:"handleMinus100BtnClick",value:function(){var e=this.state,t=e.addedPercentage,n=e.topUpAmount,a=this.props.selectedGoal,r=n<=0?n:Object(A.a)(n)-100;this.setState({addedPercentage:t<=0?t:(a.value+r)/a.target*100,topUpAmount:r}),this.topUpForm.setFieldsValue({topup_amount:r})}},{key:"handleTopUpAmountChange",value:function(e){var t=this,n=Object(A.a)(e.target.value);this.validateAmount(null,n,(function(e){if(!e){var a=t.props.selectedGoal;t.setState({addedPercentage:(a.value+n)/a.target*100,topUpAmount:n})}}))}},{key:"handleSubmitBtnClick",value:function(e){(0,this.props.setTopUpForm)(I({review:!0},e))}},{key:"handleTopupMouseDown",value:function(){var e=this;F=window.setInterval((function(){e.handleTopUpBtnClick()}),400)}},{key:"handleTopupMouseUp",value:function(){window.clearInterval(F)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedGoal,a=(t.products,this.state),i=a.defaultPercentage,s=a.addedPercentage,l=a.topUpAmount,c=s>i;return k.a.createElement("div",{className:"px-4 pb-5 content"},k.a.createElement(M.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(t,a){return e.topUpForm=t,k.a.createElement("div",null,k.a.createElement(x.a,{title:"Top Up Goal",actions:k.a.createElement(o.a,{size:"small",type:"primary",disabled:a,htmlType:"submit"},"Next")},k.a.createElement("div",{className:"d-flex flex-column"},k.a.createElement("div",{className:"d-flex flex-column justify-content-between mb-3"},k.a.createElement("h4",{className:"font-weight-bolder"},n.name),k.a.createElement("h5",null,k.a.createElement("span",{className:c?"text-primary":""},k.a.createElement(D.a,{value:n.value+Object(A.a)(l),currency:"PHP",noDecimal:!0}))," of  ",k.a.createElement(D.a,{value:n.target,currency:"PHP",noDecimal:!0})),k.a.createElement("h5",{className:"".concat(c?"text-primary":""," font-weight-bolder")},Math.floor(c?s:i)," %")),k.a.createElement("div",{className:"d-flex flex-column mb-3"},k.a.createElement("div",{className:"mx-auto position-relative",style:{height:"350px",width:"350px"}},k.a.createElement(C.a,{sqSize:340,strokeWidth:10,defaultPercentage:i,addedPercentage:s,onClick:e.handleTopUpBtnClick,onMouseDown:e.handleTopupMouseDown,onMouseUp:e.handleTopupMouseUp,label:"+ PHP 100"})),k.a.createElement("div",{className:"text-primary mt-4 text-center"},k.a.createElement(o.a,{size:"small",onClick:e.handleMinus100BtnClick,disabled:!c},"- PHP 100"))))),k.a.createElement(M.a,{form:t,label:"Top Up Amount",name:"topup_amount",options:{normalize:e.preValidateAmount,rules:[{required:!0,message:"Top Up Amount is required"},{validator:e.validateAmount}]}},k.a.createElement(r.a,{placeholder:"e.g. PHP 10,000",autoComplete:"off",onChange:e.handleTopUpAmountChange,prefix:k.a.createElement(T.a,null,"PHP")})),k.a.createElement("div",{className:"my-2"},k.a.createElement(M.a,{form:t,name:"product_number",label:"Get Funds from",options:{initialValue:n.source_account.product_number,rules:[{required:!0,message:"Account is required"}]}},k.a.createElement(M.c,{placeholder:"Click to select account",filters:["credit",function(e){var t=e.currency,n=e.debit;return"PHP"===t&&n}]}))))}}))}}]),t}(k.a.Component);t.a=Object(w.c)((function(e){var t=e.goals,n=e.product;return I({},t,{},e.page,{},n)}),(function(e){return Object(S.b)({setTopUpForm:N.s,setOpenTopUpSidebar:N.o},e)}))(R)},1941:function(e,t,n){"use strict";n(13),n(343),n(14),n(16),n(645),n(18),n(19),n(15),n(17);var a=n(191),r=n.n(a),i=n(1184),o=n.n(i),s=n(6),l=n.n(s),c=n(93),u=n.n(c),d=n(94),p=n.n(d),h=n(95),m=n.n(h),f=n(96),y=n.n(f),g=n(77),v=n.n(g),b=n(97),E=n.n(b),O=n(0),k=n.n(O),w=n(78),_=n(98),P=n.n(_),S=n(59),x=n(1525),C=n(1546),D=n(1544),M=n(1534),T=n(189),A=n(1540),N=n(347),j=n(1542),I=n(99),F=n(1545);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){function t(){var e;return u()(this,t),e=m()(this,y()(t).call(this)),P()(v()(e)),e}return E()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=e.setOpenTopUpSidebar;t||n(!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.successModal,a=t.setTopUpForm;!n.message&&e.successModal.message&&a(null)}},{key:"handleEditTopUpAmount",value:function(){var e=this.props;(0,e.setTopUpForm)(L({},e.topUpForm,{review:!1}))}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.topUpForm,n=e.loadingOpen,a=e.selectedGoal,r=e.loadingDismiss,i=e.products,s=e.setSuccessMessage,l=e.setRefreshGoalList,c=e.loadListOfProducts,u=e.setOpenTopUpSidebar,d=e.setTransactionStatus,p=o()(i,{product_number:t.product_number});n(),I.a.post("goals/top-up",{goal_id:a.id,transfer_amount:Object(F.a)(t.topup_amount),product_id:p.id}).then((function(e){var t=e.data,n=t.message,a=t.description;r(),u(!1),d(!1),l(!0),c(),s(n,a||" ",null,"Back to Dashboard")})).catch((function(){return r()}))}},{key:"render",value:function(){var e=this.props,t=e.topUpForm,n=e.selectedGoal,a=e.products;if(!t||!t.product_number)return k.a.createElement("div",{className:"px-4 content"},k.a.createElement(x.a,{title:"Review and Top Up"},k.a.createElement("div",{className:"text-center"},"No Source Account was selected for Top Up.")));var i=o()(a,{product_number:t.product_number});return k.a.createElement("div",{className:"px-4 content"},k.a.createElement(x.a,{title:"Review and Top Up"},k.a.createElement("div",{className:"card"},k.a.createElement("div",{className:"transaction-review list-group list-group-flush "},k.a.createElement(C.a,{name:"amount_saved",label:"Amount Saved"},k.a.createElement(M.a,{noDecimal:!0,currency:"PHP"},n.balance),k.a.createElement("br",null),n.name),k.a.createElement(C.a,{name:"topup_amount",label:"Top Up Amount",editable:!0,onEdit:this.handleEditTopUpAmount},k.a.createElement(M.a,{noDecimal:!0,currency:"PHP"},t.topup_amount)),k.a.createElement(C.a,{name:"Account",label:"From Account"},k.a.createElement(D.a,{number:i.product_number,description:i.product_name,masked:!0,toggleable:!0},k.a.createElement("div",{className:"d-flex flex-column"},i.alias||i.account_name))))),k.a.createElement("div",{className:"my-5 d-flex"},k.a.createElement(r.a,{type:"primary",className:"w-100",onClick:this.handleOnFormSubmit},"Top Up PHP ".concat(t.topup_amount)))))}}]),t}(k.a.Component);t.a=Object(w.c)((function(e){return L({},e.goals,{},e.product,{},e.page)}),(function(e){return Object(S.b)({setSuccessMessage:T.H,loadingOpen:T.i,loadingDismiss:T.h,openAlertModal:T.n,setOpenTopUpSidebar:j.o,setTopUpForm:j.s,setRefreshGoalList:j.q,loadListOfProducts:A.loadListOfProducts,setTransactionStatus:N.m},e)}))(B)},1943:function(e,t,n){"use strict";n(13),n(14),n(16),n(1583),n(1594),n(18),n(19),n(15),n(17);var a=n(1185),r=n.n(a),i=n(191),o=n.n(i),s=n(6),l=n.n(s),c=n(93),u=n.n(c),d=n(94),p=n.n(d),h=n(95),m=n.n(h),f=n(96),y=n.n(f),g=n(77),v=n.n(g),b=n(97),E=n.n(b),O=n(0),k=n.n(O),w=n(78),_=n(98),P=n.n(_),S=n(59),x=n(1525),C=n(1534),D=n(1560),M=n(1582),T=n(1527),A=n(1545),N=n(1542);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){function t(){var e;return u()(this,t),(e=m()(this,y()(t).call(this))).state={withdrawAmount:0},P()(v()(e)),e}return E()(t,e),p()(t,[{key:"validateAmount",value:function(e,t,n){var a=null,r=this.props.selectedGoal,i=Object(A.a)(t);return i&&0!==i.length?t<100?a="Minimum withdraw amount is PHP 100":i&&Number.isNaN(i)?a="Minimum withdraw amount is PHP 100":i>r.value?a="The amount you entered is greater than your amount saved.":(i>99&&i%100!=0||i<100)&&(a="Please enter an amount in increments of Php 100"):a="Minimum withdraw amount is PHP 100",a?n(a):n()}},{key:"preValidateAmount",value:function(e){return Object(A.d)(e)}},{key:"handleWithdrawAmountChange",value:function(e){var t=Object(A.a)(e.target.value);this.setState({withdrawAmount:t})}},{key:"handleSubmitBtnClick",value:function(e){(0,this.props.setWithdrawForm)(I({review:!0},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedGoal,a=t.withdrawForm,i=this.state.withdrawAmount;return k.a.createElement("div",{className:"px-4 pb-4 content"},k.a.createElement(T.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(t,s){return e.topUpForm=t,k.a.createElement(x.a,{title:"Withdraw Funds",actions:k.a.createElement(o.a,{size:"small",type:"primary",disabled:s,htmlType:"submit"},"Next")},k.a.createElement("div",{className:"d-flex flex-row mt-5 mb-2 justify-content-between"},k.a.createElement("span",null,"Amount Saved"),k.a.createElement("h4",null,k.a.createElement(C.a,{value:n.balance,currency:"PHP",noDecimal:!0}))),k.a.createElement("p",{className:"d-flex"},"Withdrawing all the amount saved will automatically end your Goal."),k.a.createElement("div",{className:"my-5"},k.a.createElement(T.a,{form:t,label:"Amount to Withdraw",name:"withdraw_amount",options:{normalize:e.preValidateAmount,initialValue:a.withdraw_amount,rules:[{required:!0,message:"Withdraw Amount is required"},{validator:e.validateAmount}]}},k.a.createElement(r.a,{placeholder:"0",autoComplete:"off",onChange:e.handleWithdrawAmountChange,prefix:k.a.createElement(D.a,null,"PHP")})),i===n.value&&k.a.createElement("span",{className:"text-primary"},"You're withdrawing all the funds in your goal")),k.a.createElement("div",{className:"my-5"},"Funds will transfer to this account only",k.a.createElement(M.a,{item:n.source_account})))}}))}}]),t}(k.a.Component);t.a=Object(w.c)((function(e){return I({},e.goals)}),(function(e){return Object(S.b)({setWithdrawForm:N.t},e)}))(F)},1944:function(e,t,n){"use strict";n(13),n(343),n(14),n(16),n(645),n(18),n(19),n(15),n(17);var a=n(191),r=n.n(a),i=n(6),o=n.n(i),s=n(93),l=n.n(s),c=n(94),u=n.n(c),d=n(95),p=n.n(d),h=n(96),m=n.n(h),f=n(77),y=n.n(f),g=n(97),v=n.n(g),b=n(0),E=n.n(b),O=n(78),k=n(98),w=n.n(k),_=n(59),P=n(1525),S=n(1546),x=n(1544),C=n(1534),D=n(189),M=n(1540),T=n(347),A=n(1542),N=n(99),j=n(1545);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),w()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.successModal,a=t.setOpenWithdrawSidebar,r=t.setWithdrawForm,i=t.confirmModal,o=t.loadingOpen,s=t.withdrawForm,l=t.selectedGoal,c=t.loadingDismiss,u=t.setRefreshGoalList,d=t.setSuccessMessage,p=t.loadListOfProducts,h=t.selectGoal,m=t.setTransactionStatus;!n.message&&e.successModal.message&&(a(!1),r(null)),"WITHDRAW_GOAL_CONFIRMATION_KEY"===i.key&&i.state&&!e.confirmModal.state&&(o(),N.a.post("goals/".concat(l.id,"/withdraw"),{transfer_amount:Object(j.a)(s.withdraw_amount)}).then((function(e){var t=e.data,n=t.message,r=t.description;a(!1),m(!1),c(),u(!0),h(null),p(),d(n,r||" ",null,"Back to Dashboard")})).catch((function(){return c()}))),"PARTIAL_WITHDRAW_GOAL_CONFIRMATION_KEY"===i.key&&i.state&&!e.confirmModal.state&&(o(),N.a.post("goals/".concat(l.id,"/withdraw"),{transfer_amount:Object(j.a)(s.withdraw_amount)}).then((function(e){var t=e.data,n=t.message,r=t.description;c(),a(!1),m(!1),u(!0),p(),d(n,r||" ",null,"Back to Dashboard")})).catch((function(){return c()})))}},{key:"handleEditWithdrawAmount",value:function(){var e=this.props;(0,e.setWithdrawForm)(F({},e.withdrawForm,{review:!1}))}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.withdrawForm,n=e.selectedGoal,a=e.openConfirmModal;return n.value===Object(j.a)(t.withdraw_amount)?void a("WITHDRAW_GOAL_CONFIRMATION_KEY","Withdraw and Close Goal","Are you sure you want to withdraw all of your funds? Your goal will be deleted.","Withdraw and Close my Goal","Cancel"):void a("PARTIAL_WITHDRAW_GOAL_CONFIRMATION_KEY","Withdraw Goal","Are you sure you want to withdraw PHP ".concat(Object(j.d)(t.withdraw_amount)," from your goal?"),"Withdraw PHP "+Object(j.d)(t.withdraw_amount),"Cancel")}},{key:"render",value:function(){var e=this.props,t=e.withdrawForm,n=e.selectedGoal;return E.a.createElement("div",{className:"px-4 content"},E.a.createElement(P.a,{title:"Review and Withdraw"},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"transaction-review list-group list-group-flush "},E.a.createElement(S.a,{name:"amount_saved",label:"Amount Saved"},E.a.createElement(C.a,{noDecimal:!0,currency:"PHP"},n.balance),E.a.createElement("br",null),n.name),E.a.createElement(S.a,{name:"withdraw_amount",label:"Amount to Withdraw",editable:!0,onEdit:this.handleEditWithdrawAmount},E.a.createElement(C.a,{noDecimal:!0,currency:"PHP"},t.withdraw_amount)),E.a.createElement(S.a,{name:"Account",label:"To Account"},E.a.createElement(x.a,{number:n.source_account.product_number,description:n.source_account.product_name,masked:!0,toggleable:!0},E.a.createElement("div",{className:"d-flex flex-column"},n.source_account.alias||n.source_account.account_name))))),E.a.createElement("div",{className:"my-5 d-flex"},E.a.createElement(r.a,{type:"primary",className:"w-100",onClick:this.handleOnFormSubmit},"Withdraw PHP ".concat(t.withdraw_amount)))))}}]),t}(E.a.Component);t.a=Object(O.c)((function(e){return F({},e.goals,{},e.page)}),(function(e){return Object(_.b)({setSuccessMessage:D.H,loadingOpen:D.i,loadingDismiss:D.h,openAlertModal:D.n,setOpenWithdrawSidebar:A.p,setWithdrawForm:A.t,setRefreshGoalList:A.q,openConfirmModal:D.o,loadListOfProducts:M.loadListOfProducts,selectGoal:A.b,setTransactionStatus:T.m},e)}))(R)},1946:function(e,t,n){"use strict";n(13),n(14),n(16),n(190),n(645),n(18),n(19),n(15),n(17);var a=n(6),r=n.n(a),i=n(93),o=n.n(i),s=n(94),l=n.n(s),c=n(95),u=n.n(c),d=n(96),p=n.n(d),h=n(77),m=n.n(h),f=n(97),y=n.n(f),g=n(0),v=n.n(g),b=n(98),E=n.n(b),O=n(78),k=n(59),w=n(4),_=n.n(w),P=n(1525),S=n(99),x=n(1192),C=n.n(x),D=n(1225),M=n.n(D),T=n(1542),A=n(1758);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){function t(){var e;return o()(this,t),(e=u()(this,p()(t).call(this))).state={goalsEnded:null,loading:!1,error:!1},E()(m()(e)),e}return y()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0,error:!1}),S.a.get("goals/ended").then((function(t){var n=t.data,a=[];e.setState({loading:!1,error:!1}),n.map((function(e){var t=e.target_amount,n=e.balance,r=e.status,i=e.created_date,o=e.paused_date,s=e.account,l=e.achieved_date,c=e.end_date,u=s.name,d=s.last_four_digits,p=s.alias,h=parseFloat(t)-(parseFloat(n)||0);a.push(j({},e,{target:parseFloat(t),value:l?t:0,cancelled:4===r&&!l,achieved_ended:4===r&&l,created_at:_()(i).format("MMMM DD, YYYY"),paused_date:_()(o).format("MMMM DD, YYYY"),achieved_date:_()(l).format("MMMM DD, YYYY"),end_date:_()(c).format("MMMM DD, YYYY"),remaining_amount:l?0:h,source_account:{product_name:u,alias:p,product_number:d}}))})),e.setState({goalsEnded:a})})).catch((function(){return e.setState({loading:!1,error:!0})}))}},{key:"handleGoalClick",value:function(e){var t=this.props,n=t.setOpenGoalSidebar;(0,t.selectGoal)(e.id,e),n(!0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.goalsEnded,a=t.loading,r=t.error;return v.a.createElement("div",{className:"px-4 content"},v.a.createElement(P.a,{title:"Achieved and Cancelled Goals"},a&&v.a.createElement("div",{className:"text-center"},v.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"})),!a&&!r&&n&&n.map((function(t,n){return v.a.createElement(A.a,{key:"goal-history-".concat(n),goal:t,onClick:e.handleGoalClick})})),!a&&r&&!n&&v.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},v.a.createElement("img",{src:C.a,alt:"",height:"200"}),v.a.createElement("p",{className:"my-3"},"Sorry, an error was encountered while loading your goals history")),!a&&!r&&n&&n.length<=0&&v.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},v.a.createElement("img",{src:M.a,alt:"",height:"200"}),v.a.createElement("p",{className:"my-3"},"It seems that you have no achieved and cancelled goals"))))}}]),t}(v.a.Component);t.a=Object(O.c)((function(e){return j({},e.goals)}),(function(e){return Object(k.b)({setOpenGoalSidebar:T.n,selectGoal:T.b},e)}))(I)},1953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTML5DragTransition",{enumerable:!0,get:function(){return r.HTML5DragTransition}}),Object.defineProperty(t,"TouchTransition",{enumerable:!0,get:function(){return r.TouchTransition}}),Object.defineProperty(t,"MouseTransition",{enumerable:!0,get:function(){return r.MouseTransition}}),Object.defineProperty(t,"createTransition",{enumerable:!0,get:function(){return r.createTransition}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1700)),i=(a=n(1957))&&a.__esModule?a:{default:a};var o=r.default;t.default=o},1954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseTransition=t.HTML5DragTransition=t.TouchTransition=void 0;var a,r=(a=n(1768))&&a.__esModule?a:{default:a};var i=(0,r.default)("touchstart",(function(e){return null!=e.touches}));t.TouchTransition=i;var o=(0,r.default)("dragstart",(function(e){return!!e.type&&(-1!==e.type.indexOf("drag")||-1!==e.type.indexOf("drop"))}));t.HTML5DragTransition=o;var s=(0,r.default)("mousedown",(function(e){return!!e.type&&(-1===e.type.indexOf("touch")&&-1!==e.type.indexOf("mouse"))}));t.MouseTransition=s},1955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PreviewManager=void 0;var a,r=(a=n(1956))&&a.__esModule?a:{default:a};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=new function e(){var t=this;o(this,e),this.register=function(e){t.previews.push(e)},this.unregister=function(e){for(var n;-1!==(n=t.previews.indexOf(e));)t.previews.splice(n,1)},this.backendChanged=function(e){var n=!0,a=!1,r=void 0;try{for(var i,o=t.previews[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){i.value.backendChanged(e)}}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}},this.previews=[]};t.PreviewManager=s;t.default=function e(t,n){var a=this;o(this,e),this.setup=function(){if("undefined"!=typeof window){if(a.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");a.constructor.isSetUp=!0,a.addEventListeners(window),a.backends[a.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(a.constructor.isSetUp=!1,a.removeEventListeners(window),a.backends[a.current].instance.teardown())},this.connectDragSource=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.connectBackend("connectDragSource",t)},this.connectDragPreview=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.connectBackend("connectDragPreview",t)},this.connectDropTarget=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.connectBackend("connectDropTarget",t)},this.previewEnabled=function(){return a.backends[a.current].preview},this.addEventListeners=function(e){a.backends.forEach((function(t){t.transition&&e.addEventListener(t.transition.event,a.backendSwitcher,!0)}))},this.removeEventListeners=function(e){a.backends.forEach((function(t){t.transition&&e.removeEventListener(t.transition.event,a.backendSwitcher,!0)}))},this.backendSwitcher=function(e){var t=a.current,n=0;if(a.backends.some((function(t){return n!==a.current&&t.transition&&t.transition.check(e)?(a.current=n,!0):(n+=1,!1)})),a.current!==t){a.backends[t].instance.teardown(),Object.keys(a.nodes).forEach((function(e){var t=a.nodes[e];t.handler(),t.handler=a.callBackend(t.func,t.args)})),s.backendChanged(a);var r=a.backends[a.current];if(r.instance.setup(),r.skipDispatchOnTransition)return;var i=null;try{i=new e.constructor(e.type,e)}catch(t){(i=document.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable)}e.target.dispatchEvent(i)}},this.callBackend=function(e,t){var n;return(n=a.backends[a.current].instance)[e].apply(n,i(t))},this.connectBackend=function(e,t){var n="".concat(e,"_").concat(t[0]),r=a.callBackend(e,t);return a.nodes[n]={func:e,args:t,handler:r},function(){var e,t=(e=a.nodes[n]).handler.apply(e,arguments);return delete a.nodes[n],t}};var l=(0,r.default)({backends:[]},n||{});if(l.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.backends=[],l.backends.forEach((function(e){if(!e.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(e));var n=e.transition;if(n&&!n._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: ".concat(e));a.backends.push({instance:new e.backend(t),preview:e.preview||!1,transition:n,skipDispatchOnTransition:Boolean(e.skipDispatchOnTransition)})})),this.nodes={}}},1956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}},1957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),r=s(n(8)),i=s(n(1958)),o=n(1700);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,u(t).call(this,e))).backendChanged=function(e){n.setState({enabled:e.previewEnabled()})},n.state={enabled:!1},o.PreviewManager.register(d(n)),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){o.PreviewManager.unregister(this)}},{key:"render",value:function(){return this.state.enabled?a.default.createElement(i.default,this.props):null}}])&&c(n.prototype,r),s&&c(n,s),t}(a.PureComponent);t.default=h,h.propTypes={generator:r.default.func.isRequired}},1958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,o,s=n(0),l=(a=n(8))&&a.__esModule?a:{default:a};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=(0,n(1701).DragLayer)((function(e){return{currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging(),itemType:e.getItemType(),item:e.getItem()}}))((o=i=function(e){function t(){return u(this,t),p(this,h(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(a=[{key:"getStyle",value:function(){var e="translate(".concat(this.props.currentOffset.x,"px, ").concat(this.props.currentOffset.y,"px)");return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:e,WebkitTransform:e}}},{key:"render",value:function(){return this.props.isDragging&&null!==this.props.currentOffset?this.props.generator(this.props.itemType,this.props.item,this.getStyle()):null}}])&&d(n.prototype,a),r&&d(n,r),t}(s.PureComponent),i.defaultProps={currentOffset:{x:0,y:0},isDragging:!1,itemType:"",item:{}},i.propTypes={currentOffset:l.default.shape({x:l.default.number,y:l.default.number}),isDragging:l.default.bool,itemType:l.default.string,item:l.default.any,generator:l.default.func.isRequired},r=o))||r;t.default=f},1959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1960);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(a).default}});var r=n(1970);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(r).default}});var i=n(1971);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(i).default}});var o=n(1972);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(o).default}})},1960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(1450)),i=l(n(1961)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1651)),s=l(n(1965));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var a=(0,r.default)(i.default);this.context=n,this.store=a,this.monitor=new s.default(a),this.registry=this.monitor.registry,this.backend=t(this),a.subscribe(this.handleRefCountChange.bind(this))}return a(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(o).filter((function(e){return"function"==typeof o[e]})).reduce((function(n,a){var r,i=o[a];return n[a]=(r=i,function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.apply(e,a);void 0!==o&&t(o)}),n}),{})}}]),e}();t.default=u},1961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,o.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,a.default)(e.dragOffset,t),refCount:(0,i.default)(e.refCount,t),dragOperation:(0,r.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var a=l(n(1770)),r=l(n(1962)),i=l(n(1963)),o=l(n(1772)),s=l(n(1964));function l(e){return e&&e.__esModule?e:{default:e}}},1962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return a({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return a({},e,{isSourcePublic:!0});case s.HOVER:return a({},e,{targetIds:t.targetIds});case l.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:a({},e,{targetIds:(0,o.default)(e.targetIds,t.targetId)});case s.DROP:return a({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return a({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var r,i=n(1262),o=(r=i)&&r.__esModule?r:{default:r},s=n(1651),l=n(1652);var c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},1963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case a.ADD_SOURCE:case a.ADD_TARGET:return e+1;case a.REMOVE_SOURCE:case a.REMOVE_TARGET:return e-1;default:return e}};var a=n(1652)},1964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}},1965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(82)),i=u(n(36)),o=u(n(1771)),s=u(n(1966)),l=n(1770),c=n(1772);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return a(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.handlerIds;(0,r.default)("function"==typeof e,"listener must be a function."),(0,r.default)(void 0===a||(0,i.default)(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,s=function(){var n=t.store.getState(),r=n.stateId;try{r===o||r===o+1&&!(0,c.areDirty)(n.dirtyHandlerIds,a)||e()}finally{o=r}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,r.default)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var a=t.store.getState().dragOffset;a!==n&&(n=a,e())}))}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,r.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,r.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),a=this.getItemType();return(0,o.default)(n,a)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,r.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},n=t.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(e),r=this.getItemType();if(!(0,o.default)(a,r))return!1;var i=this.getTargetIds();if(!i.length)return!1;var s=i.indexOf(e);return n?s===i.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,l.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,l.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},1966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(82)),o=u(n(36)),s=u(n(1967)),l=n(1652),c=u(n(1969));function u(e){return e&&e.__esModule?e:{default:e}}var d="SOURCE",p="TARGET";function h(e,t){t&&(0,o.default)(e)?e.forEach((function(e){return h(e,!1)})):(0,i.default)("string"==typeof e||"symbol"===(void 0===e?"undefined":r(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function m(e){switch(e[0]){case"S":return d;case"T":return p;default:(0,i.default)(!1,"Cannot parse handler ID: "+e)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return a(e,[{key:"addSource",value:function(e,t){h(e),function(e){(0,i.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,i.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,i.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(d,e,t);return this.store.dispatch((0,l.addSource)(n)),n}},{key:"addTarget",value:function(e,t){h(e,!0),function(e){(0,i.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,i.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,i.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(p,e,t);return this.store.dispatch((0,l.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var a=function(e){var t=(0,c.default)().toString();switch(e){case d:return"S"+t;case p:return"T"+t;default:(0,i.default)(!1,"Unknown role: "+e)}}(e);return this.types[a]=t,this.handlers[a]=n,a}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some((function(n){return t.handlers[n]===e}))}},{key:"getSource",value:function(e,t){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return m(e)===d}},{key:"isTargetId",value:function(e){return m(e)===p}},{key:"removeSource",value:function(e){var t=this;(0,i.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,l.removeSource)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"removeTarget",value:function(e){var t=this;(0,i.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,l.removeTarget)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,i.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,i.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=f},1967:function(e,t,n){"use strict";var a=n(1968),r=[],i=[],o=a.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function s(e){var t;(t=r.length?r.pop():new l).task=e,a(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),o())}finally{this.task=null,r[r.length]=this}}},1968:function(e,t,n){"use strict";(function(t){function n(e){r.length||(a(),!0),r[r.length]=e}e.exports=n;var a,r=[],i=0;function o(){for(;i<r.length;){var e=i;if(i+=1,r[e].call(),i>1024){for(var t=0,n=r.length-i;t<n;t++)r[t]=r[t+i];r.length-=i,i=0}}r.length=0,i=0,!1}var s,l,c,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(s=1,l=new d(o),c=document.createTextNode(""),l.observe(c,{characterData:!0}),a=function(){s=-s,c.data=s}):a=p(o),n.requestFlush=a,n.makeRequestCallFromTimer=p}).call(this,n(138))},1969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a++};var a=0},1970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=r},1971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=r},1972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new s(e)};var r,i=n(680),o=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return a(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return o.default}},{key:"connectDragPreview",value:function(){return o.default}},{key:"connectDropTarget",value:function(){return o.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},1973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),l=n(8),c=(i=l)&&i.__esModule?i:{default:i},u=n(1769);var d=(r=a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.backend=(0,u.unpackBackendForEs5Users)(e.backend),a.childContext=(0,u.createChildContext)(a.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(s.Component),a.propTypes={backend:c.default.oneOfType([c.default.func,c.default.object]).isRequired,children:c.default.element.isRequired,window:c.default.object},a.defaultProps={window:void 0},a.childContextTypes=u.CHILD_CONTEXT_TYPES,a.displayName="DragDropContextProvider",a.contextTypes={window:c.default.object},r);t.default=d},1974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,d.default)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,d.default)((0,u.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,m,f=t.arePropsEqual,b=void 0===f?h.default:f,E=n.displayName||n.name||"Component",O=(m=u=function(t){function o(e,t){y(this,o);var n=g(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)("object"===r(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",E,E),n.state=n.getCurrentState(),n}return v(o,t),i(o,[{key:"getDecoratedComponentInstance",value:function(){return(0,d.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!b(e,this.props)||!(0,p.default)(t,this.state)}}]),i(o,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,a({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),o}(o.Component),u.DecoratedComponent=n,u.displayName="DragLayer("+E+")",u.contextTypes={dragDropManager:l.default.object.isRequired},m);return(0,c.default)(O,n)}};var o=n(0),s=f(o),l=f(n(8)),c=f(n(1702)),u=f(n(252)),d=f(n(82)),p=f(n(1703)),h=f(n(1773)),m=f(n(1653));function f(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}},1975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!=typeof e&&((0,a.default)((0,d.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),h=function(){return e});(0,a.default)((0,r.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var m=(0,l.default)(t);return(0,a.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,a.default)((0,r.default)(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:m,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var a=p(n(82)),r=p(n(252)),i=p(n(1653)),o=p(n(1774)),s=p(n(1980)),l=p(n(1981)),c=p(n(1982)),u=p(n(1983)),d=p(n(1777));function p(e){return e&&e.__esModule?e:{default:e}}},1976:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(n(1704));t.isDisposable=r.default;var i=a(n(1977));t.Disposable=i.default;var o=a(n(1978));t.CompositeDisposable=o.default;var s=a(n(1979));t.SerialDisposable=s.default},1977:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||r}return a(e,null,[{key:"empty",value:{dispose:r},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=i,e.exports=t.default},1978:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r,i=n(1704),o=(r=i)&&r.__esModule?r:{default:r},s=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];a(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var i=0;i<n.length;i++)if(!o.default(n[i]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=s,e.exports=t.default},1979:function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(1704),i=(a=r)&&a.__esModule?a:{default:a},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!i.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=o,e.exports=t.default},1980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=n.getRegistry(),r=a.addSource(e,t);return{handlerId:r,unregister:function(){a.removeSource(r)}}}},1981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,r.default)(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',o.join(", "),t),(0,r.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])})),s.forEach((function(t){(0,r.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return a(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){return e.beginDrag(this.props,this.monitor,this.component)}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var r=i(n(82));i(n(252));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},1982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new c(e)};var r,i=n(82),o=(r=i)&&r.__esModule?r:{default:r};var s=!1,l=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return a(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,o.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,o.default)(!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,l=void 0,c=void 0;function u(){o&&(o(),o=null),t&&n&&(o=e.connectDragSource(t,n,i))}function d(){c&&(c(),c=null),t&&s&&(c=e.connectDragPreview(t,s,l))}return{receiveHandlerId:function(e){e!==t&&(t=e,u(),d())},hooks:(0,a.default)({dragSource:function(e,t){e===n&&(0,r.default)(t,i)||(n=e,i=t,u())},dragPreview:function(e,t){e===s&&(0,r.default)(t,l)||(s=e,l=t,d())}})}};var a=i(n(1775)),r=i(n(1776));function i(e){return e&&e.__esModule?e:{default:e}}},1984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,i.default)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,o.cloneElement)(e,{ref:t});return(0,o.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var a,r=n(82),i=(a=r)&&a.__esModule?a:{default:a},o=n(0)},1985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!=typeof e&&((0,a.default)((0,d.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),h=function(){return e});(0,a.default)((0,r.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var m=(0,l.default)(t);return(0,a.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,a.default)((0,r.default)(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:m,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var a=p(n(82)),r=p(n(252)),i=p(n(1653)),o=p(n(1774)),s=p(n(1986)),l=p(n(1987)),c=p(n(1988)),u=p(n(1989)),d=p(n(1777));function p(e){return e&&e.__esModule?e:{default:e}}},1986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=n.getRegistry(),r=a.addTarget(e,t);return{handlerId:r,unregister:function(){a.removeTarget(r)}}}},1987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,r.default)(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',o.join(", "),t),(0,r.default)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return a(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop)return e.drop(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var r=i(n(82));i(n(252));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrop","hover","drop"]},1988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new l(e)};var r,i=n(82),o=(r=i)&&r.__esModule?r:{default:r};var s=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return a(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,o.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0;function s(){o&&(o(),o=null),t&&n&&(o=e.connectDropTarget(t,n,i))}return{receiveHandlerId:function(e){e!==t&&(t=e,s())},hooks:(0,a.default)({dropTarget:function(e,t){e===n&&(0,r.default)(t,i)||(n=e,i=t,s())}})}};var a=i(n(1775)),r=i(n(1776));function i(e){return e&&e.__esModule?e:{default:e}}},1990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(1991)),r=o(n(1999)),i=n(1700);function o(e){return e&&e.__esModule?e:{default:e}}var s={backends:[{backend:a.default,transition:i.MouseTransition},{backend:(0,r.default)({enableMouseEvents:!0}),preview:!0,transition:i.TouchTransition}]};t.default=s},1991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new a.default(e)};var a=o(n(1992)),r=o(n(1998)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1705));function o(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=i,t.getEmptyImage=r.default},1992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(1452)),i=d(n(1993)),o=d(n(1994)),s=n(1778),l=n(1995),c=n(1997),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1705));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new o.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return a(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var a=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var a=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var r=function(t){return a.handleDragStart(t,e)},i=function(t){return a.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),function(){delete a.sourceNodes[e],delete a.sourceNodeOptions[e],t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,a=function(t){return n.handleDragEnter(t,e)},r=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",a),t.addEventListener("dragover",r),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",a),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,r.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,r.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,l.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some((function(t){return u[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,c.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,i.default)((0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var a=(0,l.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});var r=e.dataTransfer,i=(0,c.matchNativeItemType)(r);if(this.monitor.isDragging()){if("function"==typeof r.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],u=this.sourcePreviewNodes[o]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},h={offsetX:d.offsetX,offsetY:d.offsetY},m=(0,l.getDragPreviewOffset)(s,u,a,p,h);r.setDragImage(u,m.x,m.y)}try{r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}))}else if(i)this.beginDragNativeItem(i);else{if(!(r.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,c.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,l.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),e}();t.default=p},1993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},1994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1453)),i=o(n(1262));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return a(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,r.default)(this.entered.filter((function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))})),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,i.default)(this.entered.filter((function(e){return document.documentElement.contains(e)})),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},1995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=s,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,i){var l=(O=t,"IMG"===O.nodeName&&((0,r.isFirefox)()||!document.documentElement.contains(O))),c=s(l?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,h=a.anchorX,m=a.anchorY,f=function(e,t,n,a){var i=e?t.width:n,o=e?t.height:a;(0,r.isSafari)()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio);return{dragPreviewWidth:i,dragPreviewHeight:o}}(l,t,d,p),y=f.dragPreviewWidth,g=f.dragPreviewHeight,v=i.offsetX,b=i.offsetY,E=0===b||b;var O;return{x:0===v||v?v:new o.default([0,.5,1],[u.x,u.x/d*y,u.x+y-d]).interpolate(h),y:E?b:(k=new o.default([0,.5,1],[u.y,u.y/p*g,u.y+g-p]).interpolate(m),(0,r.isSafari)()&&l&&(k+=(window.devicePixelRatio-1)*g),k)};var k};var a,r=n(1778),i=n(1996),o=(a=i)&&a.__esModule?a:{default:a};function s(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),a=n.top;return{x:n.left,y:a}}},1996:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=t.length,r=[],i=0;i<a;i++)r.push(i);r.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var o=[],s=[],l=[],c=void 0,u=void 0,d=0;d<a-1;d++)c=t[d+1]-t[d],u=n[d+1]-n[d],s.push(c),o.push(u),l.push(u/c);for(var p=[l[0]],h=0;h<s.length-1;h++){var m=l[h],f=l[h+1];if(m*f<=0)p.push(0);else{c=s[h];var y=s[h+1],g=c+y;p.push(3*g/((g+y)/m+(g+c)/f))}}p.push(l[l.length-1]);for(var v=[],b=[],E=void 0,O=0;O<p.length-1;O++){E=l[O];var k=p[O],w=1/s[O],_=k+p[O+1]-E-E;v.push((E-k-_)*w),b.push(_*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=b}return a(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,a=this.c1s,r=this.c2s,i=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var s=0,l=i.length-1,c=void 0;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[o=Math.max(0,l)],p=d*d;return n[o]+a[o]*d+r[o]*p+i[o]*d*p}}]),e}();t.default=r},1997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.createNativeDragSource=function(e){var t=l[e],n=t.exposeProperty,a=t.matchesTypes,i=t.getData;return function(){function e(){var t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(a={})[n]=a[n]||{},a[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var a=t[n];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n,a)}}(t,a),t)}return r(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=i(e,a)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(l).filter((function(e){return l[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1705));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var a=t.reduce((function(t,n){return t||e.getData(n)}),null);return null!=a?a:n}var l=(o(a={},i.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(a,i.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),o(a,i.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),a)},1998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){a||((a=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return a};var a=void 0},1999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchBackend=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return new y(t,e)};return e.getMonitor?t(e):t};var i,o=n(82),s=(i=o)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return e.targetTouches?function(e){if(1===e.targetTouches.length)return c(e.targetTouches[0])}(e):{x:e.clientX,y:e.clientY}}var u=1,d=0;function p(e){return void 0===e.button||e.button===d}var h=("undefined"!=typeof document&&document.elementsFromPoint||function(e,t){if(document.msElementsFromPoint){var n=document.msElementsFromPoint(e,t);return n&&Array.prototype.slice.call(n,0)}for(var a,r,i,o=[],s=[];(a=document.elementFromPoint(e,t))&&-1===o.indexOf(a)&&null!==a;)o.push(a),s.push({value:a.style.getPropertyValue("pointer-events"),priority:a.style.getPropertyPriority("pointer-events")}),a.style.setProperty("pointer-events","none","important");for(r=s.length;i=s[--r];)o[r].style.setProperty("pointer-events",i.value?i.value:"",i.priority);return o}).bind("undefined"!=typeof document?document:null),m=function(){var e=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}();var f={mouse:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},touch:{start:"touchstart",move:"touchmove",end:"touchend"},keyboard:{keydown:"keydown"}},y=t.TouchBackend=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),n.delayTouchStart=n.delayTouchStart||n.delay,n=a({enableTouchEvents:!0,enableMouseEvents:!1,enableKeyboardEvents:!1,ignoreContextMenu:!1,delayTouchStart:0,delayMouseStart:0,touchSlop:0},n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enableKeyboardEvents=n.enableKeyboardEvents,this.enableMouseEvents=n.enableMouseEvents,this.delayTouchStart=n.delayTouchStart,this.delayMouseStart=n.delayMouseStart,this.ignoreContextMenu=n.ignoreContextMenu,this.touchSlop=n.touchSlop,this.sourceNodes={},this.sourceNodeOptions={},this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.targetNodes={},this.targetNodeOptions={},this.listenerTypes=[],this._mouseClientOffset={},n.enableMouseEvents&&this.listenerTypes.push("mouse"),n.enableTouchEvents&&this.listenerTypes.push("touch"),n.enableKeyboardEvents&&this.listenerTypes.push("keyboard"),this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopMoveStart=this.handleTopMoveStart.bind(this),this.handleTopMoveStartDelay=this.handleTopMoveStartDelay.bind(this),this.handleTopMoveStartCapture=this.handleTopMoveStartCapture.bind(this),this.handleTopMoveCapture=this.handleTopMoveCapture.bind(this),this.handleTopMove=this.handleTopMove.bind(this),this.handleTopMoveEndCapture=this.handleTopMoveEndCapture.bind(this),this.handleCancelOnEscape=this.handleCancelOnEscape.bind(this)}return r(e,[{key:"setup",value:function(){"undefined"!=typeof window&&((0,s.default)(!this.constructor.isSetUp,"Cannot have two Touch backends at the same time."),this.constructor.isSetUp=!0,this.addEventListener(window,"start",this.getTopMoveStartHandler()),this.addEventListener(window,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(window,"move",this.handleTopMove),this.addEventListener(window,"move",this.handleTopMoveCapture,!0),this.addEventListener(window,"end",this.handleTopMoveEndCapture,!0),this.enableMouseEvents&&!this.ignoreContextMenu&&this.addEventListener(window,"contextmenu",this.handleTopMoveEndCapture),this.enableKeyboardEvents&&this.addEventListener(window,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(window,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(window,"start",this.handleTopMoveStart),this.removeEventListener(window,"move",this.handleTopMoveCapture,!0),this.removeEventListener(window,"move",this.handleTopMove),this.removeEventListener(window,"end",this.handleTopMoveEndCapture,!0),this.enableMouseEvents&&!this.ignoreContextMenu&&this.removeEventListener(window,"contextmenu",this.handleTopMoveEndCapture),this.enableKeyboardEvents&&this.removeEventListener(window,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,a){var r=m?{capture:a,passive:!1}:a;this.listenerTypes.forEach((function(a){var i=f[a][t];i&&e.addEventListener(i,n,r)}))}},{key:"removeEventListener",value:function(e,t,n,a){var r=m?{capture:a,passive:!1}:a;this.listenerTypes.forEach((function(a){var i=f[a][t];i&&e.removeEventListener(i,n,r)}))}},{key:"connectDragSource",value:function(e,t,n){var a=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes[e]=t,this.addEventListener(t,"start",r),function(){delete a.sourceNodes[e],a.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var a=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodeOptions[e]}}},{key:"connectDropTarget",value:function(e,t){var n=this,a=function(a){var r=void 0;if(n.monitor.isDragging()){switch(a.type){case f.mouse.move:r={x:a.clientX,y:a.clientY};break;case f.touch.move:r={x:a.touches[0].clientX,y:a.touches[0].clientY}}var i=document.elementFromPoint(r.x,r.y),o=t.contains(i);return i===t||o?n.handleMove(a,e):void 0}};return this.addEventListener(document.querySelector("body"),"move",a),this.targetNodes[e]=t,function(){delete n.targetNodes[e],n.removeEventListener(document.querySelector("body"),"move",a)}}},{key:"getSourceClientOffset",value:function(e){return function(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),a=n.top;return{x:n.left,y:a}}(this.sourceNodes[e])}},{key:"handleTopMoveStartCapture",value:function(e){p(e)&&(this.moveStartSourceIds=[])}},{key:"handleMoveStart",value:function(e){Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(e)}},{key:"getTopMoveStartHandler",value:function(){return this.delayTouchStart||this.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"handleTopMoveStart",value:function(e){if(p(e)){var t=c(e);t&&(this._mouseClientOffset=t),this.waitingForDelay=!1}}},{key:"handleTopMoveStartDelay",value:function(e){if(p(e)){var t=e.type===f.touch.start?this.delayTouchStart:this.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,e),t),this.waitingForDelay=!0}}},{key:"handleTopMoveCapture",value:function(e){this.dragOverTargetIds=[]}},{key:"handleMove",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopMove",value:function(e){var t=this;if(clearTimeout(this.timeout),!this.waitingForDelay){var n,a,r,i,o=this.moveStartSourceIds,s=this.dragOverTargetIds,l=c(e);if(l)if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&(n=this._mouseClientOffset.x,a=this._mouseClientOffset.y,r=l.x,i=l.y,Math.sqrt(Math.pow(Math.abs(r-n),2)+Math.pow(Math.abs(i-a),2))>(this.touchSlop?this.touchSlop:0))&&(this.moveStartSourceIds=null,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),this.monitor.isDragging()){var u=this.sourceNodes[this.monitor.getSourceId()];this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),e.preventDefault();var d=s.map((function(e){return t.targetNodes[e]})),p=h(l.x,l.y),m=[];for(var f in p){var y=p[f];for(m.push(y);y&&y.ownerSVGElement;)y=y.parentElement,m.includes(y)||m.push(y)}var g=m.filter((function(e){return d.indexOf(e)>-1})).map((function(e){for(var n in t.targetNodes)if(e===t.targetNodes[n])return n;return null})).filter((function(e){return!!e})).filter((function(e,t,n){return n.indexOf(e)===t}));g.reverse(),this.actions.hover(g,{clientOffset:l})}}}},{key:"handleTopMoveEndCapture",value:function(e){(function(e){return void 0===e.buttons||0==(e.buttons&u)})(e)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(e.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=null)}},{key:"handleCancelOnEscape",value:function(e){"Escape"===e.key&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())}},{key:"handleOnContextMenu",value:function(){this.moveStartSourceIds=null}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new window.MutationObserver((function(){e.parentElement||(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),document.body.appendChild(this.draggedSourceNode)}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=null,this.draggedSourceNode=null}}]),e}()},2002:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(2003)),r=i(n(2006));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var o=(0,r.default)(t,n);if(void 0===o){var s=(0,a.default)(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var l=o.get;return void 0!==l?l.call(i):void 0}},2003:function(e,t,n){e.exports={default:n(2004),__esModule:!0}},2004:function(e,t,n){n(2005),e.exports=n(103).Object.getPrototypeOf},2005:function(e,t,n){var a=n(259),r=n(685);n(1781)("getPrototypeOf",(function(){return function(e){return r(a(e))}}))},2006:function(e,t,n){e.exports={default:n(2007),__esModule:!0}},2007:function(e,t,n){n(2008);var a=n(103).Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},2008:function(e,t,n){var a=n(145),r=n(369).f;n(1781)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(a(e),t)}}))},2009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(116)),r=c(n(102)),i=c(n(0)),o=c(n(8)),s=c(n(9)),l=c(n(1599));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.prefixCls,n=e.vertical,o=e.reverse,c=e.marks,u=e.dots,d=e.step,p=e.included,h=e.lowerBound,m=e.upperBound,f=e.max,y=e.min,g=e.dotStyle,v=e.activeDotStyle,b=f-y,E=function(e,t,n,a,r,i){(0,l.default)(!n||a>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&a)for(var s=r;s<=i;s+=a)-1===o.indexOf(s)&&o.push(s);return o}(0,c,u,d,y,f).map((function(e){var l,c=Math.abs(e-y)/b*100+"%",u=!p&&e===m||p&&e<=m&&e>=h,d=n?(0,r.default)({},g,(0,a.default)({},o?"top":"bottom",c)):(0,r.default)({},g,(0,a.default)({},o?"right":"left",c));u&&(d=(0,r.default)({},d,v));var f=(0,s.default)((l={},(0,a.default)(l,t+"-dot",!0),(0,a.default)(l,t+"-dot-active",u),(0,a.default)(l,t+"-dot-reverse",o),l));return i.default.createElement("span",{className:f,style:d,key:e})}));return i.default.createElement("div",{className:t+"-step"},E)};u.propTypes={prefixCls:o.default.string,activeDotStyle:o.default.object,dotStyle:o.default.object,min:o.default.number,max:o.default.number,upperBound:o.default.number,lowerBound:o.default.number,included:o.default.bool,dots:o.default.bool,step:o.default.number,marks:o.default.object,vertical:o.default.bool,reverse:o.default.bool},t.default=u,e.exports=t.default},2010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(102)),r=l(n(116)),i=l(n(0)),o=l(n(8)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className,n=e.vertical,o=e.reverse,l=e.marks,c=e.included,u=e.upperBound,d=e.lowerBound,p=e.max,h=e.min,m=e.onClickLabel,f=Object.keys(l),y=p-h,g=f.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var p,f=l[e],g="object"==typeof f&&!i.default.isValidElement(f),v=g?f.label:f;if(!v&&0!==v)return null;var b=!c&&e===u||c&&e<=u&&e>=d,E=(0,s.default)((p={},(0,r.default)(p,t+"-text",!0),(0,r.default)(p,t+"-text-active",b),p)),O=(0,r.default)({marginBottom:"-50%"},o?"top":"bottom",(e-h)/y*100+"%"),k=(0,r.default)({transform:"translateX(-50%)",msTransform:"translateX(-50%)"},o?"right":"left",o?(e-h/4)/y*100+"%":(e-h)/y*100+"%"),w=n?O:k,_=g?(0,a.default)({},w,f.style):w;return i.default.createElement("span",{className:E,style:_,key:e,onMouseDown:function(t){return m(t,e)},onTouchStart:function(t){return m(t,e)}},v)}));return i.default.createElement("div",{className:t},g)};c.propTypes={className:o.default.string,vertical:o.default.bool,reverse:o.default.bool,marks:o.default.object,included:o.default.bool,upperBound:o.default.number,lowerBound:o.default.number,max:o.default.number,min:o.default.number,onClickLabel:o.default.func},t.default=c,e.exports=t.default},2017:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o,s=n(0),l=n(8),c=n(79),u=n(2018);o=/^0\.14/.test(s.version)?function(e){return e}:function(e){return c.findDOMNode(e)};var d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var n=this;return Object.keys(t.propTypes).some((function(t){return n.props[t]!==e[t]}))}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"utf16to8",value:function(e){var t,n,a,r;for(t="",a=e.length,n=0;n<a;n++)(r=e.charCodeAt(n))>=1&&r<=127?t+=e.charAt(n):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t}},{key:"update",value:function(){var e=this.utf16to8(this.props.value),t=u(e),n=o(this.refs.canvas),a=n.getContext("2d"),r=t.modules,i=this.props.size/r.length,s=this.props.size/r.length,l=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(a);if(n.height=n.width=this.props.size*l,a.scale(l,l),r.forEach((function(e,t){e.forEach((function(e,n){a.fillStyle=e?this.props.fgColor:this.props.bgColor;var r=Math.ceil((n+1)*i)-Math.floor(n*i),o=Math.ceil((t+1)*s)-Math.floor(t*s);a.fillRect(Math.round(n*i),Math.round(t*s),r,o)}),this)}),this),this.props.logo){var c=this,d=this.props.size,p=document.createElement("img");p.src=this.props.logo,p.onload=function(){var e=c.props.logoWidth||.2*d,t=c.props.logoHeight||p.height/p.width*e,n=(d-e)/2,r=(d-t)/2;p.width=e,p.height=t,a.drawImage(p,n,r,e,t)}}}},{key:"render",value:function(){return s.createElement("canvas",{style:{height:this.props.size,width:this.props.size},height:this.props.size,width:this.props.size,ref:"canvas"})}}]),t}(s.Component);d.propTypes={value:l.string.isRequired,size:l.number,bgColor:l.string,fgColor:l.string,logo:l.string,logoWidth:l.number,logoHeight:l.number},d.defaultProps={size:128,bgColor:"#FFFFFF",fgColor:"#000000",value:"http://facebook.github.io/react/"},e.exports=d},2018:function(e,t,n){var a=n(2019),r=n(1786),i=function(e,t){var n=new a((t=t||{}).typeNumber||-1,t.errorCorrectLevel||r.H);return n.addData(e),n.make(),n};i.ErrorCorrectLevel=r,e.exports=i},2019:function(e,t,n){var a=n(2020),r=n(2021),i=n(2022),o=n(2023),s=n(1787);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new a(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new i,a=0,s=0;s<t.length;s++)a+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*a)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+n][t+a]=0<=n&&n<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=a&&a<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var a=o.getLostPoint(this);(0==n||e>a)&&(e=a,t=n)}return t},c.createMovieClip=function(e,t,n){var a=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var i=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(a.beginFill(0,100),a.moveTo(s,i),a.lineTo(s+1,i),a.lineTo(s+1,i+1),a.lineTo(s,i+1),a.endFill())}return a},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],r=e[n];if(null==this.modules[a][r])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[a+i][r+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},c.setupTypeNumber=function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var a=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(n=0;n<18;n++){a=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=o.getBCHTypeInfo(n),r=0;r<15;r++){var i=!e&&1==(a>>r&1);r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(r=0;r<15;r++){i=!e&&1==(a>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,a=this.moduleCount-1,r=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[a][s-l]){var c=!1;i<e.length&&(c=1==(e[i]>>>r&1)),o.getMask(t,a,s-l)&&(c=!c),this.modules[a][s-l]=c,-1==--r&&(i++,r=7)}if((a+=n)<0||this.moduleCount<=a){a-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var a=r.getRSBlocks(e,t),s=new i,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),o.getLengthInBits(u.mode,e)),u.write(s)}var d=0;for(c=0;c<a.length;c++)d+=a[c].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d||(s.put(l.PAD0,8),s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,a)},l.createBytes=function(e,t){for(var n=0,a=0,r=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;a=Math.max(a,u),r=Math.max(r,d),i[c]=new Array(u);for(var p=0;p<i[c].length;p++)i[c][p]=255&e.buffer[p+n];n+=u;var h=o.getErrorCorrectPolynomial(d),m=new s(i[c],h.getLength()-1).mod(h);l[c]=new Array(h.getLength()-1);for(p=0;p<l[c].length;p++){var f=p+m.getLength()-l[c].length;l[c][p]=f>=0?m.get(f):0}}var y=0;for(p=0;p<t.length;p++)y+=t[p].totalCount;var g=new Array(y),v=0;for(p=0;p<a;p++)for(c=0;c<t.length;c++)p<i[c].length&&(g[v++]=i[c][p]);for(p=0;p<r;p++)for(c=0;c<t.length;c++)p<l[c].length&&(g[v++]=l[c][p]);return g},e.exports=l},2020:function(e,t,n){var a=n(1785);function r(e){this.mode=a.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},2021:function(e,t,n){var a=n(1786);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=n.length/3,i=new Array,o=0;o<a;o++)for(var s=n[3*o+0],l=n[3*o+1],c=n[3*o+2],u=0;u<s;u++)i.push(new r(l,c));return i},r.getRsBlockTable=function(e,t){switch(t){case a.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},2022:function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},2023:function(e,t,n){var a=n(1785),r=n(1787),i=n(1788),o=0,s=1,l=2,c=3,u=4,d=5,p=6,h=7,m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;m.getBCHDigit(t)-m.getBCHDigit(m.G15)>=0;)t^=m.G15<<m.getBCHDigit(t)-m.getBCHDigit(m.G15);return(e<<10|t)^m.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;m.getBCHDigit(t)-m.getBCHDigit(m.G18)>=0;)t^=m.G18<<m.getBCHDigit(t)-m.getBCHDigit(m.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return m.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case o:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a++)for(var r=0;r<t;r++){for(var i=0,o=e.isDark(a,r),s=-1;s<=1;s++)if(!(a+s<0||t<=a+s))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==s&&0==l||o==e.isDark(a+s,r+l)&&i++;i>5&&(n+=3+i-5)}for(a=0;a<t-1;a++)for(r=0;r<t-1;r++){var c=0;e.isDark(a,r)&&c++,e.isDark(a+1,r)&&c++,e.isDark(a,r+1)&&c++,e.isDark(a+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(a,r)&&!e.isDark(a,r+1)&&e.isDark(a,r+2)&&e.isDark(a,r+3)&&e.isDark(a,r+4)&&!e.isDark(a,r+5)&&e.isDark(a,r+6)&&(n+=40);for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(a,r)&&!e.isDark(a+1,r)&&e.isDark(a+2,r)&&e.isDark(a+3,r)&&e.isDark(a+4,r)&&!e.isDark(a+5,r)&&e.isDark(a+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(a=0;a<t;a++)e.isDark(a,r)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=m},2028:function(e){e.exports=JSON.parse('{"en-PH":{"text.body.registration.messages.creation":"Do you want to update your existing contact information?","text.title.general.bank-name":"UnionBank of the Philippines","text.body.general.accept":"Accept","text.body.general.back":"Back","text.body.general.cancel":"Cancel","text.body.general.continue":"Continue","text.body.general.next":"Next","text.body.general.submit":"Submit","text.body.general.save":"Save","text.body.general.privacy":"Privacy","text.body.general.update":"Update","text.body.general.terms-conditions":"Terms & Conditions","text.body.general.learn-more":"Learn More","text.body.general.share":"Share","text.body.navigation.back":"Back to LOGIN","text.body.navigation.back.alt":"Back to Login","text.body.navigation.go-to-dashboard":"Go to dashboard","text.body.forgot.trouble.with.account":"Recover my profile","text.body.forgot.select.options":"Recover your profile with the following options:","text.body.forgot.userid":"I forgot my user ID","text.body.forgot.password":"I forgot my password","text.body.forgot.both":"I forgot both my user ID & password","text.body.forgot.both.title":"I need help with my user ID and password.","text.body.forgot.enter.email.userid":"Enter your registered email address below to recover your user ID.","text.body.forgot.enter.email.password":"Enter your user ID or email address below to recover your password.","text.body.forgot.enter.email.both":"Enter your registered email address below to recover your user ID and password.","text.body.forgot.userid.email":"Forgot user ID and email?","text.body.forgot.recover.thru.ubp.account":"Recover using my UnionBank Account","text.body.forgot.recover.select.how":"Select how you want to recover your account.","text.body.forgot.recover.select.how.subtext":"Recover your UnionBank online account and manage all your bank accounts in one app with one user ID.","text.body.forgot.recover.using.accnum":"Recover using your Account Number","text.body.forgot.recover.using.atm.card":"Recover using your ATM Card.","text.body.forgot.recover.using.loans":"Recover using your Loan Account Number","text.body.forgot.recover.using.credit.card":"Recover using your Credit Card Number.","text.title.registration.accounts":"Accounts","text.title.registration.messages.creation":"You\'re almost there!","text.title.registration.prompts.select-method":"How do you want to sign up?","text.title.add-account.prompts.select-method":"What type of account do you want to add?","text.body.registration.caption":"Do all of your banking needs with just one UnionBank Online profile.","text.body.registration.create-profile":"Create your UnionBank Online profile.","text.title.registration.methods.atm-card":"Sign up using your ATM Card.","text.title.registration.methods.credit-card":"Sign up using your Credit Card Number.","text.title.registration.methods.account-number":"Sign up using your Account Number.","text.title.registration.methods.registration-hotline":"Sign up using our Registration Hotline.","text.title.registration.methods.loan":"Sign up using your Loan Account.","text.title.registration.methods.non-account-holder":"Tell us how to reach you.","text.title.add-account.methods.atm-card":"Add an account using your ATM Card.","text.title.add-account.methods.credit-card":"Add an account using your Credit Card Number.","text.title.add-account.methods.account-number":"Add an account using your Account Number.","text.title.add-account.methods.loan":"Add an account using your Loan Account.","text.body.registration.methods.atm-card":"ATM Card","text.body.registration.methods.credit-card":"Credit Card","text.body.registration.methods.account-number":"Account Number","text.body.registration.methods.registration-hotline":"Registration Hotline","text.body.registration.methods.loan":"Loan","text.body.registration.methods.non-account-holder":"I\'m not a UnionBank customer yet","text.body.registration.messages.no-ubp-account":"Don\'t have an account yet? We got you! You can still register using your mobile number and start creating your UnionBank account.","text.body.registration.password.strength":"Password Strength","text.body.registration.password.required":"Password should not be blank","text.body.registration.password.min.max":"Password should be 8-30 characters","text.body.registration.password.alpha.required":"Password should contain alphabetical characters","text.body.registration.password.num.required":"Password should contain a numeric character","text.body.registration.password.symbol.required":"Password should contain a symbol character","text.title.dashboard":"Dashboard","text.title.dashboard.main-menu":"Main Menu","text.title.dashboard.more-options":"More Options","text.title.dashboard.result":"Result","text.title.dashboard.transfer-funds":"Transfer Funds","text.title.dashboard.move-money":"Move Money","text.title.dashboard.transfer-funds.to-own":"to Own","text.title.dashboard.transfer-funds.to-home-bank":"to Another UnionBank Account","text.title.dashboard.transfer-funds.to-eon":"to Eon Account","text.title.dashboard.transfer-funds.to-other-banks":"to Other Banks","text.title.transfer-funds.social-payments":"Social Payments (Peer-to-Peer)","text.title.dashboard.transfer-funds.manage":"Manage Recipients","text.title.dashboard.transfer-funds.history":"Recent Transfers","text.title.dashboard.transfer-funds.schedule":"Scheduled Transfers","text.title.dashboard.pay-bills":"Pay Bills","text.title.dashboard.pay-bills.manage":"Manage Billers","text.title.dashboard.pay-bills.history":"Recent Payments","text.title.dashboard.pay-bills.schedule":"Scheduled Payments","text.title.dashboard.purchase":"Buy Load","text.title.dashboard.settings":"Settings","text.title.dashboard.notifications":"Notifications","text.title.dashboard.about-us":"About Us","text.title.dashboard.atm-branch-locator":"ATM & Branch Locator","text.title.dashboard.faq":"FAQ","text.title.dashboard.contact-us":"Contact Us","text.body.dashboard.what-to-do":"What do you want to do today?","text.body.dashboard.select-account-view":"Select account to view details.","text.body.bills.pay-faster":"Pay your bills easier and faster.","text.body.bills.select-a-biller":"Select A Biller","text.body.bills.view-recent":"Recent Payments","text.body.bills.manage-billers":"Manage Billers","text.body.bills.manage-scheduled-payments":"Manage Scheduled Payments","text.body.bills.bills-payment-faq":"Bills Payment FAQ","text.body.bills.biller-fields":"Enter biller information","text.body.bills.manage-payments":"Manage Scheduled Payments","text.body.bills.manage.manage-billers":"Manage Billers","text.body.bills.history.view-history":"View Payment History","text.body.bills.process.to.which-biller":"Which biller do you want to pay to?","text.body.bills.process.to.biller-filter":"Biller List","text.body.bills.process.to.my-billers":"My Billers","text.body.bills.process.to.favorites":"Favorites","text.title.bills.process.from":"Pay from which account?","text.body.bills.process.from":"Select the account you want to pay from.","text.body.bills.process.review.caption":"Review and Pay","text.body.bills.process.review.reminder":"Please take time to review the details below before clicking \\"PAY\\".","text.body.bills.process.fields":"Please supply all the necessary details before clicking \'NEXT\'.","text.body.bills.process.details":"Payment details","text.body.bills.process.details.caption":"Fill in the required details below.","text.body.funds.transfer-button":"Transfer","text.body.funds.how":"Select on how you want to transfer your funds.","text.body.funds.transfer-to-own":"Transfer to Own","text.body.funds.transfer-to-another-ubp":"Transfer to Another UnionBank Account","text.body.funds.transfer-to-own-desc":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","text.body.funds.transfer-to-another-account":"Transfer to Another UnionBank Account","text.body.funds.transfer-to-another-account-desc":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","text.body.funds.transfer-to-other-banks":"Transfer to Other Banks","text.body.funds.transfer-to-other-banks-desc":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","text.body.funds.view-recent":"View Recent Transfers","text.body.funds.manage-recipients":"Manage Recipients","text.body.funds.manage-scheduled":"Manage Scheduled Transfers","text.body.funds.fund-transfer-faq":"Fund Transfer FAQ","text.body.funds.manage.my-recipients":"My Recipients","text.body.funds.manage.favorites":"Favorites","text.body.funds.manage.add-new-recipients":"Add New Recipient","text.body.funds.process.to":"Transfer Funds to?","text.body.funds.process.to.select-account":"Select the account you want to transfer to.","text.body.funds.process.review.caption":"Review and Transfer","text.body.funds.process.review.tap-transfer":"Tap \\"TRANSFER\\" to proceed.","text.body.funds.process.from":"Transfer Funds from?","text.body.funds.process.from.select-account":"Select the account you want to transfer from.","text.title.transfer-funds":"Transfer funds to any major local bank.","text.title.transfer-funds.to-own":"Own Accounts","text.title.transfer-funds.to-home-bank":"Another UnionBank Account","text.title.transfer-funds.to-eon":"EON Account","text.title.transfer-funds.to-other-banks":"Other Banks","text.body.transfer-funds.to-own":"Move funds to your own UnionBank accounts real-time.","text.body.transfer-funds.to-home-bank":"Move funds to other UnionBank accounts.","text.body.transfer-funds.to-eon":"Move funds to your own EON Cyberaccount.","text.body.transfer-funds.to-other-banks":"Move funds to any local bank in the Philippines.","text.body.transfer-funds.history":"Recent Transfers","text.body.transfer-funds.manage":"Manage Recipients","text.body.transfer-funds.schedule":"Manage Scheduled Transfers","text.body.transfer-funds.faq":"Fund Transfer FAQ","text.title.transfer-funds-process.from":"Transfer from?","text.title.transfer-funds-process.to":"Transfer to?","text.title.transfer-funds-process.amount":"Amount to Transfer","text.title.transfer-funds-process.review":"Review and Transfer","text.body.transfer-funds-process.from":"Select the account you want to transfer funds from.","text.body.transfer-funds-process.to":"Select the account you want to transfer funds to.","text.body.transfer-funds-process.amount":"Transfer amount","text.body.transfer-funds-process.review":"If you are transferring to another bank, additional fees and charges may apply. Please be advised that our cut-off time is until 12 noon.","text.title.buy-load-header":"Which mobile number do you want to load?","text.title.buy-load":"Purchase airtime load anytime, anywhere.","text.title.buy-load-desc":"Please only use numbers that work in the Philippines","text.title.buy-load.mobile":"Enter 11 digit mobile number. Ex: 09171234567","text.title.buy-load.process.from":"Purchase from which account?","text.body.buy-load.process.from":"Select the account you want to purchase from.","text.title.buy-load.process.amount":"Choose an amount","text.body.buy-load.process.amount-select":"Tap to any of the applicable accounts below and click \'Next\'.","text.body.buy-load.process.buy-load":"Buy Load","text.body.buy-load.process.review.reminder":"Please take time to review the details below before clicking \'Purchase\'.","text.body.buy-load.recent":"Recent Purchases","text.body.buy-load.faq":"Buy Load FAQ","text.title.settings":"Settings","text.body.settings":"Manage your security, profile, notification and transaction preferences","text.body.settings.login":"Login and Security","text.body.settings.login-desc":"Manage you password, registered devices and One-Time Password (OTP).","text.body.settings.login.password":"Update Password","text.body.settings.login.password-desc":"Change your UnionBank Online profile password.","text.title.settings.manage.devices":"Manage Registered Devices","text.title.settings.manage.devices-desc":"Manage your registered devices and remove OTP","text.body.settings.manage.devices":"Add a trusted device to skip inputting the One-Time Password(OTP) when you log in.","text.body.settings.login.enter.new-password":"Enter New Password","text.body.settings.manage.otp":"Manage One-Time Password","text.body.settings.manage.otp-desc":"Manage the actions requiring a One-Time Password (OTP).","text.body.settings.profile":"Profile","text.body.settings.profile-desc":"Update your UnionBank Online Profile.","text.body.settings.profile.form-caption":"Your profile","text.title.settings-name":"Update Name","text.title.settings-email":"Update Email Address","text.title.settings-mobile":"Update Mobile Number","text.body.settings-description":"Do you want to update your existing profile at UnionBank using the following details?","text.body.settings.notifications":"Notifications","text.body.settings.notifications-desc":"Manage notifications sent to you.","text.body.settings.notifications.form-desc":"Get notified on the follow actions or manage the actions you would like to receive a notification on.","text.body.settings.limits":"Transaction Limits","text.body.settings.limits-desc":"Manage transaction limits.","text.body.settings.limits.form-desc":"Manage limits for each of the transaction types below.","text.body.settings.preferred-otp":"Preferred OTP","text.body.settings.preferred-otp.desc":"Select your preferred mode for your OTP when you sign in","text.title.faq":"Buy Load FAQs","text.title.auth.login":"Log In","text.title.auth.otp":"One-Time Password","text.title.auth.message":"Message","text.body.auth.do-not-have-account":"Do not have a UnionBank account?","text.body.auth.login":"Log In","text.body.auth.login.having-trouble":"I forgot my User ID or password","text.body.auth.logout":"Log Out","text.body.auth.logout.status.success":"Successfully logged out","text.body.auth.password":"Password","text.body.auth.sign-up-now":"Sign Up Now","text.body.auth.user-id":"User ID","text.otp":"One-Time Password","text.title.otp":"Enter your One-Time Password","text.body.email":"You will receive an Email Activation Code (EAC) on your registered email address: ","text.body.otp":"You will receive a One-Time Password (OTP) on your registered mobile number ending in","text.body.otp.did-not-receive":"Did not receive code?","text.body.otp.resend-code":"Resend Code","text.body.otp.valid-for":"One-Time Password is only valid for","text.body.otp.call-customer-service":"Call our customer service hotline (02) 841 8600 if your mobile number is not updated.","text.body.otp.prompts.enter-code":"Enter 6-digit code","text.body.success.congrats":"Congratulations!","text.body.success.successfully-created":"You have successfully created your UnionBank Account.","text.body.otp.enter-otp":"Enter your One-Time Password.","text.title.brand.tagline":"Simpler. Faster. Smarter.","text.body.security.reminder":"Please make sure that you\'re in a secure location before entering any of the details above. Wi-Fi hotspots in airports, cafes, hotels and other public places may not be secure.","text.body.transaction.success":"Transaction Successful","text.body.transaction.transaction-date-key":"Transaction Date","text.body.transaction.view-transactions":"View Transactions","text.body.transaction.add-to-recipient":"Add to Recipient","text.body.transaction.add-to-my-billers":"Add to My Billers","text.body.transaction.add-to-my-contacts":"Add to My Contacts","text.body.settings.otp.touch-id":"Require OTP after TouchID","text.body.settings.otp.fund-transfers":"Require OTP for Fund Transfers","text.body.settings.otp.bills-payment":"Require OTP for Bills Payment","text.body.settings.otp.purchases":"Require OTP for Purchases","text.body.transfer-funds.cancel-message":"Do you wish to cancel this transfer? if you want to change something, just click EDIT.","text.body.buy-load.cancel-message":"Do you wish to cancel this purchase? if you want to change something, just click EDIT.","text.body.bills.cancel-message":"Do you wish to cancel this payment? if you want to change something, just click EDIT.","text.title.manage-accounts.arrange.accounts":"Arrange Accounts","text.title.manage-accounts.show-hide.accounts":"Show/Hide Accounts","text.body.manage-accounts.arrange.accounts":"Tap and hold accounts to arrange","text.body.manage-accounts.show-hide.accounts":"Tap the eye to show or hide","text.body.account.blocked":"I want to unblock my profile","text.body.account.unblock.thru.ubp.account":"Unblock using UnionBank Account","text.body.unblock.select.how":"Select how you want to unblock your account.","text.body.unblock.select.how.subtext":"Unblock your UnionBank online account and manage all your bank accounts in one app with one user ID.","text.body.unblock.using.accnum":"Unblock using your Account Number","text.body.unblock.using.atm.card":"Unblock using your ATM Card.","text.body.unblock.using.loans":"Unblock using your Loan Account Number","text.body.unblock.using.credit.card":"Unblock using your Credit Card Number.","text.body.unblock.enter.email":"Enter your user ID or email address below to recover your account."}}')},2033:function(e,t,n){"use strict";var a=n(26),r=n(39),i=n(1790),o=n(67),s=n(253),l=n(81),c=n(650),u=i.ArrayBuffer,d=i.DataView,p=u.prototype.slice;a({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var n=o(this).byteLength,a=s(e,n),r=s(void 0===t?n:t,n),i=new(c(this,u))(l(r-a)),h=new d(this),m=new d(i),f=0;a<r;)m.setUint8(f++,h.getUint8(a++));return i}})},2034:function(e,t){var n=Math.abs,a=Math.pow,r=Math.floor,i=Math.log,o=Math.LN2;e.exports={pack:function(e,t,s){var l,c,u,d=new Array(s),p=8*s-t-1,h=(1<<p)-1,m=h>>1,f=23===t?a(2,-24)-a(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=r(i(e)/o),e*(u=a(2,-l))<1&&(l--,u*=2),(e+=l+m>=1?f/u:f*a(2,1-m))*u>=2&&(l++,u/=2),l+m>=h?(c=0,l=h):l+m>=1?(c=(e*u-1)*a(2,t),l+=m):(c=e*a(2,m-1)*a(2,t),l=0));t>=8;d[g++]=255&c,c/=256,t-=8);for(l=l<<t|c,p+=t;p>0;d[g++]=255&l,l/=256,p-=8);return d[--g]|=128*y,d},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,s=o>>1,l=i-7,c=r-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=a(2,t),d-=s}return(u?-1:1)*n*a(2,d-t)}}},2035:function(e,t,n){n(2036)("Uint8",(function(e){return function(t,n,a){return e(this,t,n,a)}}))},2036:function(e,t,n){"use strict";var a=n(26),r=n(34),i=n(47),o=n(2037),s=n(1549),l=n(1790),c=n(649),u=n(162),d=n(84),p=n(81),h=n(1792),m=n(1793),f=n(201),y=n(46),g=n(353),v=n(44),b=n(255),E=n(655),O=n(254).f,k=n(2039),w=n(159).forEach,_=n(666),P=n(52),S=n(140),x=n(161),C=n(1671),D=x.get,M=x.set,T=P.f,A=S.f,N=Math.round,j=r.RangeError,I=l.ArrayBuffer,F=l.DataView,R=s.NATIVE_ARRAY_BUFFER_VIEWS,L=s.TYPED_ARRAY_TAG,B=s.TypedArray,V=s.TypedArrayPrototype,q=s.aTypedArrayConstructor,z=s.isTypedArray,U=function(e,t){for(var n=0,a=t.length,r=new(q(e))(a);a>n;)r[n]=t[n++];return r},H=function(e,t){T(e,t,{get:function(){return D(this)[t]}})},G=function(e){var t;return e instanceof I||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},Y=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},W=function(e,t){return Y(e,t=f(t,!0))?u(2,e[t]):A(e,t)},X=function(e,t,n){return!(Y(e,t=f(t,!0))&&v(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?T(e,t,n):(e[t]=n.value,e)};i?(R||(S.f=W,P.f=X,H(V,"buffer"),H(V,"byteOffset"),H(V,"byteLength"),H(V,"length")),a({target:"Object",stat:!0,forced:!R},{getOwnPropertyDescriptor:W,defineProperty:X}),e.exports=function(e,t,n){var i=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,f=r[s],y=f,g=y&&y.prototype,P={},S=function(e,t){T(e,t,{get:function(){return function(e,t){var n=D(e);return n.view[l](t*i+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,a){var r=D(e);n&&(a=(a=N(a))<0?0:a>255?255:255&a),r.view[u](t*i+r.byteOffset,a,!0)}(this,t,e)},enumerable:!0})};R?o&&(y=t((function(e,t,n,a){return c(e,y,s),C(v(t)?G(t)?void 0!==a?new f(t,m(n,i),a):void 0!==n?new f(t,m(n,i)):new f(t):z(t)?U(y,t):k.call(y,t):new f(h(t)),e,y)})),E&&E(y,B),w(O(f),(function(e){e in y||d(y,e,f[e])})),y.prototype=g):(y=t((function(e,t,n,a){c(e,y,s);var r,o,l,u=0,d=0;if(v(t)){if(!G(t))return z(t)?U(y,t):k.call(y,t);r=t,d=m(n,i);var f=t.byteLength;if(void 0===a){if(f%i)throw j("Wrong length");if((o=f-d)<0)throw j("Wrong length")}else if((o=p(a)*i)+d>f)throw j("Wrong length");l=o/i}else l=h(t),r=new I(o=l*i);for(M(e,{buffer:r,byteOffset:d,byteLength:o,length:l,view:new F(r)});u<l;)S(e,u++)})),E&&E(y,B),g=y.prototype=b(V)),g.constructor!==y&&d(g,"constructor",y),L&&d(g,L,s),P[s]=y,a({global:!0,forced:y!=f,sham:!R},P),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",i),_(s)}):e.exports=function(){}},2037:function(e,t,n){var a=n(34),r=n(39),i=n(363),o=n(1549).NATIVE_ARRAY_BUFFER_VIEWS,s=a.ArrayBuffer,l=a.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!i((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new s(2),1,void 0).length}))},2038:function(e,t,n){var a=n(117);e.exports=function(e){var t=a(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},2039:function(e,t,n){var a=n(83),r=n(81),i=n(352),o=n(362),s=n(199),l=n(1549).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,p,h=a(e),m=arguments.length,f=m>1?arguments[1]:void 0,y=void 0!==f,g=i(h);if(null!=g&&!o(g))for(p=(d=g.call(h)).next,h=[];!(u=p.call(d)).done;)h.push(u.value);for(y&&m>2&&(f=s(f,arguments[2],2)),n=r(h.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=y?f(h[t],t):h[t];return c}},2040:function(e,t,n){"use strict";var a=n(1549),r=n(2041),i=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",(function(e,t){return r.call(i(this),e,t,arguments.length>2?arguments[2]:void 0)}))},2041:function(e,t,n){"use strict";var a=n(83),r=n(253),i=n(81),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=a(this),s=i(n.length),l=r(e,s),c=r(t,s),u=arguments.length>2?arguments[2]:void 0,d=o((void 0===u?s:r(u,s))-c,s-l),p=1;for(c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=p,c+=p;return n}},2042:function(e,t,n){"use strict";var a=n(1549),r=n(159).every,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2043:function(e,t,n){"use strict";var a=n(1549),r=n(1627),i=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",(function(e){return r.apply(i(this),arguments)}))},2044:function(e,t,n){"use strict";var a=n(1549),r=n(159).filter,i=n(650),o=a.aTypedArray,s=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",(function(e){for(var t=r(o(this),e,arguments.length>1?arguments[1]:void 0),n=i(this,this.constructor),a=0,l=t.length,c=new(s(n))(l);l>a;)c[a]=t[a++];return c}))},2045:function(e,t,n){"use strict";var a=n(1549),r=n(159).find,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2046:function(e,t,n){"use strict";var a=n(1549),r=n(159).findIndex,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2047:function(e,t,n){"use strict";var a=n(1549),r=n(159).forEach,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",(function(e){r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2048:function(e,t,n){"use strict";var a=n(1549),r=n(354).includes,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2049:function(e,t,n){"use strict";var a=n(1549),r=n(354).indexOf,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2050:function(e,t,n){"use strict";var a=n(34),r=n(1549),i=n(193),o=n(31)("iterator"),s=a.Uint8Array,l=i.values,c=i.keys,u=i.entries,d=r.aTypedArray,p=r.exportTypedArrayMethod,h=s&&s.prototype[o],m=!!h&&("values"==h.name||null==h.name),f=function(){return l.call(d(this))};p("entries",(function(){return u.call(d(this))})),p("keys",(function(){return c.call(d(this))})),p("values",f,!m),p(o,f,!m)},2051:function(e,t,n){"use strict";var a=n(1549),r=a.aTypedArray,i=a.exportTypedArrayMethod,o=[].join;i("join",(function(e){return o.apply(r(this),arguments)}))},2052:function(e,t,n){"use strict";var a=n(1549),r=n(677),i=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",(function(e){return r.apply(i(this),arguments)}))},2053:function(e,t,n){"use strict";var a=n(1549),r=n(159).map,i=n(650),o=a.aTypedArray,s=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(i(e,e.constructor)))(t)}))}))},2054:function(e,t,n){"use strict";var a=n(1549),r=n(668).left,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",(function(e){return r(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2055:function(e,t,n){"use strict";var a=n(1549),r=n(668).right,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",(function(e){return r(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:function(e,t,n){"use strict";var a=n(1549),r=a.aTypedArray,i=a.exportTypedArrayMethod,o=Math.floor;i("reverse",(function(){for(var e,t=r(this).length,n=o(t/2),a=0;a<n;)e=this[a],this[a++]=this[--t],this[t]=e;return this}))},2057:function(e,t,n){"use strict";var a=n(1549),r=n(81),i=n(1793),o=n(83),s=n(39),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",(function(e){l(this);var t=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,a=o(e),s=r(a.length),c=0;if(s+t>n)throw RangeError("Wrong length");for(;c<s;)this[t+c]=a[c++]}),s((function(){new Int8Array(1).set({})})))},2058:function(e,t,n){"use strict";var a=n(1549),r=n(650),i=n(39),o=a.aTypedArray,s=a.aTypedArrayConstructor,l=a.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var n=c.call(o(this),e,t),a=r(this,this.constructor),i=0,l=n.length,u=new(s(a))(l);l>i;)u[i]=n[i++];return u}),i((function(){new Int8Array(1).slice()})))},2059:function(e,t,n){"use strict";var a=n(1549),r=n(159).some,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",(function(e){return r(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2060:function(e,t,n){"use strict";var a=n(1549),r=a.aTypedArray,i=a.exportTypedArrayMethod,o=[].sort;i("sort",(function(e){return o.call(r(this),e)}))},2061:function(e,t,n){"use strict";var a=n(1549),r=n(81),i=n(253),o=n(650),s=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),a=n.length,l=i(e,a);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?a:i(t,a))-l))}))},2062:function(e,t,n){"use strict";var a=n(34),r=n(1549),i=n(39),o=a.Int8Array,s=r.aTypedArray,l=r.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!o&&i((function(){c.call(new o(1))}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!i((function(){o.prototype.toLocaleString.call([1,2])})))},2063:function(e,t,n){"use strict";var a=n(1549).exportTypedArrayMethod,r=n(39),i=n(34).Uint8Array,o=i&&i.prototype||{},s=[].toString,l=[].join;r((function(){s.call({})}))&&(s=function(){return l.call(this)});var c=o.toString!=s;a("toString",s,c)},2064:function(e,t,n){!function(t,n){"use strict";e.exports=function(){for(var e={},t=["png","gif","bmp","jpeg","webp"],n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];function a(e,t,n){if(!e)return e;var a=function(e,t,n){var a=e.width/e.height;return t>0&&n>0?(t/n>a?n=t/a:t=n*a,[t,n]):t>0?[t,t/a]:n>0?[n*a,n]:[e.width,e.height]}(e,t,n);t=a[0],n=a[1];var r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,t,n),r}return e.resize2Canvas=a,e.resize=function(e,n,r,i){t.indexOf(i)<0&&(i="png");var o=a(e,n,r),s=o.getContext("2d");return"png"!==i&&(s.globalCompositeOperation="destination-over",s.fillStyle="#fff",s.fillRect(0,0,o.width,o.height),s.globalCompositeOperation=""),o.toDataURL("image/"+i)},e}()}()},2067:function(e,t,n){var a=n(681),r=n(679),i=n(682);e.exports=function(e){return a(e)||r(e)||i()}},2068:function(e,t,n){},2075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1578)),r=l(n(1579)),i=l(n(1596)),o=l(n(1622)),s=n(1562);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,c=(0,a.default)(e),u=(0,r.default)(e),d=t/l,p=(0,i.default)(n),h=(0,i.default)(c),m=(0,i.default)(u),f=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(p)),y=m+Math.atan2(Math.sin(p)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(f)),g=(0,o.default)(y);return(g<s.MINLON||g>s.MAXLON)&&(y=(y+3*Math.PI)%(2*Math.PI)-Math.PI,g=(0,o.default)(y)),{latitude:(0,o.default)(f),longitude:g}};t.default=c},2076:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=a.areaConversion[t];if(n)return e*n;throw new Error("Invalid unit used for area conversion.")};t.default=r},2077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=a.distanceConversion[t];if(n)return e*n;throw new Error("Invalid unit used for distance conversion.")};t.default=r},2078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1562),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(t){case"kmh":return e*a.timeConversion.h*a.distanceConversion.km;case"mph":return e*a.timeConversion.h*a.distanceConversion.mi;default:return e}};t.default=r},2079:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=Math.pow(10,12);return Math.round(e*t)/t},i=function(e){var t=a(e.toString().split("."),2),n=t[0],i=t[1],o=Math.abs(Number(n)),s=r(60*Number("0."+(i||0))),l=Math.floor(s),c=r(60*(s%l||0));return o+"° "+Number(l.toFixed(6)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+"' "+Number(c.toFixed(4)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+'"'};t.default=i},2080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1798))&&a.__esModule?a:{default:a};var i=function(e,t){return(0,r.default)(e,t)[0]};t.default=i},2081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1596)),r=s(n(1578)),i=s(n(1579)),o=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=0;if(e.length>2){for(var n,s,l,c=0;c<e.length;c++){c===e.length-2?(n=e.length-2,s=e.length-1,l=0):c===e.length-1?(n=e.length-1,s=0,l=1):(n=c,s=c+1,l=c+2);var u=(0,i.default)(e[n]),d=(0,r.default)(e[s]),p=(0,i.default)(e[l]);t+=((0,a.default)(p)-(0,a.default)(u))*Math.sin((0,a.default)(d))}t=t*o.earthRadius*o.earthRadius/2}return Math.abs(t)};t.default=l},2082:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1578)),r=l(n(1579)),i=l(n(1596)),o=l(n(1622)),s=n(1562);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n,l,c=(0,a.default)(e),u=(0,r.default)(e),d=(0,i.default)(c),p=(0,i.default)(u),h=t/s.earthRadius,m=d-h,f=d+h,y=(0,i.default)(s.MAXLAT),g=(0,i.default)(s.MINLAT),v=(0,i.default)(s.MAXLON),b=(0,i.default)(s.MINLON);if(m>g&&f<y){var E=Math.asin(Math.sin(h)/Math.cos(d));(n=p-E)<b&&(n+=2*Math.PI),(l=p+E)>v&&(l-=2*Math.PI)}else m=Math.max(m,g),f=Math.min(f,y),n=b,l=v;return[{latitude:(0,o.default)(m),longitude:(0,o.default)(n)},{latitude:(0,o.default)(f),longitude:(0,o.default)(l)}]};t.default=c},2083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1578)),r=s(n(1579)),i=s(n(1596)),o=s(n(1622));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){if(!1===Array.isArray(e)||0===e.length)return!1;var t=e.length,n=e.reduce((function(e,t){var n=(0,i.default)((0,a.default)(t)),o=(0,i.default)((0,r.default)(t));return{X:e.X+Math.cos(n)*Math.cos(o),Y:e.Y+Math.cos(n)*Math.sin(o),Z:e.Z+Math.sin(n)}}),{X:0,Y:0,Z:0}),s=n.X/t,l=n.Y/t,c=n.Z/t;return{longitude:(0,o.default)(Math.atan2(l,s)),latitude:(0,o.default)(Math.atan2(c,Math.sqrt(s*s+l*l)))}};t.default=l},2084:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1799))&&a.__esModule?a:{default:a};var i=function(e){var t=(0,r.default)(e),n=t.minLat+(t.maxLat-t.minLat)/2,a=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(a.toFixed(6))}};t.default=i},2085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1800))&&a.__esModule?a:{default:a};var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default,a="function"==typeof n?n(e,t):(0,r.default)(e,t);if(isNaN(a))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(a/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}};t.default=i},2086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1578)),r=s(n(1579)),i=s(n(1596)),o=s(n(1622));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=(0,a.default)(t),s=(0,r.default)(t),l=(0,a.default)(e),c=(0,r.default)(e);return((0,o.default)(Math.atan2(Math.sin((0,i.default)(s)-(0,i.default)(c))*Math.cos((0,i.default)(n)),Math.cos((0,i.default)(l))*Math.sin((0,i.default)(n))-Math.sin((0,i.default)(l))*Math.cos((0,i.default)(n))*Math.cos((0,i.default)(s)-(0,i.default)(c))))+360)%360};t.default=l},2087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default;return e.reduce((function(e,n){return"object"===i(e)&&null!==e.last&&(e.distance+=t(n,e.last)),e.last=n,e}),{last:null,distance:0}).distance};t.default=o},2088:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1578)),r=s(n(1579)),i=s(n(1596)),o=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var s,l,c,u,d,p,h,m=(0,a.default)(e),f=(0,r.default)(e),y=(0,a.default)(t),g=(0,r.default)(t),v=6356752.314245,b=1/298.257223563,E=(0,i.default)(g-f),O=Math.atan((1-b)*Math.tan((0,i.default)(parseFloat(m)))),k=Math.atan((1-b)*Math.tan((0,i.default)(parseFloat(y)))),w=Math.sin(O),_=Math.cos(O),P=Math.sin(k),S=Math.cos(k),x=E,C=100;do{var D=Math.sin(x),M=Math.cos(x);if(0===(p=Math.sqrt(S*D*(S*D)+(_*P-w*S*M)*(_*P-w*S*M))))return 0;s=w*P+_*S*M,l=Math.atan2(p,s),d=s-2*w*P/(u=1-(c=_*S*D/p)*c),isNaN(d)&&(d=0);var T=b/16*u*(4+b*(4-3*u));h=x,x=E+(1-T)*b*c*(l+T*p*(d+T*s*(2*d*d-1)))}while(Math.abs(x-h)>1e-12&&--C>0);if(0===C)return NaN;var A=u*(o.earthRadius*o.earthRadius-v*v)/(v*v),N=1+A/16384*(4096+A*(A*(320-175*A)-768)),j=A/1024*(256+A*(A*(74-47*A)-128)),I=j*p*(d+j/4*(s*(2*d*d-1)-j/6*d*(4*p*p-3)*(4*d*d-3))),F=v*N*(l-I);return Math.round(F/n)*n};t.default=l},2089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return/^NNE|NE|NNW|N$/.test(e)?"N":/^ENE|E|ESE|SE$/.test(e)?"E":/^SSE|S|SSW|SW$/.test(e)?"S":/^WSW|W|WNW|NW$/.test(e)?"W":void 0};t.default=a},2090:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default,a=n(e,t),i=Number(t.time)-Number(e.time),o=a/i*1e3;return o};t.default=i},2091:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};var i=function(e,t,n){return(0,r.default)(t,e)+(0,r.default)(e,n)===(0,r.default)(t,n)};t.default=i},2092:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(1578)),r=i(n(1579));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){for(var n=!1,i=t.length,o=-1,s=i-1;++o<i;s=o)((0,r.default)(t[o])<=(0,r.default)(e)&&(0,r.default)(e)<(0,r.default)(t[s])||(0,r.default)(t[s])<=(0,r.default)(e)&&(0,r.default)(e)<(0,r.default)(t[o]))&&(0,a.default)(e)<((0,a.default)(t[s])-(0,a.default)(t[o]))*((0,r.default)(e)-(0,r.default)(t[o]))/((0,r.default)(t[s])-(0,r.default)(t[o]))+(0,a.default)(t[o])&&(n=!n);return n};t.default=o},2093:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1801))&&a.__esModule?a:{default:a};var i=function(e,t,n,a){return(0,r.default)(e,t,n)<a};t.default=i},2094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(1611))&&a.__esModule?a:{default:a};var i=function(e,t,n){return(0,r.default)(e,t)<n};t.default=i},2095:function(e,t,n){var a,r,i;r=[t,n(2096),n(2100),n(2101),n(2102),n(2103),n(2104),n(0),n(8),n(79),n(1633),n(2105)],void 0===(i="function"==typeof(a=function(e,t,n,a,r,i,o,s,l,c,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.Polyline=e.Polygon=e.HeatMap=e.InfoWindow=e.Marker=e.GoogleApiWrapper=void 0,Object.defineProperty(e,"GoogleApiWrapper",{enumerable:!0,get:function(){return t.wrapper}}),Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return n.Marker}}),Object.defineProperty(e,"InfoWindow",{enumerable:!0,get:function(){return a.InfoWindow}}),Object.defineProperty(e,"HeatMap",{enumerable:!0,get:function(){return r.HeatMap}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return i.Polygon}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return o.Polyline}});var p=f(s),h=f(l),m=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g={position:"absolute",width:"100%",height:"100%"},v={position:"absolute",left:0,right:0,bottom:0,top:0},b=["ready","click","dragend","recenter","bounds_changed","center_changed","dblclick","dragstart","heading_change","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],E=e.Map=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!e.hasOwnProperty("google"))throw new Error("You must include a `google` prop");return n.listeners={},n.state={currentLocation:{lat:n.props.initialCenter.lat,lng:n.props.initialCenter.lng}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&(this.geoPromise=(0,d.makeCancelable)(new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))),this.geoPromise.promise.then((function(t){var n=t.coords;e.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})})).catch((function(e){return e}))),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),this.props.visible!==e.visible&&this.restyleMap(),this.props.zoom!==e.zoom&&this.map.setZoom(this.props.zoom),this.props.center!==e.center&&this.setState({currentLocation:this.props.center}),t.currentLocation!==this.state.currentLocation&&this.recenterMap(),this.props.bounds!==e.bounds&&this.map.fitBounds(this.props.bounds)}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.google;this.geoPromise&&this.geoPromise.cancel(),Object.keys(this.listeners).forEach((function(n){t.maps.event.removeListener(e.listeners[n])}))}},{key:"loadMap",value:function(){var e=this;if(this.props&&this.props.google){var t=this.props.google.maps,n=this.refs.map,a=m.default.findDOMNode(n),r=this.state.currentLocation,i=new t.LatLng(r.lat,r.lng),o=this.props.google.maps.MapTypeId||{},s=String(this.props.mapType).toUpperCase(),l=Object.assign({},{mapTypeId:o[s],center:i,zoom:this.props.zoom,maxZoom:this.props.maxZoom,minZoom:this.props.minZoom,clickableIcons:!!this.props.clickableIcons,disableDefaultUI:this.props.disableDefaultUI,zoomControl:this.props.zoomControl,mapTypeControl:this.props.mapTypeControl,scaleControl:this.props.scaleControl,streetViewControl:this.props.streetViewControl,panControl:this.props.panControl,rotateControl:this.props.rotateControl,fullscreenControl:this.props.fullscreenControl,scrollwheel:this.props.scrollwheel,draggable:this.props.draggable,keyboardShortcuts:this.props.keyboardShortcuts,disableDoubleClickZoom:this.props.disableDoubleClickZoom,noClear:this.props.noClear,styles:this.props.styles,gestureHandling:this.props.gestureHandling});Object.keys(l).forEach((function(e){null===l[e]&&delete l[e]})),this.map=new t.Map(a,l),b.forEach((function(t){e.listeners[t]=e.map.addListener(t,e.handleEvent(t))})),t.event.trigger(this.map,"ready"),this.forceUpdate()}}},{key:"handleEvent",value:function(e){var t=this,n=void 0,a="on"+(0,u.camelize)(e);return function(e){n&&(clearTimeout(n),n=null),n=setTimeout((function(){t.props[a]&&t.props[a](t.props,t.map,e)}),0)}}},{key:"recenterMap",value:function(){var e=this.map,t=this.props.google;if(t){var n=t.maps;if(e){var a=this.state.currentLocation;a instanceof t.maps.LatLng||(a=new t.maps.LatLng(a.lat,a.lng)),e.setCenter(a),n.event.trigger(e,"recenter")}}}},{key:"restyleMap",value:function(){this.map&&this.props.google.maps.event.trigger(this.map,"resize")}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return p.default.Children.map(t,(function(t){if(t)return p.default.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},v,this.props.style,{display:this.props.visible?"inherit":"none"}),t=Object.assign({},g,this.props.containerStyle);return p.default.createElement("div",{style:t,className:this.props.className},p.default.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(p.default.Component);E.propTypes={google:h.default.object,zoom:h.default.number,centerAroundCurrentLocation:h.default.bool,center:h.default.object,initialCenter:h.default.object,className:h.default.string,style:h.default.object,containerStyle:h.default.object,visible:h.default.bool,mapType:h.default.string,maxZoom:h.default.number,minZoom:h.default.number,clickableIcons:h.default.bool,disableDefaultUI:h.default.bool,zoomControl:h.default.bool,mapTypeControl:h.default.bool,scaleControl:h.default.bool,streetViewControl:h.default.bool,panControl:h.default.bool,rotateControl:h.default.bool,fullscreenControl:h.default.bool,scrollwheel:h.default.bool,draggable:h.default.bool,keyboardShortcuts:h.default.bool,disableDoubleClickZoom:h.default.bool,noClear:h.default.bool,styles:h.default.array,gestureHandling:h.default.string,bounds:h.default.object},b.forEach((function(e){return E.propTypes[(0,u.camelize)(e)]=h.default.func})),E.defaultProps={zoom:14,initialCenter:{lat:37.774929,lng:-122.419416},center:{},centerAroundCurrentLocation:!1,style:{},containerStyle:{},visible:!0},e.default=E})?a.apply(t,r):a)||(e.exports=i)},2096:function(e,t,n){var a,r,i;r=[t,n(0),n(79),n(2097),n(2099)],void 0===(i="function"==typeof(a=function(e,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapper=void 0;var i=s(t),o=(s(n),s(r));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(e){return JSON.stringify(e)},u=function(e){var t=(e=e||{}).apiKey,n=e.libraries||["places"],r=e.version||"3",i=e.language||"en",s=e.url,l=e.client;return(0,a.ScriptCache)({google:(0,o.default)({apiKey:t,language:i,libraries:n,version:r,url:s,client:l})})},d=function(e){return i.default.createElement("div",null,"Loading...")},p=e.wrapper=function(e){return function(t){return function(n){function a(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,n)),i="function"==typeof e?e(t):e;return r.initialize(i),r.state={loaded:!1,map:null,google:null,options:i},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),l(a,[{key:"componentWillReceiveProps",value:function(t){if("function"==typeof e){var n,a,r=this.state.options,i="function"==typeof e?e(t):e;(n=i)!==(a=r)&&c(n)!==c(a)&&(this.initialize(i),this.setState({options:i,loaded:!1,google:null}))}}},{key:"initialize",value:function(e){this.unregisterLoadHandler&&(this.unregisterLoadHandler(),this.unregisterLoadHandler=null);var t=e.createCache||u;this.scriptCache=t(e),this.unregisterLoadHandler=this.scriptCache.google.onLoad(this.onLoad.bind(this)),this.LoadingContainer=e.LoadingContainer||d}},{key:"onLoad",value:function(e,t){this._gapi=window.google,this.setState({loaded:!0,google:this._gapi})}},{key:"render",value:function(){var e=this.LoadingContainer;if(!this.state.loaded)return i.default.createElement(e,null);var n=Object.assign({},this.props,{loaded:this.state.loaded,google:window.google});return i.default.createElement("div",null,i.default.createElement(t,n),i.default.createElement("div",{ref:"map"}))}}]),a}(i.default.Component)}};e.default=p})?a.apply(t,r):a)||(e.exports=i)},2097:function(e,t,n){var a,r,i;r=[t,n(2098)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,a=void 0!==t&&t._scriptMap||new Map,r=e.ScriptCache=function(e){return e._scriptMap=e._scriptMap||a,function(r){var i={_onLoad:function(e){return function(t){var n=!0,r=a.get(e);return r&&r.promise.then((function(){return n&&(r.error?t(r.error):t(null,r)),r})),function(){n=!1}}},_scriptTag:function(r,i){if(!a.has(r)){if("undefined"==typeof document)return null;var o=document.createElement("script"),s={loaded:!1,error:!1,promise:new Promise((function(s,l){var c=document.getElementsByTagName("body")[0];o.type="text/javascript",o.async=!1;var u="loaderCB"+n+++Date.now(),d=function(e){return function(t){var n=a.get(r);"loaded"===e?(n.resolved=!0,s(i)):"error"===e&&(n.errored=!0,l(t)),n.loaded=!0,p()}},p=function(){e[u]&&"function"==typeof e[u]&&(e[u]=null,delete e[u])};return o.onload=d("loaded"),o.onerror=d("error"),o.onreadystatechange=function(){d(o.readyState)},i.match(/callback=CALLBACK_NAME/)?(i=i.replace(/(callback=)[^\&]+/,"$1"+u),t[u]=o.onload):o.addEventListener("load",o.onload),o.addEventListener("error",o.onerror),o.src=i,c.appendChild(o),o})),tag:o};a.set(r,s)}return a.get(r)}};return Object.keys(r).forEach((function(e){var n=r[e],a=t._scriptMap.has(e)?t._scriptMap.get(e).tag:i._scriptTag(e,n);i[e]={tag:a,onLoad:i._onLoad(e)}})),i}}(t);e.default=r})?a.apply(t,r):a)||(e.exports=i)},2098:function(e,t,n){(function(n){var a,r,i,o;o=function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports="object"===("undefined"==typeof self?"undefined":t(self))&&self.self===self&&self||"object"===(void 0===n?"undefined":t(n))&&n.global===n&&n||void 0},r=[e],void 0===(i="function"==typeof(a=o)?a.apply(t,r):a)||(e.exports=i)}).call(this,n(138))},2099:function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.GoogleApi=function(e){if(!(e=e||{}).hasOwnProperty("apiKey"))throw new Error("You must pass an apiKey to use GoogleApi");var t=e.apiKey,n=e.libraries||["places"],a=e.client,r=e.url||"https://maps.googleapis.com/maps/api/js",i=e.version||"3.31",o=("undefined"!=typeof window&&window.google,e.language),s=e.region||null;return function(){var e=r,l={key:t,callback:"CALLBACK_NAME",libraries:n.join(","),client:a,v:i,channel:null,language:o,region:s};return e+"?"+Object.keys(l).filter((function(e){return!!l[e]})).map((function(e){return e+"="+l[e]})).join("&")}()};e.default=t})?a.apply(t,r):a)||(e.exports=i)},2105:function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeCancelable=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)})),e.catch((function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}})?a.apply(t,r):a)||(e.exports=i)},2113:function(e,t,n){
/*!
 * @license
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.7.5
 *
 * Copyright 2019 Chart.js Contributors
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 */
e.exports=function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n=e.helpers,a=e.Zoom=e.Zoom||{},r=a.zoomFunctions=a.zoomFunctions||{},i=a.panFunctions=a.panFunctions||{};function o(e,t){var a={};void 0!==e.options.pan&&(a.pan=e.options.pan),void 0!==e.options.pan&&(a.zoom=e.options.zoom);var r=e.$zoom;t=r._options=n.merge({},[t,a]);var i=r._node,o=t.zoom&&t.zoom.enabled,s=t.zoom.drag;o&&!s?i.addEventListener("wheel",r._wheelHandler):i.removeEventListener("wheel",r._wheelHandler),o&&s?(i.addEventListener("mousedown",r._mouseDownHandler),i.ownerDocument.addEventListener("mouseup",r._mouseUpHandler)):(i.removeEventListener("mousedown",r._mouseDownHandler),i.removeEventListener("mousemove",r._mouseMoveHandler),i.ownerDocument.removeEventListener("mouseup",r._mouseUpHandler))}function s(e){var t=e.$zoom._originalOptions;n.each(e.scales,(function(e){t[e.id]||(t[e.id]=n.clone(e.options))})),n.each(t,(function(n,a){e.scales[a]||delete t[a]}))}function l(e,t){return void 0===e||"string"==typeof e&&-1!==e.indexOf(t)}function c(e,t){if(e.scaleAxes&&e.rangeMax&&!n.isNullOrUndef(e.rangeMax[e.scaleAxes])){var a=e.rangeMax[e.scaleAxes];t>a&&(t=a)}return t}function u(e,t){if(e.scaleAxes&&e.rangeMin&&!n.isNullOrUndef(e.rangeMin[e.scaleAxes])){var a=e.rangeMin[e.scaleAxes];t<a&&(t=a)}return t}function d(e,t,n,a){var r=e.max-e.min,i=r*(t-1),o=e.isHorizontal()?n.x:n.y,s=(e.getValueForPixel(o)-e.min)/r,l=i*s,d=i*(1-s);e.options.ticks.min=u(a,e.min+l),e.options.ticks.max=c(a,e.max-d)}function p(e,t,n,a){var i=r[e.type];i&&i(e,t,n,a)}function h(e,t,a,r,i,o){var c=e.chartArea;r||(r={x:(c.left+c.right)/2,y:(c.top+c.bottom)/2});var u=e.$zoom._options.zoom;if(u.enabled){s(e);var d,h="function"==typeof u.mode?u.mode({chart:e}):u.mode;d="xy"===h&&void 0!==i?i:"xy",n.each(e.scales,(function(e){e.isHorizontal()&&l(h,"x")&&l(d,"x")?(u.scaleAxes="x",p(e,t,r,u)):!e.isHorizontal()&&l(h,"y")&&l(d,"y")&&(u.scaleAxes="y",p(e,a,r,u))})),o?e.update({duration:o,easing:"easeOutQuad"}):e.update(0),"function"==typeof u.onZoom&&u.onZoom({chart:e})}}function m(e,t,a){var r,i=e.options.ticks,o=e.min,s=e.max,l=e.getValueForPixel(e.getPixelForValue(o)-t),c=e.getValueForPixel(e.getPixelForValue(s)-t),u=l=l.valueOf?l.valueOf():l,d=c=c.valueOf?c.valueOf():c;a.scaleAxes&&a.rangeMin&&!n.isNullOrUndef(a.rangeMin[a.scaleAxes])&&(u=a.rangeMin[a.scaleAxes]),a.scaleAxes&&a.rangeMax&&!n.isNullOrUndef(a.rangeMax[a.scaleAxes])&&(d=a.rangeMax[a.scaleAxes]),l>=u&&c<=d?(i.min=l,i.max=c):l<u?(r=o-u,i.min=u,i.max=s-r):c>d&&(r=d-s,i.max=d,i.min=o+r)}function f(e,t,n){var a=i[e.type];a&&a(e,t,n)}e.Zoom.defaults=e.defaults.global.plugins.zoom={pan:{enabled:!1,mode:"xy",speed:20,threshold:10},zoom:{enabled:!1,mode:"xy",sensitivity:3,speed:.1}},a.zoomFunctions.category=function(e,t,n,r){var i=e.chart.data.labels,o=e.minIndex,s=i.length-1,l=e.maxIndex,d=r.sensitivity,p=e.isHorizontal()?e.left+e.width/2:e.top+e.height/2,h=e.isHorizontal()?n.x:n.y;a.zoomCumulativeDelta=t>1?a.zoomCumulativeDelta+1:a.zoomCumulativeDelta-1,Math.abs(a.zoomCumulativeDelta)>d&&(a.zoomCumulativeDelta<0?(h>=p?o<=0?l=Math.min(s,l+1):o=Math.max(0,o-1):h<p&&(l>=s?o=Math.max(0,o-1):l=Math.min(s,l+1)),a.zoomCumulativeDelta=0):a.zoomCumulativeDelta>0&&(h>=p?o=o<l?o=Math.min(l,o+1):o:h<p&&(l=l>o?l=Math.max(o,l-1):l),a.zoomCumulativeDelta=0),e.options.ticks.min=u(r,i[o]),e.options.ticks.max=c(r,i[l]))},a.zoomFunctions.time=function(e,t,n,a){d(e,t,n,a);var r=e.options;r.time&&(r.time.min&&(r.time.min=r.ticks.min),r.time.max&&(r.time.max=r.ticks.max))},a.zoomFunctions.linear=d,a.zoomFunctions.logarithmic=d,a.panFunctions.category=function(e,t,n){var r,i=e.chart.data.labels,o=i.length-1,s=Math.max(e.ticks.length,1),l=n.speed,d=e.minIndex,p=Math.round(e.width/(s*l));a.panCumulativeDelta+=t,d=a.panCumulativeDelta>p?Math.max(0,d-1):a.panCumulativeDelta<-p?Math.min(o-s+1,d+1):d,a.panCumulativeDelta=d!==e.minIndex?0:a.panCumulativeDelta,r=Math.min(o,d+s-1),e.options.ticks.min=u(n,i[d]),e.options.ticks.max=c(n,i[r])},a.panFunctions.time=function(e,t,n){m(e,t,n);var a=e.options;a.time&&(a.time.min&&(a.time.min=a.ticks.min),a.time.max&&(a.time.max=a.ticks.max))},a.panFunctions.linear=m,a.panFunctions.logarithmic=m,a.panCumulativeDelta=0,a.zoomCumulativeDelta=0;var y={id:"zoom",afterInit:function(e){e.resetZoom=function(){s(e);var t=e.$zoom._originalOptions;n.each(e.scales,(function(e){var n=e.options.time,a=e.options.ticks;t[e.id]?(n&&(n.min=t[e.id].time.min,n.max=t[e.id].time.max),a&&(a.min=t[e.id].ticks.min,a.max=t[e.id].ticks.max)):(n&&(delete n.min,delete n.max),a&&(delete a.min,delete a.max))})),e.update()}},beforeUpdate:function(e,t){o(e,t)},beforeInit:function(e,r){e.$zoom={_originalOptions:{}};var i=e.$zoom._node=e.ctx.canvas;o(e,r);var c=e.$zoom._options,u=c.pan&&c.pan.threshold;e.$zoom._mouseDownHandler=function(t){i.addEventListener("mousemove",e.$zoom._mouseMoveHandler),e.$zoom._dragZoomStart=t},e.$zoom._mouseMoveHandler=function(t){e.$zoom._dragZoomStart&&(e.$zoom._dragZoomEnd=t,e.update(0))},e.$zoom._mouseUpHandler=function(t){if(e.$zoom._dragZoomStart){i.removeEventListener("mousemove",e.$zoom._mouseMoveHandler);var n=e.$zoom._dragZoomStart,a=n.target.getBoundingClientRect().left,r=Math.min(n.clientX,t.clientX)-a,o=Math.max(n.clientX,t.clientX)-a,s=n.target.getBoundingClientRect().top,c=Math.min(n.clientY,t.clientY)-s,u=o-r,d=Math.max(n.clientY,t.clientY)-s-c;if(e.$zoom._dragZoomStart=null,e.$zoom._dragZoomEnd=null,!(u<=0&&d<=0)){var p=e.chartArea,m=e.$zoom._options.zoom,f=p.right-p.left,y=l(m.mode,"x")&&u?1+(f-u)/f:1,g=p.bottom-p.top,v=l(m.mode,"y");h(e,y,v&&d?1+(g-d)/g:1,{x:(r-p.left)/(1-u/f)+p.left,y:(c-p.top)/(1-d/g)+p.top},void 0,m.drag.animationDuration),"function"==typeof m.onZoomComplete&&m.onZoomComplete({chart:e})}}};var d=null;if(e.$zoom._wheelHandler=function(t){var n=t.target.getBoundingClientRect(),a={x:t.clientX-n.left,y:t.clientY-n.top},r=e.$zoom._options.zoom,i=r.speed;t.deltaY>=0&&(i=-i),h(e,1+i,1+i,a),clearTimeout(d),d=setTimeout((function(){"function"==typeof r.onZoomComplete&&r.onZoomComplete({chart:e})}),250),t.cancelable&&t.preventDefault()},t){var p,m=new t.Manager(i);m.add(new t.Pinch),m.add(new t.Pan({threshold:u}));var y=function(t){var n=1/p*t.scale,a=t.target.getBoundingClientRect(),r={x:t.center.x-a.left,y:t.center.y-a.top},i=Math.abs(t.pointers[0].clientX-t.pointers[1].clientX),o=Math.abs(t.pointers[0].clientY-t.pointers[1].clientY),s=i/o;h(e,n,n,r,s>.3&&s<1.7?"xy":i>o?"x":"y");var l=e.$zoom._options.zoom;"function"==typeof l.onZoomComplete&&l.onZoomComplete({chart:e}),p=t.scale};m.on("pinchstart",(function(){p=1})),m.on("pinch",y),m.on("pinchend",(function(e){y(e),p=null,a.zoomCumulativeDelta=0}));var g=null,v=null,b=!1,E=function(t){if(null!==g&&null!==v){b=!0;var a=t.deltaX-g,r=t.deltaY-v;g=t.deltaX,v=t.deltaY,function(e,t,a){s(e);var r=e.$zoom._options.pan;if(r.enabled){var i="function"==typeof r.mode?r.mode({chart:e}):r.mode;n.each(e.scales,(function(e){e.isHorizontal()&&l(i,"x")&&0!==t?(r.scaleAxes="x",f(e,t,r)):!e.isHorizontal()&&l(i,"y")&&0!==a&&(r.scaleAxes="y",f(e,a,r))})),e.update(0),"function"==typeof r.onPan&&r.onPan({chart:e})}}(e,a,r)}};m.on("panstart",(function(e){g=0,v=0,E(e)})),m.on("panmove",E),m.on("panend",(function(){g=null,v=null,a.panCumulativeDelta=0,setTimeout((function(){b=!1}),500);var t=e.$zoom._options.pan;"function"==typeof t.onPanComplete&&t.onPanComplete({chart:e})})),e.$zoom._ghostClickHandler=function(e){b&&e.cancelable&&(e.stopImmediatePropagation(),e.preventDefault())},i.addEventListener("click",e.$zoom._ghostClickHandler),e._mc=m}},beforeDatasetsDraw:function(e){var t=e.ctx;if(e.$zoom._dragZoomEnd){var n=function(e){for(var t=e.scales,n=Object.keys(t),a=0;a<n.length;a++){var r=t[n[a]];if(r.isHorizontal())return r}}(e),a=function(e){for(var t=e.scales,n=Object.keys(t),a=0;a<n.length;a++){var r=t[n[a]];if(!r.isHorizontal())return r}}(e),r=e.$zoom._dragZoomStart,i=e.$zoom._dragZoomEnd,o=n.left,s=n.right,c=a.top,u=a.bottom;if(l(e.$zoom._options.zoom.mode,"x")){var d=r.target.getBoundingClientRect().left;o=Math.min(r.clientX,i.clientX)-d,s=Math.max(r.clientX,i.clientX)-d}if(l(e.$zoom._options.zoom.mode,"y")){var p=r.target.getBoundingClientRect().top;c=Math.min(r.clientY,i.clientY)-p,u=Math.max(r.clientY,i.clientY)-p}var h=s-o,m=u-c,f=e.$zoom._options.zoom.drag;t.save(),t.beginPath(),t.fillStyle=f.backgroundColor||"rgba(225,225,225,0.3)",t.fillRect(o,c,h,m),f.borderWidth>0&&(t.lineWidth=f.borderWidth,t.strokeStyle=f.borderColor||"rgba(225,225,225)",t.strokeRect(o,c,h,m)),t.restore()}},destroy:function(e){if(e.$zoom){var t=e.$zoom,n=t._node;n.removeEventListener("mousedown",t._mouseDownHandler),n.removeEventListener("mousemove",t._mouseMoveHandler),n.ownerDocument.removeEventListener("mouseup",t._mouseUpHandler),n.removeEventListener("wheel",t._wheelHandler),n.removeEventListener("click",t._ghostClickHandler),delete e.$zoom;var a=e._mc;a&&(a.remove("pinchstart"),a.remove("pinch"),a.remove("pinchend"),a.remove("panstart"),a.remove("pan"),a.remove("panend"),a.destroy())}}};return e.plugins.register(y),y}(n(1804),n(2114))},2114:function(e,t,n){var a;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,i,o,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=i.createElement("div"),d=Math.round,p=Math.abs,h=Date.now;function m(e,t,n){return setTimeout(O(e,n),t)}function f(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var a;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(a=0;a<e.length;)t.call(n,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function g(e,t,n){var a="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,a,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var r in a)a.hasOwnProperty(r)&&(t[r]=a[r])}return t}:Object.assign;var v=g((function(e,t,n){for(var a=Object.keys(t),r=0;r<a.length;)(!n||n&&void 0===e[a[r]])&&(e[a[r]]=t[a[r]]),r++;return e}),"extend","Use `assign`."),b=g((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function E(e,t,n){var a,r=t.prototype;(a=e.prototype=Object.create(r)).constructor=e,a._super=r,n&&l(a,n)}function O(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function w(e,t){return void 0===e?t:e}function _(e,t,n){y(C(t),(function(t){e.addEventListener(t,n,!1)}))}function P(e,t,n){y(C(t),(function(t){e.removeEventListener(t,n,!1)}))}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function x(e,t){return e.indexOf(t)>-1}function C(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var a=0;a<e.length;){if(n&&e[a][n]==t||!n&&e[a]===t)return a;a++}return-1}function M(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var a=[],r=[],i=0;i<e.length;){var o=t?e[i][t]:e[i];D(r,o)<0&&a.push(e[i]),r[i]=o,i++}return n&&(a=t?a.sort((function(e,n){return e[t]>n[t]})):a.sort()),a}function A(e,t){for(var n,a,r=t[0].toUpperCase()+t.slice(1),i=0;i<c.length;){if((a=(n=c[i])?n+r:t)in e)return a;i++}}var N=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var I="ontouchstart"in r,F=void 0!==A(r,"PointerEvent"),R=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],B=["clientX","clientY"];function V(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function q(e,t,n){var a=n.pointers.length,r=n.changedPointers.length,i=1&t&&a-r==0,o=12&t&&a-r==0;n.isFirst=!!i,n.isFinal=!!o,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,a=t.pointers,r=a.length;n.firstInput||(n.firstInput=z(t));r>1&&!n.firstMultiple?n.firstMultiple=z(t):1===r&&(n.firstMultiple=!1);var i=n.firstInput,o=n.firstMultiple,s=o?o.center:i.center,l=t.center=U(a);t.timeStamp=h(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=W(s,l),t.distance=Y(s,l),function(e,t){var n=t.center,a=e.offsetDelta||{},r=e.prevDelta||{},i=e.prevInput||{};1!==t.eventType&&4!==i.eventType||(r=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},a=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-a.x),t.deltaY=r.y+(n.y-a.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var c=H(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=o?(u=o.pointers,d=a,Y(d[0],d[1],B)/Y(u[0],u[1],B)):1,t.rotation=o?function(e,t){return W(t[1],t[0],B)+W(e[1],e[0],B)}(o.pointers,a):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,a,r,i,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(8!=t.eventType&&(s>25||void 0===o.velocity)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,u=H(s,l,c);a=u.x,r=u.y,n=p(u.x)>p(u.y)?u.x:u.y,i=G(l,c),e.lastInterval=t}else n=o.velocity,a=o.velocityX,r=o.velocityY,i=o.direction;t.velocity=n,t.velocityX=a,t.velocityY=r,t.direction=i}(n,t);var u,d;var m=e.element;S(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:U(t),deltaX:e.deltaX,deltaY:e.deltaY}}function U(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,a=0,r=0;r<t;)n+=e[r].clientX,a+=e[r].clientY,r++;return{x:d(n/t),y:d(a/t)}}function H(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=L);var a=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(a*a+r*r)}function W(e,t,n){n||(n=L);var a=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,a)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(j(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,V.apply(this,arguments)}E(K,V,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=Q,this.evWin=J,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),E(ee,V,{handler:function(e){var t=this.store,n=!1,a=e.type.toLowerCase().replace("ms",""),r=$[a],i=Z[e.pointerType]||e.pointerType,o="touch"==i,s=D(t,e.pointerId,"pointerId");1&r&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}function ae(e,t){var n=M(e.touches),a=M(e.changedTouches);return 12&t&&(n=T(n.concat(a),"identifier",!0)),[n,a]}E(ne,V,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ae.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},V.apply(this,arguments)}function oe(e,t){var n=M(e.touches),a=this.targetIds;if(3&t&&1===n.length)return a[n[0].identifier]=!0,[n,n];var r,i,o=M(e.changedTouches),s=[],l=this.target;if(i=n.filter((function(e){return S(e.target,l)})),1===t)for(r=0;r<i.length;)a[i[r].identifier]=!0,r++;for(r=0;r<o.length;)a[o[r].identifier]&&s.push(o[r]),12&t&&delete a[o[r].identifier],r++;return s.length?[T(i.concat(s),"identifier",!0),s]:void 0}E(ie,V,{handler:function(e){var t=re[e.type],n=oe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){V.apply(this,arguments);var e=O(this.handler,this);this.touch=new ie(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var a=this.lastTouches;setTimeout((function(){var e=a.indexOf(n);e>-1&&a.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var r=this.lastTouches[a],i=Math.abs(t-r.x),o=Math.abs(n-r.y);if(i<=25&&o<=25)return!0}return!1}E(se,V,{handler:function(e,t,n){var a="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(a)le.call(this,t,n);else if(r&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=A(u.style,"touchAction"),pe=void 0!==de,he=function(){if(!pe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function me(e,t){this.manager=e,this.set(t)}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),pe&&this.manager.element.style&&he[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(x(e,"none"))return"none";var t=x(e,"pan-x"),n=x(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(x(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var a=this.actions,r=x(a,"none")&&!he.none,i=x(a,"pan-y")&&!he["pan-y"],o=x(a,"pan-x")&&!he["pan-x"];if(r){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}if(!o||!i)return r||i&&6&n||o&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function fe(e){this.options=l({},this.defaults,e||{}),this.id=N++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ye(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ge(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ve(e,t){var n=t.manager;return n?n.get(e):e}function be(){fe.apply(this,arguments)}function Ee(){be.apply(this,arguments),this.pX=null,this.pY=null}function Oe(){be.apply(this,arguments)}function ke(){fe.apply(this,arguments),this._timer=null,this._input=null}function we(){be.apply(this,arguments)}function _e(){be.apply(this,arguments)}function Pe(){fe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Se(e,t){return(t=t||{}).recognizers=w(t.recognizers,Se.defaults.preset),new xe(e,t)}fe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,"dropRecognizeWith",this)?this:(e=ve(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(f(e,"requireFailure",this))return this;var t=this.requireFail;return-1===D(t,e=ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,"dropRequireFailure",this))return this;e=ve(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function a(n){t.manager.emit(n,e)}n<8&&a(t.options.event+ye(n)),a(t.options.event),e.additionalEvent&&a(e.additionalEvent),n>=8&&a(t.options.event+ye(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},E(be,fe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,a=6&t,r=this.attrTest(e);return a&&(8&n||!r)?16|t:a||r?4&n?8|t:2&t?4|t:2:32}}),E(Ee,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,a=e.distance,r=e.direction,i=e.deltaX,o=e.deltaY;return r&t.direction||(6&t.direction?(r=0===i?1:i<0?2:4,n=i!=this.pX,a=Math.abs(e.deltaX)):(r=0===o?1:o<0?8:16,n=o!=this.pY,a=Math.abs(e.deltaY))),e.direction=r,n&&a>t.threshold&&r&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),E(Oe,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),E(ke,fe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,a=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!a||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),E(we,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),E(_e,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ee.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),E(Pe,fe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,a=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(a&&r&&n){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Se.VERSION="2.0.7",Se.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[we,{enable:!1}],[Oe,{enable:!1},["rotate"]],[_e,{direction:6}],[Ee,{direction:6},["swipe"]],[Pe],[Pe,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function xe(e,t){var n;this.options=l({},Se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?ee:R?ie:I?se:K))(n,q),this.touchAction=new me(this,this.options.touchAction),Ce(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ce(e,t){var n,a=e.element;a.style&&(y(e.options.cssProps,(function(r,i){n=A(a.style,i),t?(e.oldCssProps[n]=a.style[n],a.style[n]=r):a.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}xe.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var a=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var i=0;i<a.length;)n=a[i],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),i++}},get:function(e){if(e instanceof fe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=D(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return y(C(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return y(C(e),(function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<n.length;)n[a](t),a++}},destroy:function(){this.element&&Ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xe,Input:V,TouchAction:me,TouchInput:ie,MouseInput:K,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:fe,AttrRecognizer:be,Tap:Pe,Pan:Ee,Swipe:_e,Pinch:Oe,Rotate:we,Press:ke,on:_,off:P,each:y,merge:b,extend:v,assign:l,inherit:E,bindFn:O,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Se,void 0===(a=function(){return Se}.call(t,n,t,e))||(e.exports=a)}(window,document)},2141:function(e,t,n){"use strict";n.r(t);n(13),n(14),n(16),n(18),n(19),n(15),n(1523),n(1524),n(17);var a=n(6),r=n.n(a),i=n(1207),o=n.n(i),s=n(93),l=n.n(s),c=n(94),u=n.n(c),d=n(95),p=n.n(d),h=n(96),m=n.n(h),f=n(77),y=n.n(f),g=n(97),v=n.n(g),b=n(0),E=n.n(b),O=n(98),k=n.n(O),w=n(78),_=n(59),P=n(100),S=n(1184),x=n.n(S),C=n(1530),D=n(1187),M=n.n(D),T=n(1197),A=n.n(T),N=n(9),j=n.n(N),I=n(1529),F=n(1526),R=n(1584),L=n(1525),B=n(1543),V=n(1922),q=n(2123),z=n(1927),U=n(1928),H=n(1929),G=n(1930),Y=n(1932),W=n(1933),X=n(99),K=n(346),$=n(1547),Z=n(1542),Q=n(1540),J=n(347),ee=n(189),te=n(1536),ne=n(1576),ae=n(348),re=n(1567);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){(0,this.props.productFetch)(),K.a.dashboard.settings&&this.getVisibleFeatures(),this.props.loadFeatureToggleRules()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dashboardSettings,a=t.featureToggleRules,r=t.setDashboardSettings,i=t.setProductsToken,o=t.products,s=t.otpClear,l=t.otp,c=t.history,u=t.playEverydayCard,d=t.playEverydayCards,p=t.setPlayEverydayCards,h=l.status,m=l.verifyUrl,f=l.response,y=l.purpose;if(m==="/otp/".concat(l.id,"/grant")&&h&&f&&"SHOW_HIDE_PRODUCTS"===y&&(s(),i(f.token),c.push("/accounts/showhide")),n.length>0&&a.length>0&&(0===e.dashboardSettings.length||0===e.featureToggleRules.length)){var g=[];A()(n,(function(e){x()(a,{name:e.type})&&g.push(e)})),r(g)}!u||d&&0!==d.length||p(M()(o,{play_everyday:!0}))}},{key:"getVisibleFeatures",value:function(){var e=this;X.a.get("/dashboard/settings").then((function(t){e.props.setDashboardSettings(t.data)}))}},{key:"handleProductSelect",value:function(e){var t=this.props,n=t.loadSelectedProduct,a=t.productLoad,r=t.accountActions,i=t.clearSelectedTransactionItem,o=t.setCreateProfileSidebarOpen,s=t.setOpenGoalHistorySidebar,l=t.setOpenRedemptionHistorySidebar;o(!1),i(),n({product:e}),s(!1),r(!1),l(!1),!1===e.balance&&a(e)}},{key:"handleAccountsVisibility",value:function(){var e=this.props,t=e.setOtp,n=e.loadingOpen,a=e.loadingDismiss;n(),X.a.get("user/products",{params:{grant_type:"pl_visible"}}).then((function(e){a(),202===e.status&&t(oe({},e.data,{verifyUrl:"/otp/".concat(e.data.id,"/grant"),purpose:"SHOW_HIDE_PRODUCTS"}))})).catch((function(){a()}))}},{key:"handleArrangeModeEnter",value:function(){this.props.history.push("/accounts/arrange")}},{key:"hidePlayEverydayModal",value:function(){(0,this.props.showEligibilityModalFunc)(!1)}},{key:"renderActionsButtons",value:function(){return E.a.createElement(F.a,{size:"sm",href:"/accounts/add"},"Add")}},{key:"renderMoreActions",value:function(){var e=this.props.products,t=[{label:"Show/Hide Accounts",onClick:this.handleAccountsVisibility}];return e&&e.filter((function(e){return e.visible})).length>1&&t.unshift({label:"Arrange Accounts",onClick:this.handleArrangeModeEnter}),t}},{key:"render",value:function(){var e=this.props,t=e.showGoals,n=e.showEligibilityModal,a=e.eligibilityModalMessage,r=e.playEverydayRule,i=e.playEverydayCard,o=e.phygitalBankingVisibility,s=e.phygitalBankingRule,l=e.showPendingProduct;return E.a.createElement(I.a,null,E.a.createElement("div",null,E.a.createElement("div",{className:"row dashboard-row d-md-flex d-block"},E.a.createElement("div",{className:j()("col-12","col-md-6")},o&&E.a.createElement(G.a,null),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Accounts",actions:this.renderActionsButtons(),moreActions:this.renderMoreActions()},E.a.createElement("div",null,E.a.createElement("div",{className:"details-form"},l&&E.a.createElement(W.a,null),E.a.createElement(R.a,{messages:{loading:"Loading accounts...",retry:"Accounts not loaded."},onItemClick:this.handleProductSelect})))))),E.a.createElement("div",{className:"col-12 col-md-6"},i&&r&&E.a.createElement(q.a,null),t&&E.a.createElement(V.a,null),s&&E.a.createElement(H.a,null),E.a.createElement(z.a,null),E.a.createElement(U.a,null)),E.a.createElement(B.a,{open:n,backdrop:"static",title:"PlayEveryday is not available",size:"small",alternate:!0,onDismiss:this.hidePlayEverydayModal,dismissLabel:"Ok"},E.a.createElement("div",{className:"body error-modal"},E.a.createElement("div",{className:"content"},E.a.createElement("p",null,a)))),E.a.createElement(Y.a,null))))}}]),t}(E.a.Component),le=Object(P.g)(Object(w.c)((function(e){var t,n=e.product,a=e.page,r=e.otp,i=e.settings,o=e.playEveryday,s=n.products,l=n.selectedProduct,c=i.dashboard,u=a.featureToggleRules,d=x()(u,{name:"GOALS"}),p=x()(u,{name:"MOBILE_BRANCH"}),h=x()(u,{name:"PLAYEVERYDAY"}),m=x()(s,{play_everyday:!0}),f=!!p&&Boolean(p.status),y=x()(u,{name:"DAO_EXISTING_DEBIT"});return t=y&&1===y.status,oe({},a,{},o,{otp:r,products:s,selectedProduct:l,showGoals:d&&1===d.status,dashboardSettings:c,playEverydayCard:m,playEverydayRule:h,phygitalBankingRule:p,phygitalBankingVisibility:f,showPendingProduct:t})}),(function(e){return oe({},Object(_.b)({loadSelectedProduct:J.a,accountActions:ne.a,setOtp:te.b,otpClear:te.a,loadingOpen:ee.i,loadingDismiss:ee.h,productFetch:J.b,clearSelectedTransactionItem:Q.clearSelectedTransactionItem,setDashboardSettings:ae.d,showEligibilityModalFunc:$.X,setCreateProfileSidebarOpen:$.C,loadFeatureToggleRules:ee.g,productLoad:J.c,setError:ee.y,setPlayEverydayCards:$.G,setProductsToken:J.i,setOpenGoalHistorySidebar:Z.m,setOpenRedemptionHistorySidebar:re.s},e))}))(se)),ce=n(2120),ue=n(2140),de=n(1935),pe=n(1936),he=n(2128),me=n(2131),fe=n(1937),ye=n(2121),ge=n(1938),ve=n(1942),be=n(1945),Ee=n(1947),Oe=n(1948),ke=n(1949),we=n(1950),_e=n(1951),Pe=n(2135),Se=n(1629),xe=n(1699),Ce=n(1587);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Me=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"onSave",value:function(e){this.props.currentRecipient.id?this.editRecipient(e):this.addRecipient(e)}},{key:"addRecipient",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.recipientDismiss,o=n.setIsExistingRecipient;a(),X.a.post("recipients",e).then((function(e){r(),i(),o(!0),t.loadRecipients()})).catch((function(e){r()}))}},{key:"editRecipient",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.recipientDismiss;a(),X.a.put("recipients/".concat(e.id),e).then((function(e){r(),i(),t.loadRecipients()})).catch((function(e){r()}))}},{key:"loadRecipients",value:function(){var e=this.props.setRecipientList;X.a.get("recipients").then((function(t){e(t.data)})).catch((function(t){e([],"failed")}))}},{key:"render",value:function(){var e=this.props,t=e.openRecipientsForm,n=e.recipientDismiss,a=e.recipientAction,r=e.currentRecipient,i=e.fixedDetails;return E.a.createElement(Se.a,{header:"edit"===a?"Edit Recipient":"Add Recipient",open:t,direction:"right",onDismiss:n},t&&E.a.createElement(xe.a,{fixedDetails:i,item:r,onSave:this.onSave}))}}]),t}(E.a.Component),Te=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.recipients)}),(function(e){return{dispatch:e,recipientDismiss:function(){e(Object(Ce.recipientDismiss)())},setRecipientList:function(t,n){e(Object(Ce.setRecipientList)(t,n))},loadingOpen:function(){e(Object(ee.i)())},loadingDismiss:function(){e(Object(ee.h)())},setIsExistingRecipient:function(t){e(Object(Ce.setIsExistingRecipient)(t))}}}))(Me),Ae=n(1577),Ne=n(1532);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ie=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={statementOpen:!1,ccPaymentOpen:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoggedIn,n=e.history;t||n.replace("/login")}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.loadSelectedProduct,n=e.accountActions,a=e.setOpenGoalSidebar,r=e.setOpenGoalHistorySidebar,i=e.setOpenTopUpSidebar,o=e.setOpenWithdrawSidebar;t({product:null}),n(!1),Object(Z.b)(null),a(!1),r(!1),i(!1),o(!1)}},{key:"handleProductStatementHide",value:function(){this.setState({statementOpen:!1})}},{key:"handleCreditCardPaymentHide",value:function(){this.setState({ccPaymentOpen:!1})}},{key:"handlePay",value:function(e){var t=this.props,n=t.selectedProduct,a=t.setPayBillsRequest,r=t.history;a({balance:e,amount:e?e.amount:"",currency:e?e.currency:"",biller_id:n.biller_id,isCcPayment:!0,product:n,fixedAmount:!!e},r)}},{key:"handlePayBills",value:function(){this.setState({ccPaymentOpen:!0})}},{key:"handleProductStatementShow",value:function(){this.setState({statementOpen:!0})}},{key:"render",value:function(){var e=this.state,t=e.statementOpen,n=e.ccPaymentOpen,a=this.props,r=a.selectedStatement,i=a.selectedProduct,o=a.isLoggedIn,s=a.playEverydayRule;return E.a.createElement("div",null,E.a.createElement(C.a,{title:"Dashboard"},o&&E.a.createElement(le,null)),E.a.createElement(pe.a,null),E.a.createElement(ce.a,{onPayBills:this.handlePayBills,onPay:this.handlePay,onStatementOpen:this.handleProductStatementShow}),E.a.createElement(ue.a,null),E.a.createElement(de.a,{open:t,onDismiss:this.handleProductStatementHide}),i&&Object(Ne.q)(i)&&E.a.createElement(he.a,{open:n,product:i,statement:r,onAmountSelect:this.handlePay,onDismiss:this.handleCreditCardPaymentHide}),E.a.createElement(ye.a,null),E.a.createElement(ge.a,null),E.a.createElement(ve.a,null),E.a.createElement(be.a,null),E.a.createElement(Ee.a,null),E.a.createElement(me.a,null),E.a.createElement(fe.a,null),E.a.createElement(Pe.a,null),E.a.createElement(we.a,null),E.a.createElement(_e.a,null),E.a.createElement(Te,null),s&&E.a.createElement(Oe.a,null),K.a.millennialProgram&&K.a.millennialProgram.playEveryday&&E.a.createElement(ke.a,null))}}]),t}(b.Component),Fe=Object(w.c)((function(e){var t=e.product,n=e.page,a=e.otp,r=t.products,i=t.selectedStatement,o=t.selectedProduct,s=t.confirmCancelOpen,l=t.cancellationMessage,c=t.cancellationTitle,u=t.otpResponse,d=t.allProductsFetchError,p=t.showHide,h=t.arrange,m=t.selectedTransactionItem;if(!r)return{};var f=n.featureToggleRules,y=x()(f,{name:"PLAYEVERYDAY"});return{products:r,selectedStatement:i,otpResponse:u,allProductsFetchError:d,showHide:p,arrange:h,selectedProduct:o,confirmCancelOpen:s,cancellationMessage:l,cancellationTitle:c,isLoggedIn:!!n.token,selectedTransactionItem:m,otp:a,playEverydayRule:y}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({setPayBillsRequest:Ae.n,loadSelectedProduct:J.a,accountActions:ne.a,setOpenGoalSidebar:Z.n,selectGoal:Z.b,setOpenGoalHistorySidebar:Z.m,setOpenTopUpSidebar:Z.o,setOpenWithdrawSidebar:Z.p},e))}))(Ie),Re=(n(1528),n(343),n(248),n(193),n(1565),n(190),n(645),n(101),n(1558),n(249),n(4)),Le=n.n(Re),Be=n(1582),Ve=n(1650),qe=n(1952),ze=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"What type of account do you want to add?"},E.a.createElement(Ve.a,{type:"/accounts/add"})),K.a.dao.existing&&E.a.createElement(qe.a,null))))}}]),t}(E.a.Component),Ue=n(191),He=n.n(Ue),Ge=n(1185),Ye=n.n(Ge),We=n(23),Xe=n.n(We),Ke=n(1538),$e=n(1533),Ze=n(1548),Qe=n(1531),Je=n(1527),et=n(1213),tt=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"preValidate",value:function(e){return e?e.replace(/[^0-9]/g,""):""}},{key:"submit",value:function(e){var t=this.props.onSubmit;t&&t(e)}},{key:"render",value:function(){var e=this;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your ATM Card"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return E.a.createElement("div",null,E.a.createElement($e.a,null,E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"card_number",form:t,maxLength:16,options:{normalize:e.preValidate,rules:[{required:!0,message:"ATM card number is required"},{len:16,message:"Invalid ATM card number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:et.a}),placeholder:"Enter your 16-digit ATM card number"}))),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next")))}})))))}}]),t}(E.a.Component),nt=n(1214),at=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"preValidate",value:function(e){return e?e.replace(/[^0-9]/g,""):""}},{key:"submit",value:function(e){var t=this.props.onSubmit;t&&t(e)}},{key:"render",value:function(){var e=this;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your Account"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return E.a.createElement("div",null,E.a.createElement($e.a,null,E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"account_number",form:t,maxLength:16,options:{normalize:e.preValidate,rules:[{required:!0,message:"Account number is required"},{min:12,message:"Invalid account number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:nt.a}),placeholder:"Enter your account number"}))),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next")))}})))))}}]),t}(E.a.Component),rt=n(1215),it=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"preValidate",value:function(e){return e?e.replace(/[^0-9]/g,""):""}},{key:"submit",value:function(e){var t=this.props.onSubmit;t&&t(e)}},{key:"render",value:function(){var e=this;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your Credit Card"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return E.a.createElement("div",null,E.a.createElement($e.a,null,E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"card_number",form:t,maxLength:16,options:{normalize:e.preValidate,rules:[{required:!0,message:"Credit card number is required"},{len:16,message:"Invalid credit card number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:rt.a}),placeholder:"Enter your 16-digit credit card number"}))),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next")))}})))))}}]),t}(E.a.Component),ot=n(1216),st=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"preValidate",value:function(e){return e?e.replace(/[^A-Za-z0-9]/g,"").toUpperCase():""}},{key:"submit",value:function(e){var t=this.props.onSubmit;t&&t(e)}},{key:"render",value:function(){var e=this;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your Loan Account"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return E.a.createElement("div",null,E.a.createElement($e.a,null,E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"account_number",form:t,maxLength:16,options:{normalize:e.preValidate,rules:[{required:!0,message:"Loan account number is required"},{len:16,message:"Invalid loan account number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:ot.a}),placeholder:"Enter your loan account number"}))),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next")))}})))))}}]),t}(E.a.Component),lt=n(1217),ct=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.onSubmit;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your Account"},E.a.createElement(Je.b,{onSubmit:e,formContent:function(e,t){return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,null,E.a.createElement(Je.a,{form:e,name:"account_number",maxLength:16,options:{normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},rules:[{required:!0,message:"UITF account number is required"},{min:12,message:"Invalid UITF account number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:lt.a}),placeholder:"Enter your 12-digit UITF account number"})),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},"Next")))}})))))}}]),t}(E.a.Component),ut=Object(w.c)((function(e){return{partialFields:e.page.partialFields}}))(ct),dt=n(1204),pt=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"preValidate",value:function(e){return e?e.replace(/[^A-Za-z0-9]/g,"").toUpperCase():""}},{key:"submit",value:function(e){var t=this.props.onSubmit;t&&t(e)}},{key:"render",value:function(){var e=this;return E.a.createElement(C.a,{title:"Add Account"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Add Your Prepaid Card"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return E.a.createElement("div",null,E.a.createElement($e.a,null,E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"card_number",form:t,maxLength:16,options:{normalize:e.preValidate,rules:[{required:!0,message:"Card number is required"},{len:16,message:"Invalid card number"}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:dt.a}),placeholder:"Enter your 16-digit prepaid card number"}))),E.a.createElement(Ke.a,null,E.a.createElement(Ze.a,null))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next")))}})))))}}]),t}(E.a.Component),ht=n(1570);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt={atm:"/user/products/otp","account-number":"/user/products/otp",loan:"/user/products/otp","credit-card":"/user/products/otp",uitf:"/user/products/uitf/otp",prepaid:"/user/products/prepaid-card/otp"},gt={atm:"otp/resend","account-number":"otp/resend",loan:"otp/resend","credit-card":"otp/resend",uitf:"user/products/uitf/otp/resend",prepaid:"user/products/prepaid-card/otp/resend"},vt={atm:"user/products/atm","account-number":"user/products/account",loan:"user/products/account","credit-card":"user/products/credit-card",uitf:"user/products/uitf",prepaid:"user/products/prepaid-card"},bt={expiry_date:{placeholder:"MM/YYYY",showLabel:!0,maxLength:7,hideLimit:!0},birth_date:{label:"Birth date",placeholder:"MM/DD/YYYY",showLabel:!0,maxLength:10,hideLimit:!0}},Et=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.partialFields,n=e.partialInputDismiss,a=e.status,r=e.response,i=e.purpose,o=e.history,s=e.otpClear,l=e.productFetch,c=e.setSuccessMessage,u=t.values;if("ADD_ACCOUNT"===i&&a){var d=r.products,p=[];d&&(p=d.map((function(e,t){return E.a.createElement(Be.a,{key:t,item:e,unmasked:!Object(Ne.q)(e),maskToggle:Object(Ne.q)(e),display:!0,noBalance:!0})}))),c("Congratulations!",r.message,p),d&&l&&l(),s(),o.replace("/dashboard")}if(u&&u.length){var h=t.data,m=h.request_id,f=h.account_number,y=h.card_number,g=h.type;n();var v=u.map((function(e){return e.field_name=e.name,"birth_date"===e.name&&(e.value=Le()(e.value,"MM/DD/YYYY").format("YYYY-MM-DD")),"expiry_date"===e.name&&(e.value=Le()(e.value,"MM/YYYY").format("MM/YY")),e}));this.handleSubmit(g,{account_number:f,request_id:m,card_number:y,fields:v})}}},{key:"validateFields",value:function(e){var t={},n=e.birth_date,a=e.expiry_date;if(n){if(n){var r=Le()(n,"MM/DD/YYYY");10!==n.length?t.birth_date="Birth date is invalid":r.isValid()?r.isSameOrAfter(Le()(),"day")?t.birth_date="Birth date is invalid":r.isBefore(Le()("1900","YYYY"))&&(t.birth_date="Birth date is invalid"):t.birth_date="Birth date is invalid"}}else t.birth_date="Birth date is required";if(a){if(a){var i=Le()(a,"MM/YYYY");7!==a.length?t.expiry_date="Expiry date is invalid":i.isValid()?i.isAfter(Le()().add(15,"y"),"year")?t.expiry_date="Expiry date is invalid":i.isBefore()&&(t.expiry_date="Expired date"):t.expiry_date="Expiry date is invalid"}}else t.expiry_date="Expiry date is required";return t}},{key:"preValidateFields",value:function(e){var t=e.birth_date,n=e.expiry_date;return t&&(t=t.replace(/[^0-9]/g,""),e.birth_date=t.split("").map((function(e,t){return[2,4].includes(t)?"/"+e:e})).join("")),n&&(n=n.replace(/[^0-9]/g,""),e.expiry_date=n.split("").map((function(e,t){return[2].includes(t)?"/"+e:e})).join("")),e}},{key:"handleSubmit",value:function(e,t){var n=this,a=this.props,r=a.loadingOpen,i=a.loadingDismiss,o=a.setOtp,s=a.togglePartialInput,l=a.setError,c=a.openAlertModal,u={},d=vt[e],p=yt[e],h=gt[e],m=ft({},t);if(!vt[e])throw new Error("Unknown request in adding account.");t.fields&&(d+="credit-card"===e?"/activate":"uitf"===e?"/joint":"/custom",m.fields=t.fields),r(),X.a.post(d,m,{noError:!0}).then((function(a){var r=a.data,l=a.status,c=r.email_address;if(i(),206===l){var d=r.title,m=r.description,f=r.fields;f=f.map((function(e){var t=e.field_name;return ft({name:t},e,{},bt[t])})),s(f,{title:d,bodyText:E.a.createElement("p",null,m),validate:n.validateFields,preValidate:n.preValidateFields,data:{request_id:r.request_id,card_number:t.card_number,account_number:t.account_number,type:e}})}else{var y="/user/products/eac",g="/user/products/otp/eac",v=!1;if(t.fields&&"credit-card"===e){p+="/custom",y=null;var b=x()(t.fields,{name:"expiry_date"});u={fields:[b]},h="/user/products/credit-card/resend",v=200===l}c&&(p="/user/products/eac"),"uitf"===e?(g="user/products/uitf/eac",c&&(p="/user/products/uitf/eac/verification")):"prepaid"===e&&(g="user/products/prepaid-card/eac",y="/user/products/prepaid-card/eac/verify"),o(ft({},r,{verifyUrl:p,verifyEacUrl:y,resetUrl:h,exchageUrl:g,purpose:"ADD_ACCOUNT",withEmail:!0,otpData:u,resetParams:v?{request_id:r.request_id}:null}))}})).catch((function(e){i();var t=e.response,n=e.message;406===t.status?c(n):l(n)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.uitf,r=t.prepaid;return E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:n.url,component:ze}),E.a.createElement(P.b,{path:"".concat(n.url,"/atm"),render:function(){return E.a.createElement(tt,{onSubmit:e.handleSubmit.bind(e,"atm")})}}),E.a.createElement(P.b,{path:"".concat(n.url,"/accnum"),render:function(){return E.a.createElement(at,{onSubmit:e.handleSubmit.bind(e,"account-number")})}}),E.a.createElement(P.b,{path:"".concat(n.url,"/cc"),render:function(){return E.a.createElement(it,{onSubmit:e.handleSubmit.bind(e,"credit-card")})}}),E.a.createElement(P.b,{path:"".concat(n.url,"/loan"),render:function(){return E.a.createElement(st,{onSubmit:e.handleSubmit.bind(e,"loan")})}}),a>0&&E.a.createElement(P.b,{path:"".concat(n.url,"/uitf"),render:function(){return E.a.createElement(ut,{onSubmit:e.handleSubmit.bind(e,"uitf")})}}),r>0&&E.a.createElement(P.b,{path:"".concat(n.url,"/prepaid"),render:function(){return E.a.createElement(pt,{onSubmit:e.handleSubmit.bind(e,"prepaid")})}}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),Ot=Object(w.c)((function(e){var t=e.otp,n=e.page,a=n.partialFields,r=n.featureToggleRules,i=x()(r,{name:"PRODUCT_UITF"}),o=x()(r,{name:"PRODUCT_PREPAID"});return ft({},t,{partialFields:a,uitf:i?i.status:-1,prepaid:o?o.status:-1})}),(function(e){return ft({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setOtp:te.b,otpClear:te.a,setOtpStatus:te.c,setSuccessMessage:ee.H,togglePartialInput:ee.R,partialInputDismiss:ee.q,productFetch:J.b,setError:ee.y,openAlertModal:ee.n},e))}))(Et),kt=n(1953),wt=n.n(kt),_t=n(1990),Pt=n.n(_t),St=n(1701),xt=n(2e3);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Dt=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products;(0,e.reorderAccountList)(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.history,r=t.resetConfirmModal;n.state&&"cancelArrange"===n.key&&(r(),a.replace("/dashboard"))}},{key:"handleArrangementSave",value:function(){var e=this.props,t=e.arrangeProducts,n=e.loadingDismiss,a=e.loadingOpen,r=e.setError,i=e.history,o=t.map((function(e,t){return{id:e.id,quick:e.quick,visible:e.visible,position:t,alias:e.alias}}));a(),X.a.patch("/user/products",o,{noError:!0}).then((function(e){n(),i.replace("/dashboard")})).catch((function(){r("Arrangement cannot be saved."),n()}))}},{key:"handleArrangementCancel",value:function(){var e=this.props,t=e.openConfirmModal,n=e.history;e.allProductsHasChange?t("cancelArrange","Cancel Arrange","Are you sure you want to cancel arrangement?"):n.replace("/dashboard")}},{key:"handleArrange",value:function(e){(0,this.props.reorderAccount)(e)}},{key:"handleDragStart",value:function(){this.props.setProductsArrange(!0)}},{key:"handleDragEnd",value:function(){this.props.setProductsArrange(!1)}},{key:"renderActionsButtons",value:function(){var e=this.props.allProductsHasChange;return[E.a.createElement(F.a,{size:"sm",onClick:this.handleArrangementCancel,key:"cancel"},"Cancel"),E.a.createElement(F.a,{size:"sm",onClick:this.handleArrangementSave,disabled:!e,key:"save",className:"ml-3",color:"primary"},"Save")]}},{key:"renderLoading",value:function(){var e=this.props,t=(e.arrange,e.messages,e.arrangeProducts),n=null;return e.productFetchError||0!==t.length||(n=E.a.createElement("div",{className:"m-5 text-center"},E.a.createElement("p",null,"Loading accounts..."))),n}},{key:"renderLoadError",value:function(){var e=this.props,t=(e.arrange,e.messages,e.arrangeProducts),n=null;return e.productFetchError&&0===t.length&&(n=E.a.createElement("div",{className:"m-5 text-center"},E.a.createElement("p",null,"Accounts not loaded."),E.a.createElement(F.a,{width:"wide",onClick:this.handleRetry},"retry"))),n}},{key:"render",value:function(){var e=this,t=this.props,n=t.arrangeProducts,a=t.arranging;return E.a.createElement(C.a,{title:"Dashboard"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"p-4 p-lg-5"},E.a.createElement("div",{className:"row d-md-flex d-block"},E.a.createElement("div",{className:"col-12 col-md-6 offset-md-3"},E.a.createElement(L.a,{title:"Accounts",actions:this.renderActionsButtons()},E.a.createElement("div",null,E.a.createElement("p",null,"Tap and hold accounts to arrange"),E.a.createElement("div",{className:"items"},this.renderLoadError(),this.renderLoading(),n.map((function(t,n){return E.a.createElement(xt.a,{key:t.id,index:n,item:t,arrange:!0,arranging:a,onArrange:e.handleArrange,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,unmasked:!1})}))))))))))}}]),t}(E.a.Component),Mt=Object(St.DragDropContext)(wt()(Pt.a))(Object(w.c)((function(e){var t=e.product;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},t)}),(function(e){return Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s,reorderAccount:J.d,setProductsArrange:J.h,reorderAccountList:J.e},e)}))(Dt)),Tt=n(1263),At=n.n(Tt);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var jt=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.history;(0,e.loadingDismiss)()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.history,a=e.resetConfirmModal;t.state&&"cancelShowHide"===t.key&&(a(),n.replace("/dashboard"))}},{key:"getAllProducts",value:function(){var e=this.props,t=e.showHideGrantToken,n=e.setProductsAll;X.a.get("/user/products",{params:{grant_type:"pl_visible"},headers:{"X-Grant-Token":t},noError:!0}).then((function(e){n(e.data)}))}},{key:"handleVisibilitySave",value:function(){var e=this.props,t=e.allProducts,n=e.loadingDismiss,a=e.loadingOpen,r=e.setError,i=e.history,o=e.showHideGrantToken,s=e.productFetch;a(),X.a.patch("/user/products",t,{headers:{"X-Grant-Type":"pl_visible","X-Grant-Token":o},noError:!0}).then((function(e){s(),n(),i.replace("/dashboard")})).catch((function(){r("Arrangement cannot be saved."),n()}))}},{key:"handleVisibilityCancel",value:function(){(0,this.props.openConfirmModal)("cancelShowHide","Hang On","Your changes will be lost if you don't save them. Are you sure you want to proceed?")}},{key:"toggleVisibility",value:function(e){var t=this.props,n=t.allProducts,a=t.updateProductsAll,r=t.initialAllProducts,i=t.setError,o=!1;if(e.can_hide){var s=n.map((function(t,n){var a=r[n];return t.id===e.id&&(t.visible=!t.visible),a.visible!==t.visible&&(o=!0),t}));At()(s,{visible:!0})||(o=!1),1===s.length&&At()(s,{visible:!0})&&(o=!0),a(s,o)}else i("Sorry, we cannot hide this account because it is being used to fund an existing Goal.")}},{key:"renderActionsButtons",value:function(){var e=this.props.allProductsHasChange;return[E.a.createElement(F.a,{size:"sm",onClick:this.handleVisibilityCancel,key:"cancel"},"Cancel"),E.a.createElement(F.a,{size:"sm",onClick:this.handleVisibilitySave,disabled:!e,key:"save",className:"ml-3",color:"primary"},"Save")]}},{key:"renderLoading",value:function(){var e=this.props,t=e.allProducts,n=null;return e.productFetchError||0!==t.length||(n=E.a.createElement("div",{className:"m-5 text-center"},E.a.createElement("p",null,"Loading accounts..."))),n}},{key:"renderLoadError",value:function(){var e=this.props,t=e.allProducts,n=null;return e.productFetchError&&0===t.length&&(n=E.a.createElement("div",{className:"m-5 text-center"},E.a.createElement("p",null,"Accounts not loaded."),E.a.createElement(F.a,{width:"wide",onClick:this.handleRetry},"retry"))),n}},{key:"render",value:function(){var e=this,t=this.props.allProducts;return E.a.createElement(C.a,{title:"Dashboard"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"p-4 p-lg-5"},E.a.createElement("div",{className:"row d-md-flex d-block"},E.a.createElement("div",{className:"col-12 col-md-6 offset-md-3"},E.a.createElement(L.a,{title:"Accounts",actions:this.renderActionsButtons()},E.a.createElement("p",null,"Click the eye to show or hide"),E.a.createElement("div",{className:"items"},this.renderLoadError(),this.renderLoading(),t.map((function(t,n){return E.a.createElement(Be.a,{key:t.id,index:n,item:t,unmasked:!1,showHide:!0,visible:t.visible,onClick:e.toggleVisibility.bind(e,t)})})))))))))}}]),t}(E.a.Component),It=Object(w.c)((function(e){var t=e.product;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},t)}),(function(e){return Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s,productFetch:J.b,setProductsAll:J.g,updateProductsAll:J.p,setError:ee.y},e)}))(jt),Ft=(n(646),n(1195)),Rt=n.n(Ft),Lt=n(1205),Bt=n.n(Lt),Vt=n(1264),qt=n.n(Vt),zt=n(1265),Ut=n.n(zt),Ht=n(1553);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Yt=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={url:null},e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.resetConfirmModal,r=t.history,i=this.state.url;!n.message&&e.confirmModal.message&&("Signup Redirect"===n.key?(a(),n.state&&window.open(i,"_blank")):"DaoExisting"===n.key&&(a(),n.state?r.push("/accounts/open/debit"):window.open(i,"_blank")))}},{key:"getDebitMessage",value:function(){return E.a.createElement("div",null,E.a.createElement("p",null,"Before we proceed, please be reminded that the online account opening is currently limited to ",E.a.createElement("b",null,"Filipino Citizens residing in the Philippines"),"."),E.a.createElement("p",null,"If you are outside of of our current coverage area, please apply foryour Savings accountwith Debit Card by visiting our branches or our website at"," ",E.a.createElement("a",{href:"https://apply.unionbankph.com/debit",target:"_blank"},"https://apply.unionbankph.com/debit"),"."),E.a.createElement("p",null,E.a.createElement("b",null,"Continue your online account opening?")))}},{key:"getCreditMessage",value:function(){return E.a.createElement("div",null,E.a.createElement("p",null,"We will now take you to unionbankph.com to complete the application process."),E.a.createElement("p",null,"Once your account is opened, come back to the app and sign up to mobile banking."))}},{key:"confirmRedirect",value:function(e){var t=this.props,n=t.isDaoEnabled,a=t.openConfirmModal,r=(t.applicationStatus,t.message),i="DEBIT"===e?"https://apply.unionbankph.com/debit?utm_source=UBPOnline_Web&utm_medium=Signup&utm_campaign=UBPOnline_Signup":"https://apply.unionbankph.com/?utm_source=UBPOnline_Web&utm_medium=Signup&utm_campaign=UBPOnline_Signup";this.setState({url:i}),"CREDIT"===e||!n&&!r?a("Signup Redirect","Continue your application process on our website.",this.getCreditMessage(),"Continue","Maybe Later"):n?a("DaoExisting","Important",this.getDebitMessage(),"Continue","Apply via Website",null,!1):r&&a("Signup Redirect","Oops!",E.a.createElement(E.a.Fragment,null,E.a.createElement("p",null,"".concat(r," You may visit "),E.a.createElement("a",{href:"https://apply.unionbankph.com/debit",target:"_blank"},"https://apply.unionbankph.com/debit")," "," to proceed with your application via web. Thank you!")),"Continue","Maybe Later")}},{key:"render",value:function(){var e=this,t=this.props,n=t.productTypes,a=t.loading;return E.a.createElement(C.a,{title:"Choose an account"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Choose an account"},E.a.createElement("div",{className:"content signup"},E.a.createElement("p",null,"Select an account to open."),a&&E.a.createElement("div",{className:"card list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"}))),!a&&E.a.createElement("div",{className:"d-flex flex-wrap product-type"},n.map((function(t){var n=t.id,a=t.title,r=t.description,i=t.account_type;return E.a.createElement("div",{key:n,className:"product-type-container"},E.a.createElement($e.a,{key:n,role:"presentation",className:"m-3 h-85",onClick:e.confirmRedirect.bind(e,i)},E.a.createElement("div",{className:"d-flex account-card"},E.a.createElement("div",{className:"d-flex justify-content-center align-items-center mr-3"},E.a.createElement("img",{src:"DEBIT"===i?Ut.a:qt.a,alt:a})),E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"title"},a),E.a.createElement("div",{className:"description"},r)))))})))))))}}]),t}(E.a.Component),Wt=Object(w.c)((function(e){var t=e.page,n=e.accountOpening,a=t.confirmModal,r=t.featureToggleRules,i=n.productTypes,o=n.applicationStatus,s=n.loading,l=!1,c="",u=x()(r,{name:"DAO_EXISTING_DEBIT"});return u&&(c=u.message,l=1===u.status),{confirmModal:a,productTypes:i,featureToggleRules:r,isDaoEnabled:l,applicationStatus:o,message:c,loading:s}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setProductTypes:Ht.u},e))}))(Yt),Xt=(n(648),n(1454)),Kt=n.n(Xt),$t=n(1455),Zt=n.n($t),Qt=n(1456),Jt=n.n(Qt),en=n(1457),tn=n.n(en),nn=n(1458),an=n.n(nn),rn=n(1459),on=n(1240),sn=n(1460),ln=n(1461),cn=n(1462),un=n(1463),dn=n(1464);function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mn=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={accountTypes:[],openGetGoModal:!1,productType:null,featuredProduct:null},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.productTypes,t=x()(e,{account_type:"DEBIT"});if(t){var n=Rt()(t.products,(function(e){var t=hn({},e);return t.collapsed=!0,hn({},t)}));this.setState({accountTypes:n})}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.resetConfirmModal,r=t.history,i=t.setProductType,o=this.state,s=o.productType,l=o.featuredProduct;!n.message&&e.confirmModal.message&&("GETGO_CONFIRM"===n.key?(a(),n.state?this.setState({openGetGoModal:!0}):(i(s),r.push("/accounts/open/terms"))):"SELECT_CARD"===n.key&&(a(),n.state&&this.select(l)))}},{key:"getCardFees",value:function(e){var t=[e[0]];return e.slice(1,e.length).forEach((function(e){t.push({id:"".concat(e.id,"-or"),description:"or"}),t.push({id:e.id,description:e.description})})),t}},{key:"getDetails",value:function(e){return[{id:1,key:"Initial Deposit",value:e.initial_deposit},{id:2,key:"Maintaining Balance Requirement (MBR)",value:e.maintaining_balance},{id:3,key:"Minimum ADB to Earn Interest",value:e.minimum_adb},{id:4,key:"Interest Rate",value:e.interest_rate},{id:5,key:"Card Fee",value:E.a.createElement(E.a.Fragment,null,this.getCardFees(e.card_fees).map((function(e){return E.a.createElement("div",{key:e.id},e.description)})))}]}},{key:"getImage",value:function(e){var t=null;switch(e.product_type){case"PERSONAL_SAVINGS":t=Kt.a;break;case"PLAYEVERYDAY":t=Zt.a;break;case"GETGO_DEBIT":t=Jt.a}return E.a.createElement("img",{src:t,alt:e.title})}},{key:"moreDetails",value:function(e,t){t.stopPropagation();var n=this.state.accountTypes,a=Rt()(n,(function(t){var n=hn({},t);return n.collapsed=t.id!==e.id||e.featured,hn({},n)}));if(this.setState({accountTypes:a}),e.featured){var r=this.props.openConfirmModal;this.setState({featuredProduct:e}),r("SELECT_CARD",e.product_type,E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement("div",{className:"text-center mb-4"},E.a.createElement("img",{src:an.a,alt:"",height:"200"})),E.a.createElement("p",null,"Get more out of your savings account with this first and only gamified card in the country!")),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement("p",{className:"font-weight-bold"},"Earn Points by:"),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:rn.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,E.a.createElement("div",null,"Creating your profile"),E.a.createElement("div",null,"(get FREE 500 points instantly!)"))),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:on.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Depositing to your account")),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:sn.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Using UnionBank Online to pay bills, QR scan, etc.")),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:ln.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Every P20 spend using your card")),E.a.createElement("div",{className:"my-4"},E.a.createElement("p",{className:"mt-4 font-weight-bold"},"Redeem your rewards instantly in UnionBank Online:"),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:cn.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Movie discounts")),E.a.createElement("div",{className:"d-flex mb-3"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:un.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Food vouchers")),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"mr-3 align-self-center"},E.a.createElement(Xe.a,{component:dn.a,style:{fontSize:"24px"}})),E.a.createElement("div",null,"Shopping GCs ... and more!"))),this.getDetails(e).map((function(e,t){return E.a.createElement("div",{key:t,className:j()("list-group-item","pl-0","border-left-0","border-right-0",{"border-top-0":1===e.id,"border-bottom-0":5===e.id})},E.a.createElement("div",{className:"d-flex flex-wrap align-items-start justify-content-between no-gutters"},E.a.createElement("div",{className:"col-6"},e.key),E.a.createElement("div",{className:"text-right col-6 font-weight-bold"},e.value)))})))),"Select this Card","Back to Card Select",600,!1)}}},{key:"hideSection",value:function(){var e=this.state.accountTypes,t=Rt()(e,(function(e){var t=hn({},e);return t.collapsed=!0,hn({},t)}));this.setState({accountTypes:t})}},{key:"select",value:function(e){var t=this.props,n=t.openConfirmModal,a=t.setProductType,r=t.history,i={id:e.id,name:e.product_type,account_type:e.title,cardFees:e.card_fees};0===e.card_fees.length&&(i.cardFee=e.card_fees[0]),"GETGO_DEBIT"===e.product_type?(this.setState({productType:i}),n("GETGO_CONFIRM","Hang On","Do you have a GetGo account?","Yes","No",null,!1)):(a(i),r.push("/accounts/open/terms"))}},{key:"handleProceed",value:function(e){var t=this.props,n=t.setProductType,a=t.setGetGoNumber,r=t.history,i=this.state.productType;a(e.getgo_number),n(i),r.push("/accounts/open/terms")}},{key:"handleCancel",value:function(){this.setState({openGetGoModal:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.accountTypes,a=t.openGetGoModal;return E.a.createElement(C.a,{title:"Choose an account"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Select a Savings Account"},E.a.createElement("div",{className:"content signup"},E.a.createElement("p",null,"Select an account to open."),E.a.createElement("div",{className:"d-flex flex-wrap product-type"},n.map((function(t){var n=t.id,a=t.title,r=t.description;return E.a.createElement("div",{key:n,className:"product-type-container"},E.a.createElement("div",{className:"card m-3"},t.featured?E.a.createElement($e.a,{key:n,role:"presentation",className:"p-0",onClick:e.moreDetails.bind(e,t),style:{cursor:"pointer"}},E.a.createElement("div",{className:"d-flex justify-content-between",style:{backgroundImage:"url('".concat(tn.a,"')"),backgroundSize:"cover",paddingBottom:"45%"}}),E.a.createElement("div",{className:"d-flex account-card"},E.a.createElement("div",{className:"d-flex flex-column px-5 py-4"},E.a.createElement("div",{className:"title d-flex"},E.a.createElement("div",null,a),E.a.createElement("div",{className:"ml-3 px-2 text-light rounded bg-primary small align-self-center"},"FEATURED")),E.a.createElement("div",{className:"description"},r)))):E.a.createElement($e.a,{key:n,role:"presentation",onClick:e.moreDetails.bind(e,t)},E.a.createElement("div",{className:"d-flex account-card"},E.a.createElement("div",{className:"d-flex justify-content-center align-items-center mr-3"},e.getImage(t)),E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"title"},a),E.a.createElement("div",{className:"description"},r)))),!t.collapsed&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"list-group list-group-flush m-3"},e.getDetails(t).map((function(e,t){return E.a.createElement("div",{key:t,className:j()("list-group-item",{"border-top-0":1===e.id,"border-bottom-0":5===e.id})},E.a.createElement("div",{className:"d-flex flex-wrap align-items-start justify-content-between no-gutters"},E.a.createElement("div",{className:"col-7 col-md-5"},e.key),E.a.createElement("div",{className:"text-right col-5 col-md-7 font-weight-bold"},e.value)))}))),E.a.createElement("div",{className:"d-flex justify-content-end m-3"},E.a.createElement(F.a,{color:"link",onClick:e.hideSection},"Hide Section"),E.a.createElement(He.a,{type:"primary",onClick:e.select.bind(e,t)},"Select")))))})))))),E.a.createElement(B.a,{open:a,title:"Hang On",onDismiss:this.handleCancel},E.a.createElement(Je.b,{onSubmit:this.handleProceed,formContent:function(t,n){return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"body"},E.a.createElement("div",{className:"content"},"Please enter your GetGo number.",E.a.createElement(Je.a,{name:"getgo_number",form:t,maxLength:10,options:{normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."},{len:10,message:"GetGo number is invalid."}]}},E.a.createElement(Ye.a,{placeholder:"Enter your GetGo number"})))),E.a.createElement("div",{className:"footer"},E.a.createElement(Qe.a,null,E.a.createElement(He.a,{type:"primary",htmlType:"submit",block:!0,disabled:n},"Continue"),E.a.createElement(He.a,{block:!0,onClick:e.handleCancel},"Cancel"))))}})))}}]),t}(E.a.Component),fn=Object(w.c)((function(e){var t=e.page,n=e.accountOpening;return{confirmModal:t.confirmModal,productTypes:n.productTypes}}),(function(e){return hn({},Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,loadingOpen:ee.i,loadingDismiss:ee.h,setProductType:Ht.t,setGetGoNumber:Ht.k},e))}))(mn),yn=n(1190),gn=n.n(yn),vn=n(1186),bn=n.n(vn),En=n(1706),On=n(1621),kn=n(1199),wn=n(1466),_n=n.n(wn);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Sn=["Mr","Ms"],xn={code:"PH",calling_code:"+63"},Cn=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.alertModal,a=t.setBasicInfo,r=t.history;e.alertModal.message&&!n.message&&"AML_ERROR"===e.alertModal.key&&(a({}),r.replace("/dashboard"))}},{key:"disabledDate",value:function(e){return e.valueOf()>Le()().subtract(18,"year").valueOf()}},{key:"addToCart",value:function(){var e=window.FB;if(void 0!==e){var t=this.props.productType,n={},a=e.AppEvents.ParameterNames,r=a.CONTENT,i=a.CONTENT_TYPE,o=a.CURRENCY;n[r]=t.title,n[i]=t.name,n[o]="PHP",e.AppEvents.logEvent(e.AppEvents.EventNames.ADDED_TO_CART,1,n)}}},{key:"submit",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.setError,o=n.setBasicInfo,s=n.getGoNumber,l=n.step,c=n.history,u=n.productType,d=n.profile,p=n.applicationStatus,h={product_id:u.id,birthdate:e.birthdate.format("YYYY-MM-DD"),salutation:e.salutation&&e.salutation.toUpperCase(),getgo_number:s,first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name},m="put";"form"===l&&(m="post",h.page_type="BASIC_INFORMATION"),a(),X.a[m]("/open-account/existing",h,{noError:!0}).then((function(){var t=e.first_name||d.first_name,n=e.last_name||d.last_name,a=t;if(e.middle_name&&(a+=" ".concat(e.middle_name)),a+=" ".concat(n),o({birthdate:e.birthdate,salutation:e.salutation,first_name:t,middle_name:e.middle_name,last_name:n,full_name:a}),"edit"===l)c.push("/accounts/open/debit/review");else{var i=0===p.customer_type?"address":"personal-info";c.push("/accounts/open/debit/".concat(i))}r()})).catch((function(e){r();var n=e.response;n&&406===n.status&&"AML"===n.data.error_code?t.displayAmlError(e.message):i(e.message)}))}},{key:"displayAmlError",value:function(e){(0,this.props.openAlertModal)(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:_n.a,alt:"",height:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},"Visit the Branch"),E.a.createElement("div",{className:"mx-md-5"},e)),{key:"AML_ERROR",title:""})}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"render",value:function(){var e=this,t=this.props,n=t.step,a=t.basicInfo,r=t.profile,i=t.applicationStatus;return E.a.createElement(C.a,{title:"Update Information"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,o){return E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Your Profile"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},1===i.customer_type&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"salutation",form:t,options:{initialValue:a.salutation,rules:[{required:!0,message:"This field is required"}]}},E.a.createElement(bn.a,{placeholder:"Salutation*"},Sn.map((function(e){return E.a.createElement(bn.a.Option,{key:e,value:e},e)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"first_name",form:t,maxLength:40,options:{initialValue:a.first_name||r.first_name,normalize:e.normalize,rules:[{required:!0,message:"This field is required"},{whitespace:!0,message:"This field is required"}]}},E.a.createElement(Ye.a,{placeholder:"First Name*"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"middle_name",form:t,maxLength:40,options:{initialValue:a.middle_name,normalize:e.normalize}},E.a.createElement(Ye.a,{placeholder:"Middle Name"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"last_name",form:t,maxLength:40,options:{initialValue:a.last_name||r.last_name,normalize:e.normalize,rules:[{required:!0,message:"This field is required"},{whitespace:!0,message:"This field is required"}]}},E.a.createElement(Ye.a,{placeholder:"Last Name*"}))))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"birthdate",form:t,options:{initialValue:a.birthdate,rules:[{required:!0,message:"This field is required"}]}},E.a.createElement(gn.a,{placeholder:"Birthdate*",format:"MMMM DD, YYYY",suffixIcon:E.a.createElement(Xe.a,{component:kn.a,style:{cursor:"pointer"}}),className:"w-100",showToday:!1,disabledDate:e.disabledDate,defaultPickerValue:Le()().subtract(18,"year")}))))))),E.a.createElement(L.a,{title:"Contact Details"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"email_address",form:t,options:{initialValue:r.email_address}},E.a.createElement(Ye.a,{disabled:!0}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"mobile_number",form:t,options:{initialValue:r.mobile_number}},E.a.createElement(Ye.a,{disabled:!0,addonBefore:E.a.createElement(En.a,{country:xn})}))))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===n?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:o},"edit"===n?"Update":"Next")))}})),"form"===n&&E.a.createElement(On.a,{percent:1/9*100}))}}]),t}(E.a.Component),Dn=Object(w.c)((function(e){var t=e.page,n=e.otp,a=e.accountOpening,r=e.settings,i=t.alertModal,o=a.getGoNumber,s=a.basicInfo,l=a.step,c=a.productType,u=a.applicationStatus;return{alertModal:i,otp:n,getGoNumber:o,basicInfo:s,profile:r.profile,step:l,productType:c,applicationStatus:u}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,setError:ee.y,setBasicInfo:Ht.d},e))}))(Cn),Mn=(n(1569),n(653)),Tn=n.n(Mn),An=n(1601);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var jn=function(e){function t(e){var n;l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n));var a=e.applicationStatus,r=e.history;return 0===a.customer_type&&r.replace("/accounts/open/debit/address"),n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.civilStatus,n=e.setCivilStatus;0===t.length&&X.a.get("/content/civilstatus").then((function(e){n(e.data)}))}},{key:"normalize",value:function(e){return e?e.replace(/[^A-Z0-9a-z \(\).,-]/g,""):""}},{key:"validate",value:function(e,t,n){var a="";t?Tn()(t)&&0===t.trim().length&&(a="This field is required."):a="This field is required.",a.length>0?n(a):n()}},{key:"submit",value:function(e){var t=this.props,n=t.civilStatus,a=t.step,r=t.setPersonalInfo,i=t.history,o=t.loadingOpen,s=t.loadingDismiss,l=x()(n,{code:e.civil_status}),c={nationality:"01",birthplace:e.birthplace,civil_status:e.civil_status,mother_maiden_name:e.mother_maiden_name};"form"===a&&(c.page_type="PERSONAL_INFORMATION"),o(),X.a.put("/open-account/existing",c).then((function(){var t={birthplace:e.birthplace,civil_status:l,mother_maiden_name:e.mother_maiden_name};r(t),"edit"===a?i.push("/accounts/open/debit/review"):i.push("/accounts/open/debit/address"),s()})).catch((function(){s()}))}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"render",value:function(){var e=this,t=this.props,n=t.civilStatus,a=t.step,r=t.personalInfo;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Update Information"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,i){return e._form=t,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Personal Information"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"nationality",form:t,options:{initialValue:"Filipino"}},E.a.createElement(Ye.a,{disabled:!0,addonBefore:E.a.createElement(An.a,{svg:!0,code:"ph"})}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"birthplace",form:t,maxLength:50,options:{initialValue:r.birthplace,normalize:e.normalize,rules:[{required:!0,message:"This field is required"},{whitespace:!0,message:"This field is required"}]}},E.a.createElement(Ye.a,{placeholder:"Birthplace"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"civil_status",form:t,options:{initialValue:r.civil_status&&r.civil_status.code,rules:[{required:!0,message:"This field is required"}]}},E.a.createElement(bn.a,{placeholder:"Civil Status"},n.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.description)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"mother_maiden_name",form:t,maxLength:50,options:{initialValue:r.mother_maiden_name,normalize:function(e){return e?e.replace(/[^A-Z0-9a-z/s]/g,""):""},rules:[{required:!0,message:"This field is required"},{whitespace:!0,message:"This field is required"}]}},E.a.createElement(Ye.a,{placeholder:"Mother's Maiden Name"}))))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===a?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:i},"edit"===a?"Update":"Next")))}})),"form"===a&&E.a.createElement(On.a,{percent:2/9*100})))}}]),t}(E.a.Component),In=Object(w.c)((function(e){var t=e.accountOpening,n=t.civilStatus;return{personalInfo:t.personalInfo,civilStatus:n,step:t.step,applicationStatus:t.applicationStatus}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({setCivilStatus:Ht.g,setPersonalInfo:Ht.r,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(jn),Fn=(n(135),n(1188)),Rn=n.n(Fn),Ln=n(1189),Bn=n.n(Ln);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var qn=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={filteredCities:[],filteredPermanentCities:[]},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.cities,a=t.provinces,r=t.setCities,i=t.setProvinces,o=t.sameAsPresentAddress;this._form.setFieldsValue({sameAsPresentAddress:o}),0===n.length?X.a.get("/content/cities").then((function(t){var n=t.data;r(n),e.setState({filteredCities:n,filteredPermanentCities:n})})):this.setState({filteredCities:n,filteredPermanentCities:n}),0===a.length&&X.a.get("/content/provinces").then((function(e){i(e.data)}))}},{key:"setSameAsPresent",value:function(e){var t=this;setTimeout((function(){t._form.setFieldsValue({sameAsPresentAddress:e.target.checked})}),0)}},{key:"filterCities",value:function(e,t){var n=this.props.cities,a=M()(n,{province_code:t});"city"===e?this.setState({filteredCities:a}):this.setState({filteredPermanentCities:a})}},{key:"clearCity",value:function(e,t){this._form.getFieldValue(e)&&this._form.setFieldsValue(r()({},e,"")),this.filterCities(e,t)}},{key:"filterOption",value:function(e,t){return t.props.children.toUpperCase().includes(e.toUpperCase())}},{key:"normalize",value:function(e){return e?e.replace(/[^A-Z0-9a-z \(\).,-]/g,""):""}},{key:"validate",value:function(e,t,n){var a="";this._form.getFieldValue("sameAsPresentAddress")||(t?Tn()(t)&&0===t.trim().length&&(a="This field is required."):a="This field is required."),a.length>0?n(a):n()}},{key:"submit",value:function(e){var t=this.props,n=t.cities,a=t.provinces,r=t.step,i=t.setPresentAddress,o=t.setPermanentAddress,s=t.history,l=t.loadingOpen,c=t.loadingDismiss,u=e.sameAsPresentAddress,d=x()(n,{code:e.city}),p=x()(a,{code:e.province}),h=e.city.substring(0,4),m={line1:"".concat(e.house_number,"|").concat(e.street,"|").concat(e.barangay),country:"204",city:e.city,zip_code:h,province:e.province},f={present_address:m},y=null,g="",v=null;"form"===r&&(f.page_type="PERSONAL_ADDRESS"),u?f.permanent_address=m:(y=x()(n,{code:e.permanent_city}),g=e.permanent_city.substring(0,4),v=x()(a,{code:e.permanent_province}),f.permanent_address={line1:"".concat(e.permanent_house_number,"|").concat(e.permanent_street,"|").concat(e.permanent_barangay),country:"204",city:e.permanent_city,zip_code:g,province:e.permanent_province}),l(),X.a.put("/open-account/existing",f).then((function(){var t={},n={fullAddress:"".concat(e.house_number," ").concat(e.street,", ").concat(e.barangay,", ").concat(d.name,", ").concat(p.name),house_number:e.house_number,street:e.street,barangay:e.barangay,city:d,province:p};i(n),u||(t={fullAddress:"".concat(e.permanent_house_number," ").concat(e.permanent_street,", ").concat(e.permanent_barangay,", ").concat(y.name,", ").concat(v.name),house_number:e.permanent_house_number,street:e.permanent_street,barangay:e.permanent_barangay,city:y,province:v}),o(t),"edit"===r?s.push("/accounts/open/debit/review"):s.push("/accounts/open/debit/financial-info"),c()})).catch((function(){c()}))}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"render",value:function(){var e=this,t=this.props,n=t.provinces,a=t.step,r=t.presentAddress,i=t.permanentAddress,o=this.state,s=o.filteredCities,l=o.filteredPermanentCities;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Update Information"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,o){return e._form=t,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Present Address"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"house_number",form:t,maxLength:14,options:{normalize:e.normalize,initialValue:r.house_number,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Unit / House No."}))),E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"street",form:t,maxLength:30,options:{normalize:e.normalize,initialValue:r.street,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Building / Street Name"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"barangay",form:t,maxLength:45,options:{normalize:e.normalize,initialValue:r.barangay,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Village / Barangay"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"province",form:t,options:{initialValue:r.province&&r.province.code,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Province",onChange:e.clearCity.bind(e,"city"),showSearch:!0,filterOption:e.filterOption},n.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"city",form:t,options:{initialValue:r.city&&r.city.code,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"City",disabled:!!t.getFieldError("province"),showSearch:!0,filterOption:e.filterOption},s.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)})))))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{name:"present_country",form:t,options:{initialValue:"Philippines"}},E.a.createElement(Ye.a,{disabled:!0,addonBefore:E.a.createElement(An.a,{svg:!0,code:"ph"})}))))))),E.a.createElement(L.a,{title:"Permanent Address"},E.a.createElement(Je.a,{form:t,name:"sameAsPresentAddress",className:"mb-0",options:{initialValue:!0,valuePropName:"checked"}},E.a.createElement(Bn.a,{className:"form-group",onChange:e.setSameAsPresent},"SAME AS PRESENT ADDRESS")),E.a.createElement("p",null,"Please provide your complete address. We will use this information for card delivery."),!t.getFieldValue("sameAsPresentAddress")&&E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"permanent_house_number",form:t,maxLength:28,options:{normalize:e.normalize,preserve:!0,initialValue:i.house_number,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Unit / House No."}))),E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"permanent_street",form:t,maxLength:100,options:{preserve:!0,initialValue:i.street,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Building / Street Name"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"permanent_barangay",form:t,maxLength:70,options:{preserve:!0,initialValue:i.barangay,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Village / Barangay"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"permanent_province",form:t,options:{preserve:!0,initialValue:i.province&&i.province.code,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"Province",onChange:e.clearCity.bind(e,"permanent_city"),showSearch:!0,filterOption:e.filterOption},n.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"permanent_city",form:t,options:{preserve:!0,initialValue:i.city&&i.city.code,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"City",disabled:!!t.getFieldError("permanent_province"),showSearch:!0,filterOption:e.filterOption},l.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)})))))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{name:"permanent_country",form:t,options:{initialValue:"Philippines"}},E.a.createElement(Ye.a,{disabled:!0,addonBefore:E.a.createElement(An.a,{svg:!0,code:"ph"})}))))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===a?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:o},"edit"===a?"Update":"Next")))}})),"form"===a&&E.a.createElement(On.a,{percent:3/9*100})))}}]),t}(E.a.Component),zn=Object(w.c)((function(e){var t=e.page,n=e.accountOpening,a=t.cities,r=t.provinces,i=n.step,o=n.applicationStatus,s=n.presentAddress,l=n.permanentAddress,c=!0;return l.fullAddress&&(c=Rn()(s,l)),{presentAddress:s,permanentAddress:l,sameAsPresentAddress:c,cities:a,provinces:r,step:i,applicationStatus:o}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({setCities:ee.w,setProvinces:ee.E,loadingOpen:ee.i,loadingDismiss:ee.h,setPresentAddress:Ht.s,setPermanentAddress:Ht.q},e))}))(qn),Un=n(355),Hn=n.n(Un);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wn=["TIN","GSIS","SSS"],Xn=function(e){function t(e){var n;l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n));var a=e.financialInfo,r=a.status,i=a.fund_source,o=a.industry_type;return n.state={filteredCities:[],status:r||{},fundSource:i||{},industryType:o||{}},n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.cities,a=t.employmentStatus,r=t.industryTypes,i=t.occupations,o=t.provinces,s=t.sourceOfFunds,l=t.setCities,c=t.setEmploymentStatus,u=t.setIndustryTypes,d=t.setOccupations,p=t.setProvinces,h=t.setSourceOfFunds;0===n.length?X.a.get("/content/cities").then((function(t){l(t.data),e.setState({filteredCities:t.data})})):this.setState({filteredCities:n}),0===a.length&&X.a.get("/content/employmentstatus").then((function(e){c(e.data)})),0===i.length&&X.a.get("/content/occupations").then((function(e){d(e.data)})),0===r.length&&X.a.get("/content/industrytypes").then((function(e){u(e.data)})),0===o.length&&X.a.get("/content/provinces").then((function(e){p(e.data)})),0===s.length&&X.a.get("/content/sourceoffunds").then((function(e){h(e.data)}))}},{key:"setStatus",value:function(e){var t=this.props.employmentStatus,n=x()(t,{id:e});n&&this.setState({status:n})}},{key:"getError",value:function(e){var t="";return(!e||Tn()(e)&&0===e.trim().length)&&(t="This field is required."),t}},{key:"getMaxLength",value:function(){switch(this._form.getFieldValue("id_type")){case"TIN":return 9;case"SSS":return 10;case"GSIS":default:return 11}}},{key:"isShown",value:function(e){var t=this.props.employmentStatus,n=this._form.getFieldValue("status"),a=x()(t,{id:n});return!!a&&("id"===e&&"Retired"===a.description||!["Student","Retired"].includes(a.description))}},{key:"filterCities",value:function(e){var t=this.props.cities,n=M()(t,{province_code:e});this.setState({filteredCities:n})}},{key:"filterOption",value:function(e,t){return t.props.children.toUpperCase().includes(e.toUpperCase())}},{key:"clearCity",value:function(e){this._form.getFieldValue("city")&&this._form.setFieldsValue({city:""}),this.filterCities(e)}},{key:"callbackError",value:function(e,t){this.getError(e).length>0?t("This field is required."):t()}},{key:"callValidateId",value:function(e,t,n){var a=this.getMaxLength(),r="Please enter a valid ID number.";t.length===a?/^([0-9])\1*$/.test(t)?n(r):n():n(r)}},{key:"normalize",value:function(e){return e?e.replace(/[^A-Z0-9a-z \(\).,-]/g,""):""}},{key:"showSourceOthers",value:function(e){var t=this.props.sourceOfFunds,n=x()(t,{id:e});this.setState({fundSource:n})}},{key:"showIndustryOthers",value:function(e){var t=this.props.industryTypes,n=x()(t,{id:e});this.setState({industryType:n})}},{key:"clearIdNumber",value:function(){var e=this._form.getFieldsValue();e.id_type&&e.id_number&&this._form.setFieldsValue({id_number:""})}},{key:"validate",value:function(e,t,n){var a=this.props.employmentStatus,r=this._form.getFieldValue("status"),i=x()(a,{id:r}),o="";i&&(o=i.description);var s="";["Student","Retired"].includes(o)?n():s=this.getError(t),s.length>0?n(s):n()}},{key:"validateIdType",value:function(e,t,n){var a="",r=this.props.employmentStatus,i=this._form.getFieldValue("status"),o=x()(r,{id:i}),s="";o&&(s=o.description),"Student"!==s&&(a=this.getError(t)),a.length>0?n(a):n()}},{key:"validateId",value:function(e,t,n){var a=this._form.getFieldValue("id_type"),r=this.props.employmentStatus,i=this._form.getFieldValue("status"),o="",s=x()(r,{id:i});s&&(o=s.description),"Student"===o?n():a?this.callValidateId(a,t,n):this.callbackError(t,n)}},{key:"validateSourceOthers",value:function(e,t,n){"Others"===this.state.fundSource.description?this.callbackError(t,n):n()}},{key:"validateIndustryOthers",value:function(e,t,n){var a=this.state,r=a.status,i=a.industryType;["Student","Retired"].includes(r.description)||"Others"!==i.description?n():this.callbackError(t,n)}},{key:"submit",value:function(e){var t=this.props,n=t.setFinancialInfo,a=t.step,r=t.history,i=t.occupations,o=t.cities,s=t.provinces,l=t.loadingOpen,c=t.loadingDismiss,u=this.state,d=u.status,p=u.fundSource,h=u.industryType,m=x()(i,{id:e.occupation}),f=x()(o,{code:e.city}),y=x()(s,{code:e.province}),g="",v={financial_info:{status_id:e.status}};"form"===a&&(v.page_type="FINANCIAL_INFORMATION"),"Retired"===d.description?v.financial_info[e.id_type.toLowerCase()]=e.id_number:"Student"!==d.description&&(g=e.city.substring(0,4),v.financial_info.name=e.name,v.financial_info.industry_type={id:e.industry_type},v.financial_info.employer_address={line1:"".concat(e.house_number,"|").concat(e.street,"|").concat(e.barangay),zip_code:g,country:"204",city:e.city,province:e.province},v.financial_info.occupation_id=m.id,v.financial_info[e.id_type.toLowerCase()]=e.id_number,v.financial_info.fund_source={id:e.fund_source},"Others"===p.description&&(v.financial_info.fund_source.value=e.source_others),"Others"===h.description&&(v.financial_info.industry_type.value=e.industry_others)),l(),X.a.put("/open-account/existing",v).then((function(){var t=Yn({},v.financial_info,{status:d,fund_source:p,employer_address:{}});"Others"===p.description&&(t.fund_source.others=e.source_others),"Student"!==d.description&&(t.id_type=e.id_type,t.id_number=e.id_number,"Retired"!==d.description&&(t.name=e.name,t.employer_address.city=f,t.employer_address.province=y,t.employer_address.house_number=e.house_number,t.employer_address.street=e.street,t.employer_address.barangay=e.barangay,t.industry_type=h,t.occupation=m,"Others"===h.description&&(t.industry_type.others=e.industry_others),t.employer_address.fullAddress="".concat(e.house_number," ").concat(e.street,", ").concat(e.barangay,", ").concat(f.name,", ").concat(y.name))),n(t),"edit"===a?r.push("/accounts/open/debit/review"):r.push("/accounts/open/debit/account-details"),c()})).catch((function(){c()}))}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"render",value:function(){var e=this,t=this.props,n=t.employmentStatus,a=t.sourceOfFunds,r=t.industryTypes,i=t.occupations,o=t.provinces,s=t.financialInfo,l=t.step,c=this.state,u=c.filteredCities,d=c.fundSource,p=c.industryType,h=s.employer_address,m=s.fund_source,f=s.industry_type,y=s.occupation;return E.a.createElement(C.a,{title:"Update Information"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,c){e._form=t;t.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Financial Information"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:j()("col-12",{"col-md-6":e.isShown()})},E.a.createElement(Je.a,{name:"status",form:t,options:{initialValue:s.status&&s.status.id,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Employment Status",onChange:e.setStatus},n.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)}))))),e.isShown()&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"col-12 ".concat("Others"===d.description?"col-md-3":"col-md-6")},E.a.createElement(Je.a,{name:"fund_source",form:t,options:{initialValue:m&&m.id,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"Source of Funds",onChange:e.showSourceOthers},a.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)}))))),"Others"===d.description&&E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"source_others",form:t,options:{initialValue:m&&m.others,preserve:!0,rules:[{validator:e.validateSourceOthers}]}},E.a.createElement(Ye.a,{placeholder:"Please specify"}))))),e.isShown()&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"name",form:t,maxLength:50,options:{initialValue:s.name,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Employer / Business Name"}))),E.a.createElement("div",{className:"col-12 ".concat("Others"===p.description?"col-md-3":"col-md-6")},E.a.createElement(Je.a,{name:"industry_type",form:t,options:{initialValue:f&&f.id,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"Business Industry",onChange:e.showIndustryOthers},r.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},"Others"===p.description?E.a.createElement(Hn.a,{title:e.description},e.description):E.a.createElement(E.a.Fragment,null,e.description))}))))),"Others"===p.description&&E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"industry_others",form:t,options:{initialValue:f&&f.others,preserve:!0,rules:[{validator:e.validateIndustryOthers}]}},E.a.createElement(Ye.a,{placeholder:"Please specify"})))),E.a.createElement("div",{className:"row"},e.isShown()&&E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"occupation",form:t,options:{initialValue:y&&y.id,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"Occupation"},i.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)}))))),e.isShown("id")&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"col-12 ".concat(e.isShown()?"col-md-2":"col-md-4")},E.a.createElement(Je.a,{name:"id_type",form:t,options:{initialValue:s.id_type,rules:[{validator:e.validateIdType}]}},E.a.createElement(bn.a,{placeholder:"ID Type",onChange:e.clearIdNumber},Wn.map((function(e){return E.a.createElement(bn.a.Option,{key:e,value:e},e)}))))),E.a.createElement("div",{className:"col-12 ".concat(e.isShown()?"col-md-4":"col-md-8")},E.a.createElement(Je.a,{name:"id_number",form:t,maxLength:e.getMaxLength(),options:{initialValue:s.id_number,normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},rules:[{validator:e.validateId}]}},E.a.createElement(Ye.a,{placeholder:"ID Number"})))))))),e.isShown()&&E.a.createElement(L.a,{title:"Employer/Business Details"},E.a.createElement("p",null,"Please provide your complete address. We will use this information for card delivery."),E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"house_number",form:t,maxLength:14,options:{initialValue:h&&h.house_number,normalize:e.normalize,preserve:!0,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Unit / Floor No."}))),E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"street",form:t,maxLength:30,options:{initialValue:h&&h.street,normalize:e.normalize,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Building / Street Name"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"barangay",form:t,maxLength:45,options:{initialValue:h&&h.barangay,normalize:e.normalize,rules:[{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Village / Barangay"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"province",form:t,options:{initialValue:h&&h.province&&h.province.code,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"Province",onChange:e.clearCity,showSearch:!0,filterOption:e.filterOption},o.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"city",form:t,options:{initialValue:h&&h.city&&h.city.code,rules:[{validator:e.validate}]}},E.a.createElement(bn.a,{placeholder:"City",disabled:!!t.getFieldError("province"),showSearch:!0,filterOption:e.filterOption},u.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)}))))))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===l?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:c},"edit"===l?"Update":"Next")))}})),"form"===l&&E.a.createElement(On.a,{percent:4/9*100}))}}]),t}(E.a.Component),Kn=Object(w.c)((function(e){var t=e.page,n=e.accountOpening,a=t.cities,r=t.provinces;return{financialInfo:n.financialInfo,cities:a,employmentStatus:n.employmentStatus,industryTypes:n.industryTypes,occupations:n.occupations,provinces:r,sourceOfFunds:n.sourceOfFunds,step:n.step,cardDetails:n.cardDetails}}),(function(e){return Yn({},Object(_.b)({setFinancialInfo:Ht.j,setCities:ee.w,setEmploymentStatus:Ht.i,setIndustryTypes:Ht.l,setOccupations:Ht.o,setProvinces:ee.E,setSourceOfFunds:Ht.w,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(Xn),$n=n(1646),Zn=n.n($n),Qn=n(1266);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta=function(e){function t(e){var n;return l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n)),n.state={file:e.signature},n}return v()(t,e),u()(t,[{key:"onDrop",value:function(e){var t=this,n=e[0],a=window.document.createElement("img"),r=window.document.createElement("canvas"),i=r.getContext("2d"),o=new window.FileReader;o.onload=function(){a.src=o.result},a.onload=function(){var e=a.width,n=a.height;e>n?e>520&&(n*=520/e,e=520):n>520&&(e*=520/n,n=520),r.width=e,r.height=n,i.drawImage(a,0,0,e,n);var o=r.toDataURL("image/png");t.setState({file:o})},o.readAsDataURL(n)}},{key:"selectPhoto",value:function(){this.dropZone.open()}},{key:"submit",value:function(){var e=this.props,t=e.setSignature,n=e.step,a=e.history,r=e.loadingOpen,i=e.loadingDismiss,o=this.state.file,s={signature:{base64:o.replace("data:image/png;base64,",""),index:1}};"form"===n&&(s.page_type="SIGNATURE"),r(),X.a.put("/open-account/existing",s).then((function(){t(o),a.push("/accounts/open/debit/review"),i()})).catch((function(){i()}))}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"render",value:function(){var e=this,t=this.state.file,n=this.props.step;return E.a.createElement(C.a,{title:"Signature"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(n){return e._form=n,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Upload a clear picture of your signature in the area below"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"d-flex justify-content-between"},E.a.createElement(Je.a,{name:"signature",form:n,className:"w-100 mb-0 dao"},E.a.createElement("div",{className:j()("drop-zone-container",{"has-file":!!t})},E.a.createElement(Zn.a,{accept:"image/jpeg, image/png",multiple:!1,onDrop:e.onDrop,ref:function(t){e.dropZone=t}},t?E.a.createElement("img",{src:t,alt:"Preview"}):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"text-center"},E.a.createElement(Qn.a,null)),"Click or drag to upload")))),t&&E.a.createElement(F.a,{color:"link",onClick:e.selectPhoto},"Upload New"))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:!t},"Next")))}})),"form"===n&&E.a.createElement(On.a,{percent:7/9*100}))}}]),t}(E.a.Component),na=Object(w.c)((function(e){var t=e.accountOpening;return ea({},t,{signature:t.signature})}),(function(e){return ea({},Object(_.b)({setSignature:Ht.v,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(ta),aa=n(1469),ra=n.n(aa),ia=n(1467),oa=n.n(ia),sa=n(136),la=n.n(sa),ca=n(1468),ua=n.n(ca),da=n(1260),pa=n.n(da);function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fa=["Personal Savings","Investment","Purchases","Allowance","Proceeds of Sale (Property/Rent)","Business Income"],ya=[{id:"us_tin",description:"US TIN"},{id:"us_phone_number",description:"US Telephone Number"},{id:"us_mailing_address",description:"US Mailing Address"}],ga=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={previousValue:{us_tin:"",us_phone_number:"",us_mailing_address:""}},e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.alertModal,a=t.history;e.alertModal.message&&!n.message&&"FATCA_ERROR"===e.alertModal.key&&a.replace("/dashboard")}},{key:"tipFormatter",value:function(e){return e?1e6===e?"PHP 1M":"PHP ".concat(e/1e3,"K"):"0"}},{key:"normalize",value:function(e){return e?e.replace(/[^0-9]/g,""):""}},{key:"validate",value:function(e,t,n){t?n():n(" ")}},{key:"validateId",value:function(e,t,n){this._form.getFieldsValue().is_not_us_citizen||t&&0!==t.trim().length?n():n("This field is required.")}},{key:"closeAlertModal",value:function(){this.props.history.replace("/dashboard")}},{key:"submit",value:function(e){var t=this,n=this.props,a=n.setAccountPurpose,r=n.step,i=n.applicationStatus,o=n.history,s=n.loadingOpen,l=n.loadingDismiss,c=n.openAlertModal,u=n.setError,d={crr:{amount:la()(e.amount).format("0.00"),purpose:e.purpose}};1===i.customer_type&&(d.fatca={is_us_citizen:!e.is_not_us_citizen},e.is_not_us_citizen&&(d.fatca[e.us_id_type]=e[e.us_id_type])),"form"===r&&(d.page_type="ACCOUNT_DETAILS"),s(),X.a.put("/open-account/existing",d,{noError:!0}).then((function(){0===i.customer_type?(a(e),"edit"===r?o.push("/accounts/open/debit/review"):o.push("/accounts/open/debit/signature")):c(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:pa.a,alt:"",height:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},"Log in to UnionBank Online Mobile App"),E.a.createElement("div",{className:"mx-md-5"},"The next part of your application will require you to take a selfie."),E.a.createElement("div",{className:"mx-md-5 my-4"},"To continue, log in to your UnionBank Online mobile app.")),{title:"",buttonLabel:"Go to Dashboard",onDismiss:t.closeAlertModal}),l()})).catch((function(e){l();var n=e.response;n&&406===n.status&&"FATCA"===n.data.error_code?t.displayFatcaError(e.message):u(e.message)}))}},{key:"displayFatcaError",value:function(e){var t=this.props,n=t.setBasicInfo,a=t.setPersonalInfo,r=t.setPresentAddress,i=t.setPermanentAddress,o=t.setFinancialInfo,s=t.setAccountPurpose,l=t.openAlertModal;n({}),a({}),r({}),i({}),o({}),s({}),l(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:ua.a,alt:"",height:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},"Additional Documents Needed"),E.a.createElement("div",{className:"mx-md-5"},e)),{key:"FATCA_ERROR",title:""})}},{key:"cancel",value:function(){this.props.history.replace("/accounts/open/debit/review")}},{key:"onFormChange",value:function(e,t,n){var a=this,i=Object.keys(e);1===i.length&&i.includes("is_not_us_citizen")&&(e.is_not_us_citizen?setTimeout((function(){oa()(a.state.previousValue[t.us_id_type])||n.setFieldsValue(ma({},a.state.previousValue))}),200):this.setState({previousValue:r()({},t.us_id_type,t[t.us_id_type])}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.crr,a=t.step,r=t.applicationStatus;return E.a.createElement(C.a,{title:"Account Details"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,onChange:this.onFormChange,formContent:function(t,i){e._form=t;var o=t.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Purpose"},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{name:"purpose",form:t,options:{initialValue:n.purpose,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Purpose of the Account"},fa.map((function(e){return E.a.createElement(bn.a.Option,{key:e,value:e},e)}))))))))),E.a.createElement(L.a,{title:"Estimated Monthly Transaction"},E.a.createElement("div",{className:"card p-3 mb-3"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{name:"amount",form:t,className:"mb-0",options:{initialValue:n.amount,rules:[{validator:e.validate}]}},E.a.createElement(ra.a,{min:0,max:1e6,step:25e3,marks:{0:"0",1e6:"1M"},tipFormatter:e.tipFormatter})),E.a.createElement("div",null,"Around PHP ".concat(la()(t.getFieldValue("amount")).format("0,0.00"))))))),1===r.customer_type&&"form"===a&&E.a.createElement(L.a,{title:"US Citizenship"},E.a.createElement(Je.a,{name:"is_not_us_citizen",form:t,options:{initialValue:!0,valuePropName:"checked"}},E.a.createElement(Bn.a,null,"I certify I am NOT a US citizen.")),!o.is_not_us_citizen&&E.a.createElement("div",{className:"card p-3 mb-3"},E.a.createElement(Je.a,{name:"us_id_type",form:t,options:{preserve:!0,rules:[{validator:e.validateId}]}},E.a.createElement(bn.a,{placeholder:"Select US record type"},ya.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)})))),"us_tin"===o.us_id_type&&E.a.createElement(Je.a,{name:"us_tin",form:t,options:{normalize:e.normalize,rules:[{validator:e.validateId}]}},E.a.createElement(Ye.a,{placeholder:"Enter US record"})),"us_phone_number"===o.us_id_type&&E.a.createElement(Je.a,{name:"us_phone_number",form:t,options:{normalize:e.normalize,rules:[{validator:e.validateId}]}},E.a.createElement(Ye.a,{placeholder:"Enter US record"})),"us_mailing_address"===o.us_id_type&&E.a.createElement(Je.a,{name:"us_mailing_address",form:t,options:{rules:[{validator:e.validateId}]}},E.a.createElement(Ye.a,{placeholder:"Enter US record"})))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===a?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:i},"edit"===a?"Update":"Next")))}})),"form"===a&&E.a.createElement(On.a,{percent:5/9*100}))}}]),t}(E.a.Component),va=Object(w.c)((function(e){var t=e.page,n=e.accountOpening;return{alertModal:t.alertModal,crr:n.crr,step:n.step,applicationStatus:n.applicationStatus}}),(function(e){return ma({},Object(_.b)({setBasicInfo:Ht.d,setPersonalInfo:Ht.r,setPresentAddress:Ht.s,setPermanentAddress:Ht.q,setFinancialInfo:Ht.j,setAccountPurpose:Ht.b,loadingOpen:ee.i,loadingDismiss:ee.h,setError:ee.y,openAlertModal:ee.n},e))}))(ga),ba=n(1224),Ea=n.n(ba),Oa=n(658),ka=n.n(Oa),wa=n(1546),_a=n(1534),Pa=n(1551),Sa=n(1472),xa=n.n(Sa),Ca=n(1473),Da=n.n(Ca),Ma=n(1708),Ta=n(2011),Aa=n(2012);function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={jumioLoading:!1},e.timeout=null,e.submitTimeout=null,e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.otp,a=t.otpClear,r=t.setSuccessMessage,i=t.successModal,o=t.confirmModal,s=t.alertModal,l=t.history;n.status&&!e.otp.status&&"DaoExisting"===n.purpose?(a(),r("Congratulations!","Your application for account opening has been successfully submitted.",n.response.message,"Go to Dashboard")):!e.successModal.status&&i.status?(l.replace("/dashboard"),this.clearData()):e.confirmModal.message&&!o.message&&o.state?"NO_JUMIO_DATA"===o.key&&(Object(ee.s)(),this.submit()):e.alertModal.message&&!s.message&&"GO_TO_DASHBOARD"===e.alertModal.key&&(l.replace("/dashboard"),this.clearData())}},{key:"getLabel",value:function(){var e="I agree to the UnionBank Debit Card ";return"GetGo Debit"===this.props.cardDetails.accountType&&(e+="and GetGo "),e+="Rewards Program "}},{key:"getTerms",value:function(){switch(this.props.productType.account_type){case"Personal Savings":return E.a.createElement(Ma.a,null);case"PlayEveryday":return E.a.createElement(Ta.a,null);case"GetGo Debit":return E.a.createElement(Aa.a,null);default:return null}}},{key:"confirmCancel",value:function(){this.props.openConfirmModal("DaoExisting","Cancel Add Account","Are you sure you want to cancel add account?")}},{key:"openTermsModal",value:function(){var e=ka.a.TabPane,t=this.props,n=t.productType;(0,t.openAlertModal)(E.a.createElement(ka.a,{defaultActiveKey:"1"},"Personal Savings"!==n.account_type&&E.a.createElement(e,{key:"1",tab:"The Program"},E.a.createElement("div",{className:"terms-container"},E.a.createElement(Pa.a,{className:"dao-review-terms dao"},E.a.createElement("div",{className:"legal-text"},this.getTerms())))),E.a.createElement(e,{key:"2",tab:"Debit Card"},E.a.createElement("div",{className:"terms-container"},E.a.createElement(Pa.a,{className:"dao-review-terms dao"},E.a.createElement("div",{className:"legal-text"},E.a.createElement(Ma.a,null)))))),{title:"Terms and Conditions",buttonLabel:"",size:"large"})}},{key:"edit",value:function(e){var t=this.props,n=t.history;(0,t.setStep)("edit"),n.push("/accounts/open/debit/".concat(e))}},{key:"logSubmitApplication",value:function(){var e=window.FB;void 0!==e&&e.AppEvents.logEvent("Submit Application")}},{key:"submit",value:function(){var e=this,t=this.props.applicationStatus;this.setState({jumioLoading:!0}),1===t.customer_type?(this.timeout=setTimeout((function(){e.getImage(),e.timeout=setTimeout((function(){e.submitTimeout&&(window.clearTimeout(e.timeout),e.timeout=null,e.getImage())}),1e4)}),1e4),this.submitTimeout=setTimeout((function(){e.submitApplication()}),3e4)):this.submitApplication()}},{key:"submitApplication",value:function(){var e=this,t=this.props,n=t.setOtp,a=t.openConfirmModal,r=t.openAlertModal,i=t.setError;window.clearTimeout(this.submitTimeout),this.submitTimeout=null,X.a.post("/open-account/existing/submit",null,{noError:!0}).then((function(t){n(ja({},t.data,{purpose:"DaoExisting",verifyUrl:"/open-account/existing/otp",resetUrl:"/open-account/existing/resend",resetParams:{request_id:t.data.request_id}})),e.setState({jumioLoading:!1})})).catch((function(t){e.setState({jumioLoading:!1});var n=t.response;if(n)switch(n.status){case 406:r(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:xa.a,alt:"",height:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},"ID Verification Failed"),E.a.createElement("div",{className:"mx-md-5"},n.data.message)),{key:ALERT_KEY,title:""});break;case 409:a("NO_JUMIO_DATA","Hang On",n.data.message,"Try Again","Not Now");break;case 429:e.displayJumioError(n.data);break;default:i(t.message)}else i(t.message)}))}},{key:"displayJumioError",value:function(e){switch(window.clearTimeout(this.submitTimeout),e.status){case"JUMIO_MISMATCH_STATUS":this.displayModal(Da.a,e.title,e.message,"","Go Back");break;case"ERROR_NOT_READABLE_ID":case"NO_ID_UPLOADED":case"ERROR_EXPIRED_ID":this.displayModal(Da.a,e.title,"Kindly access your application on your mobile device to scan again.","GO_TO_DASHBOARD","Go to Dashboard")}}},{key:"displayModal",value:function(e,t,n,a,r){this.props.openAlertModal(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:e,alt:"",height:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},t),E.a.createElement("div",{className:"mx-md-5"},n)),{key:a,title:"",buttonLabel:r})}},{key:"clearData",value:function(){var e=this.props,t=e.setBasicInfo,n=e.setPersonalInfo,a=e.setFinancialInfo,r=e.setAccountPurpose,i=e.setSignature,o=e.setStep;Object(Ht.t)({}),t({}),n({}),Object(Ht.s)({}),Object(Ht.q)({}),a({}),r({}),i(null),o("form")}},{key:"getImage",value:function(){var e=this;X.a.get("/open-account/jumio/data",{noError:!0}).then((function(){e.submitApplication()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.profile,a=t.applicationStatus,r=t.basicInfo,i=t.personalInfo,o=t.presentAddress,s=t.permanentAddress,l=t.financialInfo,c=t.crr,u=t.document_id_type,d=t.signature,p=l.status,h=l.occupation,m=l.fund_source,f=l.industry_type,y=this.state.jumioLoading;return p?E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Account Opening Details"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5 dao-review"},E.a.createElement(L.a,{title:"Review and Submit"},E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"Your Profile"),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:this.edit.bind(this,"basic-info")},"EDIT"))),E.a.createElement("div",{className:"list-group list-group-flush"},1===a.customer_type&&E.a.createElement(E.a.Fragment,null,E.a.createElement(wa.a,{label:"Salutation",className:"border-top-0"},Ea()(r.salutation)),E.a.createElement(wa.a,{label:"Name"},r.full_name)),E.a.createElement(wa.a,{label:"Birthdate",className:j()({"border-top-0":0===a.customer_type})},r.birthdate&&r.birthdate.format("MMMM D, YYYY")),E.a.createElement(wa.a,{label:"Mobile Number"},"".concat(n.country.calling_code).concat(n.mobile_number)),E.a.createElement(wa.a,{label:"Email Address"},E.a.createElement("div",null,n.email_address),E.a.createElement("div",{className:"font-weight-normal text-muted"},"A confirmation link will be sent to this email.")))),1===a.customer_type&&E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"Personal Information"),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:this.edit.bind(this,"personal-info")},"EDIT"))),E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(E.a.Fragment,null,E.a.createElement(wa.a,{label:"Nationality",className:"border-top-0"},"Filipino"),E.a.createElement(wa.a,{label:"Birthplace"},i.birthplace),i.civil_status&&E.a.createElement(wa.a,{label:"Civil Status"},i.civil_status.description),E.a.createElement(wa.a,{label:"Mother's Maiden Name"},i.mother_maiden_name)))),E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"Address"),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:this.edit.bind(this,"address")},"EDIT"))),E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"Present Address",className:j()({"border-top-0":0===a.customer_type})},o.fullAddress),s.fullAddress&&E.a.createElement(wa.a,{label:"Permanent Address"},s.fullAddress))),E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"Financial Information"),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:this.edit.bind(this,"financial-info")},"EDIT"))),E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"Status",className:"border-top-0"},p.description),!["Retired","Student"].includes(p.description)&&E.a.createElement(E.a.Fragment,null,E.a.createElement(wa.a,{label:"Source of Funds"},m&&"".concat(m.others?m.others:m.description)),E.a.createElement(wa.a,{label:"Employer / Business Name"},l.name),E.a.createElement(wa.a,{label:"Business Industry"},f&&"".concat(f.others?f.others:f.description)),E.a.createElement(wa.a,{label:"Occupation"},h.description)),"Student"!==p.description&&E.a.createElement(wa.a,{label:"ID"},E.a.createElement("div",null,l.id_type),E.a.createElement("div",null,l.id_number)),!["Retired","Student"].includes(p.description)&&E.a.createElement(wa.a,{label:"Business Address"},l.employer_address.fullAddress))),E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"Account Details"),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:this.edit.bind(this,"account-details")},"EDIT"))),E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"Purpose",className:"border-top-0"},c.purpose),E.a.createElement(wa.a,{label:"Estimated Monthly Transaction"},E.a.createElement(_a.a,{currency:"PHP"},c.amount)))),1===a.customer_type&&E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold title"},"ID Verification")),E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"ID Submitted",className:"border-top-0"},u))),E.a.createElement("div",{className:"card mb-4"},E.a.createElement("div",{className:"d-flex justify-content-between p-4"},E.a.createElement("div",{className:"font-weight-bold dao-review-title"},"Signature Specimen")),E.a.createElement("div",{className:"p-4 signature"},E.a.createElement("img",{src:d,alt:"Preview"}))),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t){return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"mt-5 px-3"},E.a.createElement("div",null,E.a.createElement(Je.a,{name:"isChecked",form:t},E.a.createElement(Bn.a,null,E.a.createElement("span",null,e.getLabel(),E.a.createElement("a",{href:"#",onClick:e.openTermsModal},"Terms and Conditons"),"."))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:!t.getFieldValue("isChecked")},"Submit")))}})))),E.a.createElement(B.a,{open:y,width:400},E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"text-primary fa fa-circle-o-notch fa-spin fa-2x"}),E.a.createElement("div",{className:"font-weight-bold my-4"},"Processing Submission of Application"),E.a.createElement("div",null,"Please wait while we verify your information."),E.a.createElement("div",null,"This may take awhile.")))):null}}]),t}(E.a.Component),Fa=Object(w.c)((function(e){var t=e.accountOpening,n=e.page,a=e.otp,r=e.settings;return ja({},t,{otp:a,alertModal:n.alertModal,confirmModal:n.confirmModal,successModal:n.successModal,profile:r.profile})}),(function(e){return Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,openAlertModal:ee.n,openConfirmModal:ee.o,resetConfirmModal:ee.s,setError:ee.y,setOtp:te.b,otpClear:te.a,setGetGoNumber:Ht.k,setProductType:Ht.t,setBasicInfo:Ht.d,setPersonalInfo:Ht.r,setPresentAddress:Ht.s,setPermanentAddress:Ht.q,setFinancialInfo:Ht.j,setAccountPurpose:Ht.b,setSignature:Ht.v,setStep:Ht.x},e)}))(Ia),Ra=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:e,component:fn}),E.a.createElement(P.b,{component:Dn,path:"".concat(e,"/basic-info")}),E.a.createElement(P.b,{component:In,path:"".concat(e,"/personal-info")}),E.a.createElement(P.b,{component:zn,path:"".concat(e,"/address")}),E.a.createElement(P.b,{component:Kn,path:"".concat(e,"/financial-info")}),E.a.createElement(P.b,{component:va,path:"".concat(e,"/account-details")}),E.a.createElement(P.b,{component:na,path:"".concat(e,"/signature")}),E.a.createElement(P.b,{component:Fa,path:"".concat(e,"/review")}))}}]),t}(E.a.Component),La=n(2013),Ba=n(2014),Va=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.productType,n=e.history;t.id||n.replace("/accounts/open")}},{key:"accept",value:function(){this.props.history.push("/accounts/open/debit/basic-info")}},{key:"render",value:function(){var e=ka.a.TabPane,t=this.props.productType;return E.a.createElement(C.a,{title:"Account Application"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(ka.a,{defaultActiveKey:"1"},E.a.createElement(e,{key:"1",tab:"DECLARATION"},E.a.createElement("div",{className:"terms-container"},E.a.createElement(Pa.a,{className:"dao"},E.a.createElement("div",{className:"legal-text"},"GETGO_DEBIT"===t.name?E.a.createElement(Ba.a,null):E.a.createElement(La.a,null))))),E.a.createElement(e,{key:"2",tab:"TERMS AND CONDITIONS"},E.a.createElement("div",{className:"terms-container"},E.a.createElement(Pa.a,{className:"dao"},E.a.createElement("div",{className:"legal-text"},E.a.createElement(Ma.a,null)))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",className:"w-wide",onClick:this.accept},"Accept"))))}}]),t}(E.a.Component),qa=Object(w.c)((function(e){return{productType:e.accountOpening.productType}}))(Va);function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ha=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.productTypes,n=e.productType,a=e.history,r=e.location,i=e.status,o=r.pathname;o.includes("/accounts/open/debit/verify-email")||!o.includes("/accounts/open/debit")||"PENDING"!==i&&(0!==t.length||n.name)||a.replace("/accounts/add")}},{key:"componentDidMount",value:function(){var e=this.props,t=e.productTypes,n=e.setProductTypes,a=e.setLoading;0===t.length&&(a(!0),X.a.get("/open-account/types",{params:{existing_dao:!0}}).then((function(e){var t=Bt()(e.data,"order"),r=Rt()(t,(function(e){return Ua({},e,{products:Bt()(e.products,"order")})}));n(r),a(!1)})).catch((function(){a(!1)})))}},{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:e,component:Wt}),E.a.createElement(P.b,{component:Ra,path:"".concat(e,"/debit")}),E.a.createElement(P.b,{component:qa,path:"".concat(e,"/terms")}))}}]),t}(E.a.Component),Ga=Object(w.c)((function(e){var t=e.accountOpening;return Ua({productTypes:t.productTypes,productType:t.productType},t.applicationStatus)}),(function(e){return Ua({},Object(_.b)({setProductTypes:Ht.u,setLoading:Ht.n},e))}))(Ha),Ya=(n(667),n(2015));function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ka=function(e){function t(e){var n;l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n)),n.state={selectedAddress:{}};var a=e.cardDetails,r=e.history;return a.deliveryAddress||r.replace("/dashboard"),n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.changeAddress()}},{key:"getFirstName",value:function(){var e=this.props.cardDetails,t="";if(e.name){var n=e.name.lastIndexOf(" ".concat(e.last_name.toUpperCase()));t=e.name.substring(0,n)}else{var a=this.getMaxLength(e.last_name);t=e.first_name&&e.first_name.substring(0,a).toUpperCase()}return t}},{key:"getMaxLength",value:function(e){var t=null;return e&&(t=19-e.length),t}},{key:"changeAddress",value:function(e){var t=this.props.cardDetails,n=t.addressType,a=t.deliveryAddress,r=x()(a,{type:n});r&&this.setState({selectedAddress:r}),e&&this.editAddress(e)}},{key:"getInitialValue",value:function(){var e=this.props.cardDetails;return e.fee_id?e.fee_id:e.account.product_fees[0].id}},{key:"editAddress",value:function(e){var t=this._form.getFieldsValue(),n=this.props.history,a=t.address_type;Tn()(e)&&(a=e),n.push("/accounts/card-request/update-address/".concat(a.toLowerCase()))}},{key:"submit",value:function(e){var t=this.props,n=t.cardDetails,a=t.setCardDetails,r=t.history;a(Xa({},n,{name:"".concat(e.first_name||n.first_name," ").concat(n.last_name).toUpperCase(),fee_id:e.fee_id})),r.push("/accounts/card-request/review")}},{key:"cancel",value:function(){this.props.history.replace("/accounts/card-request/review")}},{key:"render",value:function(){var e=this,t=this.props,n=t.step,a=t.cardDetails,r=this.state.selectedAddress,i=a.last_name,o=a.addressType,s=a.account,l=a.deliveryAddress;return l?E.a.createElement(C.a,{title:"Card Details"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,a){return e._form=t,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Name to be printed on card"},E.a.createElement("div",{className:"mb-3"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 d-flex flex-column"},E.a.createElement("div",{className:"align-self-center"},E.a.createElement(Ya.a,{form:t,firstName:e.getFirstName(),lastName:i},E.a.createElement("i",null,"Click on your name to edit"))))))),E.a.createElement(L.a,{title:"Deliver To"},E.a.createElement("div",{className:"card mb-3 p-4"},E.a.createElement("div",{className:"dao"},E.a.createElement("div",{className:"mb-3"},E.a.createElement(Je.a,{name:"address_type",form:t,options:{initialValue:o,rules:[{required:!0,message:"This field is required."}]},className:"mb-1"},E.a.createElement(bn.a,{placeholder:"Select Card Delivery",onChange:e.changeAddress},l.map((function(e){return E.a.createElement(bn.a.Option,{key:e.type,value:e.type},e.name)})))),r.fullAddress&&E.a.createElement("div",{className:"d-flex justify-content-between"},E.a.createElement("div",null,r.fullAddress),E.a.createElement("div",null,E.a.createElement("a",{href:"#",onClick:e.editAddress},"EDIT"))),r.landmark&&E.a.createElement("div",null,"Landmark: ",r.landmark)))),E.a.createElement("p",{className:"ml-2"},"Your card will be delivered in"," ",E.a.createElement("span",{className:"font-weight-bold"},"5-10 banking days"),". Accounts whose cards are unclaimed after 90 days from account opening will be temporarily frozen.")),s.product_fees&&s.product_fees.length>1&&E.a.createElement(L.a,{title:"Card Fee"},E.a.createElement("div",{className:"card mb-3 p-4"},E.a.createElement("div",{className:"mt-4"},E.a.createElement(Je.a,{name:"fee_id",form:t,options:{initialValue:e.getInitialValue(),preserve:!0,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Select Card Fee"},s.product_fees&&s.product_fees.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)}))))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===n?E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:a},"edit"===n?"Update":"Next")))}}))):null}}]),t}(E.a.Component),$a=Object(w.c)((function(e){var t=e.accountOpening;return{cardDetails:t.cardDetails,step:t.step}}),(function(e){return Xa({},Object(_.b)({setCardDetails:Ht.e,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(Ka);function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ja=function(e){function t(e){var n;l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n));var a=e.match,r=e.cardDetails,i=e.history,o=x()(r.deliveryAddress,{type:a.params.type.toUpperCase()});return o||i.replace("/dashboard"),n.state={filteredCities:[],address:o},n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.cities,a=t.provinces,r=t.setCities,i=t.setProvinces,o=this.state.address;if(0===n.length)X.a.get("/content/cities").then((function(t){r(t.data);var n=M()(t.data,{province_code:o.province.code});e.setState({filteredCities:n})}));else{var s=M()(n,{province_code:o.province.code});this.setState({filteredCities:s})}0===a.length&&X.a.get("/content/provinces").then((function(e){i(e.data)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.resetConfirmModal;"UPDATE_ADDRESS"===n.key&&!n.message&&e.confirmModal.message&&(a(),n.state&&this.proceed())}},{key:"filterCities",value:function(e,t){var n=this.props.cities,a=M()(n,{province_code:t});"city"===e&&this.setState({filteredCities:a})}},{key:"clearCity",value:function(e,t){this._form.getFieldValue(e)&&this._form.setFieldsValue(r()({},e,"")),this.filterCities(e,t)}},{key:"filterOption",value:function(e,t){return t.props.children.toUpperCase().includes(e.toUpperCase())}},{key:"normalize",value:function(e){return e?e.replace(/[^A-Z0-9a-z \(\).,-]/g,""):""}},{key:"submit",value:function(){this.props.openConfirmModal("UPDATE_ADDRESS","Address Check","Please ensure the address you provided is complete to avoid delays in card delivery.","Proceed","Edit",null,!1)}},{key:"proceed",value:function(){var e=this.props,t=e.match,n=e.cities,a=e.provinces,r=e.cardDetails,i=e.setCardDetails,o=e.history,s=this._form.getFieldsValue(),l=x()(n,{code:s.city}),c=x()(a,{code:s.province}),u=t.params.type.toUpperCase(),d={fullAddress:"".concat(s.house_number," ").concat(s.street,", ").concat(s.barangay,", ").concat(l.name,", ").concat(c.name),house_number:s.house_number,street:s.street,barangay:s.barangay,city:l,province:c,landmark:s.landmark,type:u,name:"".concat(Ea()(u)," Address")},p=[];r.deliveryAddress.forEach((function(e){e.type===d.type?p.push(d):p.push(e)})),i(Qa({},r,{deliveryAddress:p,addressType:u})),o.push("/accounts/card-request/card-details")}},{key:"cancel",value:function(){this.props.history.replace("/accounts/card-request/card-details")}},{key:"render",value:function(){var e=this,t=this.props.provinces,n=this.state,a=n.address,r=n.filteredCities;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Update Address"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(n,i){return e._form=n,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{title:"Address"},E.a.createElement("p",null,"Please confirm your your complete address. We will use this information for card delivery."),E.a.createElement("div",{className:"card mb-3 p-4"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"house_number",form:n,maxLength:14,options:{normalize:e.normalize,initialValue:a.house_number,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Unit / House No."}))),E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"street",form:n,maxLength:30,options:{normalize:e.normalize,initialValue:a.street,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Building / Street Name"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"barangay",form:n,maxLength:45,options:{normalize:e.normalize,initialValue:a.barangay,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Village / Barangay"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"province",form:n,options:{initialValue:a.province&&a.province.code,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Province",onChange:e.clearCity.bind(e,"city"),showSearch:!0,filterOption:e.filterOption},t.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"city",form:n,options:{initialValue:a.city&&a.city.code,rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"City",disabled:!!n.getFieldError("province"),showSearch:!0,filterOption:e.filterOption},r.map((function(e){return E.a.createElement(bn.a.Option,{key:e.code,value:e.code},e.name)})))))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Ye.a,{value:"Philippines",disabled:!0,addonBefore:E.a.createElement(An.a,{svg:!0,code:"ph"})}))))),E.a.createElement(L.a,{title:"Landmark"},E.a.createElement("div",{className:"card mb-3 p-4"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{name:"landmark",form:n,maxLength:50,options:{normalize:e.normalize,initialValue:a.landmark,validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Nearest Landmark",autoFocus:!0})))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(He.a,{className:"w-wide",onClick:e.cancel},"Back"),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:i},"Update")))}}))))}}]),t}(E.a.Component),er=Object(w.c)((function(e){var t=e.accountOpening,n=e.page;return{cardDetails:t.cardDetails,cities:n.cities,provinces:n.provinces,confirmModal:n.confirmModal}}),(function(e){return Qa({},Object(_.b)({setCities:ee.w,setProvinces:ee.E,setCardDetails:Ht.e,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s},e))}))(Ja),tr=n(1537),nr=n(1480),ar=n.n(nr),rr=function(e){function t(e){var n;l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n));var a=e.cardDetails,r=e.history;return a.account||r.replace("/dashboard"),n.state={selectedAddress:{},seelectedCardFee:null},n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.cardDetails;e.account&&this.setState({selectedAddress:x()(e.deliveryAddress,{type:e.addressType}),seelectedCardFee:x()(e.account.product_fees,{id:e.fee_id})})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.alertModal,a=t.history;e.alertModal.message&&!n.message&&"GO_TO_DASHBOARD"===e.alertModal.key&&(a.replace("/dashboard"),this.clearData())}},{key:"openTermsModal",value:function(){(0,this.props.openAlertModal)(E.a.createElement("div",{className:"terms-container"},E.a.createElement(Pa.a,{className:"dao-review-terms dao"},E.a.createElement("div",{className:"legal-text"},E.a.createElement(Ma.a,null)))),{title:"Terms and Conditions",buttonLabel:"",size:700})}},{key:"edit",value:function(e){var t=this.props,n=t.history;(0,t.setStep)("edit"),n.push("/accounts/card-request/".concat(e))}},{key:"submit",value:function(){var e=this,t=this.props,n=t.cardDetails,a=t.loadingOpen,r=t.loadingDismiss,i=t.openAlertModal,o=this.state.selectedAddress,s={address:{house_number:o.house_number,street:o.street,barangay:o.barangay,zip_code:o.city.code.substring(0,4),country:"204",city:o.city.code,province:o.province.code,landmark:o.landmark},card_details:{name:n.name,address_type:n.addressType,fee_id:n.fee_id}};a(),X.a.post("/card-request/".concat(n.productId),s).then((function(t){e.getNotifCountUnseen(),i(E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:ar.a,alt:"",width:"200"}),E.a.createElement("h3",{className:"font-weight-bold my-4"},"Card Delivery Request Successful"),E.a.createElement("div",{className:"mx-md-5"},E.a.createElement("p",null,t.data.message),E.a.createElement("span",null,"Please expect your card to be delivered to your indicated address in 5-10 banking days."))),{key:"GO_TO_DASHBOARD",title:"",buttonLabel:"Go to Dashboard"}),r()})).catch((function(){r()}))}},{key:"getNotifCountUnseen",value:function(){var e=this.props.updateNotificationsCount;X.a.get("/notifications/count-unseen").then((function(t){e(t.data)}))}},{key:"clearData",value:function(){var e=this.props,t=e.setCardDetails,n=e.setStep;t({}),n("form")}},{key:"render",value:function(){var e=this,t=this.props.cardDetails,n=this.state,a=n.selectedAddress,r=n.seelectedCardFee;return t.account?E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Card Request Details"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5 dao-review"},E.a.createElement(L.a,{title:"Review and Submit",actions:E.a.createElement(F.a,{size:"sm",color:"primary",onClick:this.edit.bind(this,"card-details")},"Edit")},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"Account Type",className:"border-top-0"},t.account.product_title),E.a.createElement(wa.a,{label:"Card Name"},t.name),E.a.createElement(wa.a,{label:"Deliver To"},E.a.createElement("div",{className:"mb-3"},a.fullAddress),E.a.createElement("div",null,"Landmark: ",a.landmark)),r&&E.a.createElement(wa.a,{label:"Card Fee"},r.description))),E.a.createElement("p",{className:"ml-4 mt-4"},"Note: Expect card delivery in 5-10 banking days."),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t){return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"mt-5 px-3"},E.a.createElement("div",null,E.a.createElement(Je.a,{name:"isChecked",form:t},E.a.createElement(Bn.a,null,E.a.createElement("span",null,"I agree to the UnionBank Debit Card "," ",E.a.createElement("a",{href:"#",onClick:e.openTermsModal},"Terms and Conditons"),"."))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:!t.getFieldValue("isChecked")},"Request Card Delivery")))}}))))):null}}]),t}(E.a.Component),ir=Object(w.c)((function(e){var t=e.accountOpening,n=e.page;return{cardDetails:t.cardDetails,alertModal:n.alertModal}}),(function(e){return Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,setCardDetails:Ht.e,setStep:Ht.x,updateNotificationsCount:tr.s},e)}))(rr),or=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{component:$a,path:"".concat(e,"/card-details")}),E.a.createElement(P.b,{component:er,path:"".concat(e,"/update-address/:type")}),E.a.createElement(P.b,{component:ir,path:"".concat(e,"/review")}))}}]),t}(E.a.Component),sr=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{component:Ot,path:"".concat(e,"/add")}),E.a.createElement(P.b,{component:Mt,path:"".concat(e,"/arrange")}),E.a.createElement(P.b,{component:It,path:"".concat(e,"/showhide")}),K.a.dao.existing&&E.a.createElement(P.b,{component:Ga,path:"".concat(e,"/open")}),E.a.createElement(P.b,{component:or,path:"".concat(e,"/card-request")}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),lr=(n(647),n(1194));function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dr=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={debitAccountsCount:0,debitSameCurrency:0,anotherUBPSelected:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.products;if(this.props.recipientDismiss(),e){var t=e.filter((function(e){return e.debit})).length,n=this.debitSameCurrency();this.setState({debitAccountsCount:t,debitSameCurrency:n})}}},{key:"componentDidUpdate",value:function(e){var t=this.props.products;t.length>1&&0===e.products.length&&this.setState({debitAccountsCount:t.filter((function(e){return e.debit})).length,debitSameCurrency:this.debitSameCurrency()})}},{key:"onSelectEon",value:function(){var e=this.props,t=e.match,n=e.history,a=e.eonAccountRule;a?1===a.status?n.replace("".concat(t.url,"/transfer/to-eon")):0===a.status&&this.getRules():this.getRules()}},{key:"onSelectAnotherUBP",value:function(){var e=this,t=this.props,n=t.history,a=t.match,r=t.getGoRules;r&&1===r.status?n.replace("".concat(a.url,"/transfer/to-another-ubp")):this.setState({anotherUBPSelected:!0},(function(){e.getRules()}))}},{key:"getRules",value:function(){var e=this,t=this.props,n=t.setFeatureToggleRules,a=t.loadingOpen,r=t.loadingDismiss,i=t.history,o=t.match,s=this.state.anotherUBPSelected;a(),X.a.get("/feature-toggles").then((function(t){n(t.data),r(),s?i.replace("".concat(o.url,"/transfer/to-another-ubp")):e.checkRules()}))}},{key:"checkRules",value:function(){var e=this.props,t=e.openAlertModal,n=e.eonAccountRule,a=e.history,r=e.match;0===n.status?t(n.message,{title:"Error",buttonLabel:"Got it"}):1===n.status&&a.replace("".concat(r.url,"/transfer/to-eon"))}},{key:"debitSameCurrency",value:function(){var e=this.props.products.reduce((function(e,t){var n=e;return t.debit&&(n[t.currency]=n[t.currency]?n[t.currency]+1:1),n}),{}),t=Object.keys(e).reduce((function(t,n){var a=t;return a||(a=e[n]>1),a}),!1);return!!Object.keys(e).length&&t}},{key:"render",value:function(){var e=this.props.match,t=this.state,n=t.debitAccountsCount,a=t.debitSameCurrency;return E.a.createElement(C.a,{title:"Send / Request"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Send"},E.a.createElement("ul",{className:"nav flex-column"},n>1&&a&&E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/transfer/to-own"),posticon:E.a.createElement(lr.a,null)},"Own Accounts")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectAnotherUBP,posticon:E.a.createElement(lr.a,null)},"Another UnionBank Account")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectEon,posticon:E.a.createElement(lr.a,null)},"EON Account")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/transfer/to-other-banks"),posticon:E.a.createElement(lr.a,null)},"Other Banks"))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Request"},E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/receive/request-payment"),posticon:E.a.createElement(lr.a,null)},"Request Payment")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/receive/split-bills"),posticon:E.a.createElement(lr.a,null)},"Split Bill")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/receive/qr-code"),posticon:E.a.createElement(lr.a,null)},"Generate QR Code"))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage"},E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/manage-transfer"),posticon:E.a.createElement(lr.a,null)},"Manage Transfers")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/manage"),posticon:E.a.createElement(lr.a,null)},"Manage Recipients")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/schedule"),posticon:E.a.createElement(lr.a,null)},"Manage Scheduled Transfers")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/faq"),posticon:E.a.createElement(lr.a,null)},"FAQs"))))))))}}]),t}(E.a.Component);var pr=Object(w.c)((function(e){var t=e.page,n=t.featureToggleRules;return ur({},t,{eonAccountRule:x()(n,{name:"FT_TO_EON"}),getGoRules:x()(n,{name:"FT_TO_GETGO_PESO_PLUS"})})}),(function(e){return Object(_.b)(ur({},Ce,{setFeatureToggleRules:ee.z,loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n}),e)}))(dr),hr=n(1),mr=n.n(hr),fr=n(80),yr=n.n(fr),gr=n(1201),vr=n.n(gr),br=n(1211),Er=n.n(br),Or=n(1221),kr=n.n(Or),wr=n(1559),_r=(n(1481),n(1610));function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Sr=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.resetConfirmModal,r=t.history;"PDDTS_KEY"===n.key&&n.state&&(a(),r.replace("/accounts/add"))}},{key:"onSelectInstapay",value:function(){var e=this.props,t=(e.match,e.history,e.instapayRule),n=e.setTransferFundSubType;t?1===t.status?n("instapay"):0===t.status&&this.getRules():this.getRules()}},{key:"onSelectPDDTS",value:function(){var e=this.props,t=e.pddtsRule,n=e.products,a=e.openAlertModal,r=e.openConfirmModal,i=e.setTransferFundSubType,o=x()(n,{currency:"USD",debit:!0});parseInt(yr()(t,"status"))<=0?a(yr()(t,"message")):!o&&n.length>0?r("PDDTS_KEY","Hang on!","This option is only available for USD accounts","Add USD Account","Cancel"):i("pddts")}},{key:"getRules",value:function(){var e=this,t=this.props,n=t.setFeatureToggleRules,a=t.loadingDismiss;(0,t.loadingOpen)(),X.a.get("/feature-toggles").then((function(t){n(t.data),a(),e.checkRules()}))}},{key:"checkRules",value:function(){var e=this.props,t=e.openAlertModal,n=e.instapayRule,a=e.setTransferFundSubType;e.history,e.match;0===n.status?t(n.message,{title:"Error",buttonLabel:"Got it"}):1===n.status&&a("instapay")}},{key:"render",value:function(){var e=this.props,t=(e.match,e.setTransferFundSubType),n=e.pddtsRule;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Send money via"},E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:t.bind(this,"pesonet"),posticon:E.a.createElement("div",{className:"d-flex justify-content-end"},E.a.createElement("img",{alt:"PesoNet Logo",src:vr.a,className:"align-self-end",style:{width:"72px"}}))},E.a.createElement("div",{className:"d-block"},"Receive by end of day for FREE"),E.a.createElement("small",{className:"text-muted d-block"},E.a.createElement("ul",{className:"font-weight-normal pl-4",style:{listStyleType:"disc",whiteSpace:"normal"}},wr.f.map((function(e,t){return E.a.createElement("li",{key:t},e)})))))),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectInstapay,posticon:E.a.createElement("div",{className:"d-flex justify-content-end"},E.a.createElement("img",{alt:"Instapay Logo",src:Er.a,className:"align-self-end",style:{width:"72px"}}))},E.a.createElement("div",{className:"d-block"},"Receive instantly for PHP 10"),E.a.createElement("small",{className:"text-muted d-block"},E.a.createElement("ul",{className:"font-weight-normal pl-4",style:{listStyleType:"disc",whiteSpace:"normal"}},wr.d.map((function(e,t){return E.a.createElement("li",{key:t},e)})))))),parseInt(yr()(n,"status"))>=0&&E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectPDDTS,posticon:E.a.createElement("div",{className:"d-flex justify-content-end"},E.a.createElement("img",{alt:"PDDTS Logo",src:kr.a,className:"align-self-end",style:{width:"50px"}}))},E.a.createElement("div",{className:"d-block"},"Receive by end of day for USD 1"),E.a.createElement("small",{className:"text-muted d-block"},E.a.createElement("ul",{className:"font-weight-normal pl-4",style:{listStyleType:"disc",whiteSpace:"normal"}},wr.e.map((function(e,t){return E.a.createElement("li",{key:t},e)})))))))))))}}]),t}(E.a.Component),xr=Object(w.c)((function(e){var t=e.page,n=e.router,a=e.transferFunds,i=e.product,o=t.featureToggleRules,s=x()(o,{name:"INSTAPAY"});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pddtsRule:x()(o,{name:"FT_PDDTS"}),instapayRule:s},t,{},i,{},n,{},a)}),(function(e){return Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,openConfirmModal:ee.o,resetConfirmModal:ee.s,setFeatureToggleRules:ee.z,setTransferFundSubType:_r.i},e)}))(Sr);function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Dr=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.products,a=t.edit,r=[];n&&(r=n.filter((function(t){return e.filterAccount(t)})),a||1!==r.length||this.setSourceAccount(r[0]))}},{key:"filterAccount",value:function(e){var t=this.props,n=t.transaction,a=t.type,r=t.subtype,i=t.banks,o=n.targetAccount||{number:""},s=!0;if(s&&(s=!!e.debit),s&&o.number&&(s=e.product_number!==o.number),s&&o.currency&&(s=o.currency===e.currency),s&&"to-eon"===a&&(s="PHP"===e.currency),s&&"to-other-banks"===a&&"pddts"!==r&&(s="PHP"===e.currency),s&&"to-other-banks"===a&&"pddts"===r&&(s="USD"===e.currency),s&&n&&n.target){e.product_code;var l=x()(i,{id:n.target.bank_id});l&&l.rules&&l.rules.length>0&&(s=l.rules.reduce((function(t,n){return t&&1===n.type?!n.product_code.includes(e.product_code):t}),s))}return s}},{key:"setSourceAccount",value:function(e){var t=this.props.setSourceAccount;t(e={bank_id:0,currency:e.currency,number:e.product_number,name:e.product_name,balance:e.balance,product_code:e.product_code,account_name:e.account_name})}},{key:"render",value:function(){var e=this.props.products,t=e.filter(this.filterAccount),n=0===e.length||t.length>0;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Transfer from?"},n&&E.a.createElement("p",null,"Select the account you want to transfer funds from."),n?E.a.createElement(R.a,{messages:{loading:"Loading accounts...",retry:"Accounts not loaded."},products:e.filter(this.filterAccount),onItemClick:this.setSourceAccount,unmasked:!0}):E.a.createElement("div",null,E.a.createElement("div",{className:"accounts-message"},"Sorry, none of your accounts are eligible for this feature."),E.a.createElement("div",{className:"d-flex align-items-center my-5"},E.a.createElement(F.a,{width:"wide",color:"primary",href:"/move-money",className:"m-auto"},"Back")))))))}}]),t}(E.a.Component),Mr=Object(w.c)((function(e){var t=e.transferFunds,n=e.product,a=e.page;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{products:n.products,banks:a.banks})}),(function(e){return Object(_.b)({setSourceAccount:_r.g},e)}))(Dr),Tr=n(1226),Ar=n(1608);function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=/[^\x20-\x7E]/,Fr={pesonet:"PESONet",instapay:"InstaPay",pddts:"PDDTS"},Rr=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={targetAccount:{bank_id:""},asyncValidation:!1,validatedInputs:{},countrySelect:!1,accountInfo:"",filteredCities:[],account_number_min_length:8,account_number_max_length:16,account_number_length:null,bank:{}},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.type,a=t.transaction,r=t.products,i=t.edit,o=[];"to-another-ubp"===n?this.setBankId(0):"to-eon"===n?this.setBankId(1):"to-own"===n&&r&&(o=r.filter((function(t){return e.filterAccount(t)})),i||1!==o.length||this.selectAccount(o[0])),a.target&&this.setState({targetAccount:a.target})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.countryCodes,n=e.setCoutryCodes,a=e.cities;0===t.length&&X.a.get("/content/mobile-countries").then((function(e){n(e.data)})),this.setState({filteredCities:M()(a,{province_code:this.getDefaultValue("address.province")})})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectRecipient,a=t.contactsSelected,r=t.contactsToggle,i=t.selectedRecipient,o=t.type;if(0===e.contactsSelected.length&&a.length>0){var s=a[0].mobile_number;"09"===s.substr(0,2)&&(s=s.substr(1)),this._form.setFieldsValue({mobile_number:s}),r(!1)}"to-another-ubp"!==o&&"to-eon"!==o||i&&(this._form.setFieldsValue({accountNumber:i.account_number}),n(null)),"to-other-banks"===o&&i&&(this._form.setFieldsValue({bank_id:i.bank.id,accountNumber:i.account_number,accountName:i.nickname}),n(null))}},{key:"onDiscard",value:function(){var e=this.props;(0,e.setTargetAccount)(e.transaction.target)}},{key:"onSubmit",value:function(){var e=this.state.targetAccount;this.selectAccount(e)}},{key:"onOtherBanksSubmit",value:function(e){var t=this.props,n=t.banks,a=t.subtype,r=t.cities,i=t.provinces,o=this.state.targetAccount,s=e.bank_id,l=e.accountName,c=e.accountNumber,u=e.country_id,d=e.mobile_number,p=e.email_address,h=e.remarks,m=n.filter((function(e){return parseInt(e.id)===parseInt(s)}))[0].name;if(o=jr({},o,{bank_id:s,name:l,number:c,bank_name:m,country_id:u||1,mobile_number:d||"",email_address:p||"",remarks:""}),(d||p)&&(o.remarks=h||""),"pddts"===a){var f=e.address,y=f.house_number,g=f.street,v=f.barangay,b=f.city,E=f.province,O=x()(r,{code:b}).name,k=x()(i,{code:E}).name,w="".concat(y,", ").concat(g,", ").concat(v,", ").concat(O,", ").concat(k);o.addressValues=e.address,o.address=w}this.setState({targetAccount:o},this.onSubmit)}},{key:"onOtherUbpSubmit",value:function(e){var t=this.state.targetAccount,n=e.accountNumber,a=e.country_id,r=e.mobile_number,i=e.email_address,o=e.remarks;t=jr({},t,{number:n,country_id:a||t.country_id||1,mobile_number:r||"",email_address:i||"",remarks:""}),(r||i)&&(t.remarks=o||""),this.setState({targetAccount:t},this.onSubmit)}},{key:"setBankId",value:function(e){var t=this.props.banks;this.setState((function(n){var a=n.targetAccount;return t.length&&(a.bank_id=e,a.bank_name=x()(t,["id",e]).name),{targetAccount:a}}))}},{key:"getCountry",value:function(e){var t=this.props.countryCodes,n=this.getDefaultValue("country_id"),a=e?parseInt(e):n;return x()(t,{id:a})||{code:"PH",calling_code:"+63"}}},{key:"defaultValues",value:function(){var e=this.props,t=e.type,n=e.subtype,a=e.countryCodes,r=e.transaction,i={},o=x()(a,{calling_code:"+63"}),s=r.target;return o&&(i={country_id:o.id}),s&&("to-other-banks"===t&&(i={bank_id:s.bank_id||-1,accountNumber:s.number,accountName:s.name,email_address:s.email_address,mobile_number:s.mobile_number,country_id:s.country_id,remarks:s.remarks}),"to-another-ubp"!==t&&"to-eon"!==t||(i={accountNumber:s.number,email_address:s.email_address,mobile_number:s.mobile_number,country_id:s.country_id,remarks:s.remarks}),"pddts"===n&&(i.address=s.addressValues)),i}},{key:"otherSubmit",value:function(e){var t=this.props,n=t.type,a=t.transaction,r=t.setError;a.source.number===e.accountNumber?r("Unable to transfer to same account. Please select a different account and try again."):"to-other-banks"===n?this.onOtherBanksSubmit(e):this.onOtherUbpSubmit(e)}},{key:"selectAccount",value:function(e){var t=e,n=this.props,a=n.type,r=n.setTargetAccount,i=n.setIsExistingRecipient,o=n.recipients;("to-own"===a&&(t={bank_id:0,currency:t.currency,number:t.product_number,name:t.product_name}),r&&r(t),"to-own"!==a)&&i(!!x()(o,{bank_id:parseInt(t.bank_id),account_number:t.number}));["to-own"].includes(a)&&i(!0)}},{key:"filterAccount",value:function(e){var t=this.props.transaction.source||{number:""};return e.credit&&e.product_number!==t.number&&t.currency===e.currency}},{key:"filterOption",value:function(e,t){return t.key.toUpperCase().includes(e.toUpperCase())}},{key:"toggleCountry",value:function(e){this.setState({countrySelect:!!e})}},{key:"getDefaultValue",value:function(e){var t=this.defaultValues();return yr()(t,e,null)}},{key:"loadAccountNumberLength",value:function(e){var t=this.props.banks,n=x()(t,["id",e]);this.setState((function(){return{account_number_min_length:null!=n.length?n["min-length"]:8,account_number_max_length:null!=n.length?n["max-length"]:16,account_number_length:n.length,newBank:e}}))}},{key:"validateAccountNumber",value:function(e,t,n){var a=this,r=this.props,i=r.type,o=r.getGoPesoPlusRule,s=r.openAlertModal,l=this.state,c=l.validatedInputs,u=l.targetAccount,d="to-eon"===i?{type:"EON"}:{},p="acc-".concat(t),h="Invalid target account number";void 0===c[p]?(this.setState({asyncValidation:!0}),X.a.get("products/".concat(t,"/validate/account"),{params:d,noError:!0}).then((function(e){16===t.length&&o&&0===o.status?(c[p]={message:o.message},h=o.message,s(o.message,{title:"Error",buttonLabel:"Got it"})):(c[p]=!!e.data,h=""),a.setState({validatedInputs:c,asyncValidation:!1},(function(){u.number&&1===Object.keys(c).length||(h.length>0?n(h):n())}))})).catch((function(e){c[p]=!1;var t=e.message;a.setState({validatedInputs:c,asyncValidation:!1},(function(){n(t)}))}))):c[p]?c[p].message?(s(c[p].message,{title:"Error",buttonLabel:"Got it"}),n(c[p].message)):n():n(h)}},{key:"onFormChange",value:function(e,t,n){var a=this.props,r=a.type,i=a.banks,o=a.cities;if("to-other-banks"===r&&e.bank_id){var s=x()(i,{id:parseInt(e.bank_id)}),l="";s&&(s.max_length!==s.min_length?l="Suggested account length is ".concat(s.min_length," to ").concat(s.max_length):s.max_length&&(l="Suggested account length is ".concat(s.max_length))),this.setState({accountInfo:l,bank:s})}"to-other-banks"===r&&yr()(e,"address.province")&&(n.resetFields("address.city"),this.setState({filteredCities:M()(o,{province_code:yr()(e,"address.province")})}))}},{key:"renderForm",value:function(e,t){var n=this.props,a=n.subtype,r=n.disabledBanks,i=n.filteredBanks,o=n.type,s=n.openRecipientsSidebar,l=n.contactsToggle,c=n.provinces,u=this.state,d=u.targetAccount,p=u.asyncValidation,h=u.accountInfo,m=u.filteredCities,f=u.bank,y=e.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Recipient",actions:E.a.createElement(F.a,{size:"sm",onClick:s},"Select from recipients")},"to-other-banks"===o&&E.a.createElement("p",null,"pesonet"===a&&"Select an account from your recipients list or complete\n    the details below. Please be advised that bank cut-off is only until 3:30 PM.\n    Transactions requested after the cut-off will be processed the next banking day.","instapay"===a&&"Select an account from your recipients list or\n    complete the details below. ","pddts"===a&&"Select an account from your recipients list or complete\n    the details below. Please be advised that bank cut-off is only until 2:00 PM.\n    Transactions requested after the cut-off will be processed the next banking day."),"to-another-ubp"===o&&E.a.createElement("p",null,"Select an account from your recipients list, or enter a valid 12-digit UnionBank account number or a 16-digit GetGo Prepaid card number."),"to-other-banks"===o&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Je.a,{form:e,name:"bank_id",options:{initialValue:this.getDefaultValue("bank_id"),rules:[{required:!0,message:"Bank is required"}]}},E.a.createElement(bn.a,{placeholder:"Select Bank*",onChange:this.loadAccountNumberLength},E.a.createElement(bn.a.OptGroup,{key:"eligible",label:"Eligible for ".concat(Fr[a])},i.map((function(e){var t=e.id,n=e.name;return E.a.createElement(bn.a.Option,{key:t,value:t},n)}))),E.a.createElement(bn.a.OptGroup,{key:"eotEligible",label:"Not eligible for ".concat(Fr[a])},r.map((function(e){var t=e.id,n=e.name;return E.a.createElement(bn.a.Option,{key:"d-"+t,value:t,disabled:!0},n)}))))),E.a.createElement(Je.a,{form:e,name:"accountNumber",maxLength:16,help:h,options:{initialValue:this.getDefaultValue("accountNumber"),normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},rules:[{required:!0,message:"Account number is required"},{validator:function(e,t,n){var a=f.length,r="";if(""!=t&&a&&!a.includes(t.length)){var i=a.reduce((function(e,t,n){var r=", ";return n+1===a.length&&(r=" or "),0===n&&(r=""),e+r+t}),"");r="Account number should be ".concat(i," digits long")}return!a&&t.length<8&&(r="Account number should be at least ".concat(8," digits long")),r?n(r):n()}}]}},E.a.createElement(Ye.a,{placeholder:"Enter Account Number*"})),E.a.createElement(Je.a,{form:e,name:"accountName",maxLength:50,options:{initialValue:this.getDefaultValue("accountName"),normalize:function(e){return e?e.replace(/[^0-9A-Za-z ]/g,""):""},rules:[{required:!0,message:"Account name is required"},{min:4,message:"Account name should be at least 4 characters long"}]}},E.a.createElement(Ye.a,{placeholder:"Enter Account Name*"}))),"to-another-ubp"===o&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Je.a,{form:e,name:"accountNumber",maxLength:16,options:{initialValue:this.getDefaultValue("accountNumber"),normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},validateFirst:!0,rules:[{required:!0,message:"Account number is required"},{min:12,message:"Account number should be at least 12 digits long"},{validator:this.validateAccountNumber}]}},E.a.createElement(Ye.a,{placeholder:"UnionBank Account or GetGo Prepaid Card Number*",prefix:E.a.createElement(Xe.a,{component:Tr.a}),suffix:p?E.a.createElement(Xe.a,{type:"loading"}):null}))),"to-eon"===o&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Je.a,{form:e,name:"accountNumber",maxLength:16,options:{initialValue:this.getDefaultValue("accountNumber"),normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},validateFirst:!0,rules:[{required:!0,message:"Account number is required"},{validator:this.validateAccountNumber}]}},E.a.createElement(Ye.a,{placeholder:"Enter EON Account Number*",prefix:E.a.createElement(Xe.a,{component:Tr.a}),suffix:p?E.a.createElement(Xe.a,{type:"loading"}):null}))))),"to-other-banks"===o&&"pddts"===a&&E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Recipent Address"},E.a.createElement(E.a.Fragment,null,E.a.createElement("p",null,"Please enter your recipents address"),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"address.house_number",form:e,maxLength:28,options:{normalize:function(e){return e?e.replace(/[^A-Z0-9a-z .,-/s]/g,""):""},initialValue:this.getDefaultValue("address.house_number"),validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Unit / House No.*"}))),E.a.createElement("div",{className:"col-12 col-md-3"},E.a.createElement(Je.a,{name:"address.street",form:e,maxLength:100,options:{normalize:function(e){return e?e.replace(/[^A-Z0-9a-z .,-/s]/g,""):""},initialValue:this.getDefaultValue("address.street"),validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Street Name / Building*"}))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"address.barangay",form:e,maxLength:70,options:{normalize:function(e){return e?e.replace(/[^A-Z0-9a-z .,-/s]/g,""):""},initialValue:this.getDefaultValue("address.barangay"),validateFirst:!0,rules:[{required:!0,message:"This field is required."},{whitespace:!0,message:"This field is required."}]}},E.a.createElement(Ye.a,{placeholder:"Village / Barangay*"})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"address.city",form:e,options:{initialValue:this.getDefaultValue("address.city"),rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"City*",disabled:!!e.getFieldError("address.province"),showSearch:!0,filterOption:this.filterOption},m.map((function(e){return E.a.createElement(bn.a.Option,{key:e.name,value:e.code},e.name)}))))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Je.a,{name:"address.province",form:e,options:{initialValue:this.getDefaultValue("address.province"),rules:[{required:!0,message:"This field is required."}]}},E.a.createElement(bn.a,{placeholder:"Province*",filterOption:this.filterOption,showSearch:!0},c.map((function(e){return E.a.createElement(bn.a.Option,{key:e.name,value:e.code},e.name)})))))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Ye.a,{value:"Philippines",disabled:!0,addonBefore:E.a.createElement(An.a,{svg:!0,code:"ph"})})))))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Notify Recipient",actions:E.a.createElement(F.a,{size:"sm",type:"button",onClick:l.bind(this,!0)},"Select from contacts")},E.a.createElement("p",null,"To notify the recipient, please enter their email or mobile number."),E.a.createElement(Je.a,{form:e,name:"email_address",maxLength:320,options:{initialValue:this.getDefaultValue("email_address"),rules:[{type:"email",message:"Invalid email address format"}]}},E.a.createElement(Ye.a,{placeholder:"Email Address or"})),E.a.createElement(Je.a,{form:e,name:"mobile_number",maxLength:["1",1,void 0].includes(y.country_id)?10:16,options:{initialValue:this.getDefaultValue("mobile_number"),normalize:function(e){return e?e.replace(/[^0-9]/g,""):""},rules:[{min:["1",1,void 0].includes(y.country_id)?10:0,message:"Mobile Number should be 10 digits long"}]}},E.a.createElement(Ye.a,{placeholder:"Mobile Number",addonBefore:E.a.createElement(En.a,{onClick:this.toggleCountry.bind(this,!0),country:this.getCountry(y.country_id)})})),E.a.createElement(Je.a,{form:e,name:"remarks",maxLength:256,options:{initialValue:this.getDefaultValue("remarks"),normalize:function(e){return e?e.replace(Ir,""):""}}},E.a.createElement(Ye.a,{placeholder:"Message to recipient",disabled:!(y.mobile_number||y.email_address)})))),E.a.createElement(Qe.a,{className:"my-5"},d.number?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t||p},d.number?"Update":"Next")))}},{key:"render",value:function(){var e=this,t=this.props,n=t.products,a=t.type,r=t.countryCodes,i=this.state.countrySelect,o=n.filter(this.filterAccount),s=0===n.length||o.length>0;return n=n.filter(this.filterAccount),E.a.createElement(E.a.Fragment,null,E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Transfer to?"},"to-own"===a&&s&&E.a.createElement("p",null,"Select the account you want to transfer to."),"to-own"===a&&E.a.createElement("div",null,s?E.a.createElement(R.a,{messages:{loading:"Loading accounts...",retry:"Accounts not loaded."},products:n,onItemClick:this.selectAccount,unmasked:!0}):E.a.createElement("div",null,E.a.createElement("div",{className:"accounts-message"},"No accounts available."),E.a.createElement("div",{className:"d-flex align-items-center my-5"},E.a.createElement(F.a,{uppercase:!0,width:"wide",color:"primary",href:"/move-money",className:"m-auto"},"Back")))),"to-own"!==a&&E.a.createElement(Je.b,{onSubmit:this.otherSubmit,formContent:this.renderForm,formRef:function(t){e._form=t},onChange:this.onFormChange}))))),E.a.createElement(B.a,{onDismiss:this.toggleCountry.bind(this,!1),open:i,size:"small",backdrop:!0},E.a.createElement("div",{className:"content"},E.a.createElement(Je.a,{form:this._form,name:"country_id",options:{preserve:!0,initialValue:this.getDefaultValue("country_id")}},E.a.createElement(bn.a,{className:"w-100",placeholder:"Select Country",onChange:this.toggleCountry.bind(this,!1)},r.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},E.a.createElement(An.a,{code:e.code})," ",e.name)})))))))}}]),t}(E.a.Component),Lr=Object(w.c)((function(e){var t=e.page,n=e.transferFunds,a=e.product,r=e.recipients,i=e.contacts,o=[],s=t.banks,l=t.featureToggleRules,c=n.transaction,u=n.type,d=n.subtype,p=a.products,h=Object(Ne.p)(u,d),m=s,f=x()(l,{name:"FT_TO_GETGO_PESO_PLUS"});if(c.source&&s.length>0){var y=c.source.product_code;m=s.filter((function(e){var t=!0;return e.rules&&e.rules.length>0&&(t=e.rules.reduce((function(e,t){var n=e;return n&&1===t.type&&(n=!t.product_code.includes(y)),n}),t)),t||o.push(e),t}))}return"to-other-banks"===u&&(m=s.filter((function(e){var t=e.id;return(t=Object(wr.h)(e,h))||o.push(e),t}))),jr({},t,{},n,{},r,{},i,{filteredBanks:m,products:p,disabledBanks:o,getGoPesoPlusRule:f})}),(function(e){return Object(_.b)({setCoutryCodes:ee.x,setTargetAccount:_r.h,setIsExistingRecipient:Ce.setIsExistingRecipient,contactsToggle:Ar.c,setError:ee.y,openAlertModal:ee.n,loadingOpen:ee.i,loadingDismiss:ee.h},e)}))(Rr),Br=(n(1574),n(661),n(1560)),Vr=n(1545);function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ur=/[!@#$%^&*'\n]/g,Hr=/[^\x20-\x7E]/,Gr=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"onSubmit",value:function(e){var t=e,n=this.props,a=n.setAmountDetails,r=n.typeId,i=e.amount,o=Object(Vr.a)(i);t.amount=o,t.typeId=r,t.date=Le()(t.date).format("YYYY-MM-DD"),t.end_date&&(t.end_date=Le()(t.end_date).format("YYYY-MM-DD")),"never"===t.select_end_date&&(t.end_date=null),a(t)}},{key:"onDiscard",value:function(){var e=this.props,t=e.setAmountDetails,n=e.transaction,a=e.typeId;t&&t(zr({},n,{typeId:a}))}},{key:"offsetDate",value:function(e,t){var n=Le()(e);switch("".concat(t)){case"30":n.add(1,"month");break;case"90":n.add(3,"month");break;case"180":n.add(6,"month");break;case"365":n.add(1,"year");break;default:n.add(parseInt(t),"day")}return n}},{key:"getDefaultValues",value:function(e){var t=this.props,n=t.transaction,a=t.type,r=t.subtype,i={date:n.date?Le()(n.date):Le()(),repeat:n.repeat||!1,frequency_id:n.frequency_id||1,end_date:n.end_date?Le()(n.end_date):null,amount:n.amount||null,remarks:n.remarks||null,purpose_id:"to-other-banks"===a&&n.purpose_id||null,purpose_text:"to-other-banks"===a?n.purpose_text:"",select_end_date:n.end_date?"date":"never"};return"pesonet"===r&&""===i.purpose_id&&(i.purpose_id=0),e?i[e]:i}},{key:"onFormChange",value:function(e,t,n){var a=this,r=Object.keys(e),i=t.frequency_id||1;1===r.length&&(null===e.end_date&&n.setFieldsValue({select_end_date:"never"}),e.date&&t.repeat&&n.setFieldsValue({end_date:this.offsetDate(t.date,i)}),e.frequency_id&&t.end_date&&n.setFieldsValue({end_date:this.offsetDate(t.date,i)}),"date"===e.select_end_date&&setTimeout((function(){n.setFieldsValue({end_date:a.offsetDate(t.date,i)})}),500))}},{key:"renderForm",value:function(e,t){var n=this,a=this.props,r=a.frequencies,i=a.type,o=a.purposes,s=a.transaction,l=a.subtype,c=!["instapay","pddts"].includes(l),u=!["instapay","pddts"].includes(l),d=e.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 ".concat(c?"col-lg-6":"col-lg-12")},E.a.createElement(Je.a,{form:e,hideLimit:!0,name:"amount",maxLength:16,options:{initialValue:this.getDefaultValues("amount"),normalize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(Vr.d)(e)},rules:[{required:!0,message:"Amount is Required"},{validator:function(e,t,n){var a=Object(Vr.a)(t);a<=0?n("Invalid Amount"):s.source&&s.source.balance&&a>parseFloat(s.source.balance)?n("Amount is greater than your current balance"):"to-other-banks"===i&&"pesonet"===l&&"PHP"===s.currency&&la()(a).value()&&la()(a).value()<200?n("Amount should be at least ".concat(s.currency," ").concat(la()(200).format("0.00"))):"to-other-banks"===i&&"pddts"===l&&la()(a).value()&&la()(a).value()<10?n("Amount should be at least ".concat(s.currency," ").concat(la()(10).format("0"),".")):"to-other-banks"===i&&"pddts"===l&&la()(a).value()&&la()(a).value()>1e4?n("Amount must not be over ".concat(s.currency," ").concat(la()(1e4).format("0,0.00"))):n()}}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,s.currency)}))),c&&E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"date",options:{initialValue:this.getDefaultValues("date"),rules:[{required:!0,message:"Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"Date",disabledDate:function(e){return e.isBefore(Le()(),"day")}})))),u&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"repeat",options:{preserve:!0,valuePropName:"checked",initialValue:this.getDefaultValues("repeat")}},E.a.createElement(Bn.a,null,"Repeat")))),d.repeat&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"frequency_id",options:{preserve:!0,initialValue:this.getDefaultValues("frequency_id"),rules:[{required:!0,message:"Frequency is Required"}]}},E.a.createElement(bn.a,{placeholder:"Select Frequency"},r.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.name)}))))),E.a.createElement("div",{className:"col col-12 col-lg-6"},("never"===d.select_end_date||!d.select_end_date)&&E.a.createElement(Je.a,{form:e,name:"select_end_date",options:{preserve:!0,initialValue:this.getDefaultValues("select_end_date"),rules:[{required:!0,message:"End Date is Required"}]}},E.a.createElement(bn.a,{placeholder:"Select Frequency"},E.a.createElement(bn.a.Option,{value:"never"},"Never"),E.a.createElement(bn.a.Option,{value:"date"},"Select End Date"))),"date"===d.select_end_date&&E.a.createElement(Je.a,{form:e,name:"end_date",options:{preserve:!0,initialValue:this.getDefaultValues("end_date"),rules:[{required:!0,message:"End Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"End Date",disabledDate:function(e){var t=Le()();return d.date&&(t=n.offsetDate(d.date,d.frequency_id)),e.isBefore(t,"day")}})))),"to-other-banks"===i&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"purpose_id",options:{initialValue:this.getDefaultValues("purpose_id"),rules:[{required:!0,message:"Purpose is Required"}]}},E.a.createElement(bn.a,{placeholder:"Select Purpose*"},o.map((function(e){return E.a.createElement(bn.a.Option,{key:e.value,value:e.value},e.name)})))))),"to-other-banks"===i&&0===parseInt(d.purpose_id)&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"purpose_text",maxLength:255,options:{initialValue:this.getDefaultValues("purpose_text"),normalize:function(e){return e?e.replace(Ur,""):""},rules:[{required:!0,message:"Purpose Text is Required"}]}},E.a.createElement(Ye.a,{placeholder:"Leave a Purpose*"})))),"to-own"===i&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"remarks",maxLength:256,options:{preserve:!0,initialValue:this.getDefaultValues("remarks"),normalize:function(e){return e?e.replace(Hr,""):""}}},E.a.createElement(Ye.a,{placeholder:"Note"}))))),E.a.createElement(Qe.a,{className:"my-5"},s.amount?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},s.amount?"Update":"Next")))}},{key:"render",value:function(){return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Transfer details"},E.a.createElement("p",null,"Fill in the required details below."),E.a.createElement(Je.b,{onSubmit:this.onSubmit,onChange:this.onFormChange,formContent:this.renderForm})))))}}]),t}(E.a.Component),Yr=Object(w.c)((function(e){var t=e.page,n=e.transferFunds,a=n.type,r=n.subtype,i=Object(Ne.p)(a,r),o=t.purposes,s={pesonet:!0};return"to-other-banks"===a&&(i===wr.b.PesoNet&&(s={pesonet:!0}),i===wr.b.InstaPay&&(s={instapay:!0}),i===wr.b.PDDTS&&(s={pddts:!0}),o=M()(o,s).map((function(e){return{value:e.id,name:e.description}})).sort((function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0}))),zr({},t,{},n,{purposes:o,typeId:i})}),(function(e){return Object(_.b)({setAmountDetails:_r.d},e)}))(Gr),Wr=n(1748);function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $r=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={isScheduled:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.setServiceFee()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.otpClear,a=t.loadingOpen,r=t.dismissConfirmModal,i=t.cancelTransaction,o=t.status,s=t.verifyUrl,l=t.response,c=t.otp,u=t.purpose,d=t.confirmModal,p=t.token,h=t.otherBankWarningWaived;s===(c?"/otp/".concat(c.id,"/grant"):"")&&o&&l&&"TF"===u&&(a(),n(),this.onSuccessfulOtp(l)),d.state&&"cancelFundTransfer"===d.key&&(i(),r()),!e.otherBankWarningWaived&&h&&p&&this.submit()}},{key:"setServiceFee",value:function(){var e=this,t=this.props,n=t.transaction,a=t.loadingOpen,r=t.loadingDismiss,i=t.setAmountDetails,o=la()(n.amount).value(),s=n.type;if(!n.amount)return!1;a(),X.a.post("/fund-transfer/validate",Kr({},n)).then((function(t){r();var a=t.data,l=a.service_fee,c=Kr({},n,{typeId:s,serviceFee:l,totalAmount:l+o});i(c),e.sameTransaction(a)})).catch((function(){r()}))}},{key:"confirmCancel",value:function(){(0,this.props.openConfirmModal)("cancelFundTransfer","Cancel Transfer","Do you wish to cancel this transfer?")}},{key:"onSuccessfulOtp",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.transaction,o=n.loadListOfProducts;a(),X.a.post("/fund-transfer",[i],{"X-Grant-Token":e.token}).then((function(e){t.setFundTransferResult(e.data[0]),t.updateNotifications(),o(),r()})).catch((function(){r()}))}},{key:"setFundTransferResult",value:function(e){var t=e,n=this.props,a=n.setResult,r=n.loadingDismiss,i=n.setError,o=this.state.isScheduled;200===t.result.code?t.resultMessage=o?"Transfer Scheduled Successfully":"Transfer Successful":t.resultMessage="Transfer Failed",200!==t.result.code&&(i(t.result.errors[0].message),t.errorMessage=t.result.errors[0].message),a(t),r()}},{key:"submit",value:function(){var e=this,t=this.props,n=t.loadingOpen,a=t.loadingDismiss,r=t.toggleOtherBankWarningModal,i=t.otherBankWarningWaived,o=t.otherBankWarning,s=t.type,l=t.subtype,c=t.transaction,u=t.setOtp,d=t.loadListOfProducts,p=Le()(c.date).format("MMDDYY")>Le()().format("MMDDYY");this.setState({isScheduled:p}),i||!o||"to-other-banks"!==s||"pesonet"!==l&&"pddts"!==l?(n(),"to-other-banks"!==s&&(c.purpose_id=0),X.a.post("/fund-transfer",[c]).then((function(t){a(),"to-other-banks"===s&&r(!1,!1),202===t.status?u(Kr({verifyUrl:"/otp/".concat(t.data.id,"/grant")},t.data,{purpose:"TF"})):(e.setFundTransferResult(t.data[0]),d(),e.updateNotifications(),a())})).catch((function(){a()}))):r(o)}},{key:"updateNotifications",value:function(){var e=this.props.updateNotificationsCount;X.a.get("/notifications/count-unseen",{noError:!0}).then((function(t){e(t.data)}))}},{key:"addRecipient",value:function(){var e=this.props,t=e.showRecipientsForm,n=e.setRecipient,a=e.transaction;n({bank_id:a.target_bank.id,account_number:a.target.number},!0),t(!0)}},{key:"getSubmitButtonLabel",value:function(){var e=this.props.transaction;return E.a.createElement("span",null,"Transfer ",E.a.createElement(_a.a,{transparentTag:!0,currency:e.currency},e.amount),e.service_fee>0?" + ":"",e.service_fee>0&&E.a.createElement(_a.a,{transparentTag:!0,currency:e.currency},e.service_fee),e.service_fee>0&&" Fee")}},{key:"handleEdit",value:function(e){(0,this.props.editTransaction)(e.name)}},{key:"sameTransaction",value:function(e){var t=this.props,n=t.openAlertModal,a=t.transaction,r=e.target;e.has_same_transaction&&n(E.a.createElement("div",null,E.a.createElement("p",null,"We are just letting you know that you made a similar transfer in the past 24 hours."),E.a.createElement("div",{className:"alert alert-dark border-0"},!!r.name&&0!==a.type&&E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},[1,2].includes(a.type)?"Alias":"Account Name",":"),E.a.createElement("div",{className:"col"},r.name)),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Bank Name:"),E.a.createElement("div",{className:"col"},r.bank)),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Account Number:"),E.a.createElement("div",{className:"col"},Object(Ne.b)(r.account_number))),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Amount:"),E.a.createElement("div",{className:"col"},r.currency," ",la()(r.amount).format("0,0.00"))),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Reference Number:"),E.a.createElement("div",{className:"col"},r.reference_number))),E.a.createElement("p",{className:"m-0"},"You can proceed or cancel this transfer on the next screen.")),{buttonLabel:"Got it"})}},{key:"render",value:function(){var e=this.props,t=e.transaction,n=e.step,a=e.frequencies,r=e.purposes,i=e.isExistingRecipient,o=e.countryCodes,s="review"===n?"Review and Transfer":t.resultMessage;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:s,actions:"result"===n?E.a.createElement(F.a,{href:"/move-money",size:"sm"},"New Transaction"):null},t.errorMessage&&E.a.createElement("p",null,t.errorMessage),E.a.createElement(Wr.a,{frequencies:a,purposes:r,type:"transfer-funds",result:"result"===n,editable:{source:!0,target:!0,details:!0},onEdit:this.handleEdit,request:t,countryCodes:o}),"review"===n&&E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{width:"wide",type:"reset",onClick:this.confirmCancel},"Cancel"),E.a.createElement(F.a,{width:"wide",color:"primary",onClick:this.submit},this.getSubmitButtonLabel())),"result"===n&&!i&&t.ref_number&&E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{color:"primary",onClick:this.addRecipient},"Add to My Recipients"))))))}}]),t}(E.a.Component),Zr=Object(w.c)((function(e){var t=e.page,n=e.otp;return Kr({},t,{},n,{},e.transferFunds,{},e.recipients,{otp:n})}),(function(e){return Kr({},Object(_.b)({setOtp:te.b,otpClear:te.a,setError:ee.y,setResult:_r.e,loadingOpen:ee.i,setRecipient:Ce.setRecipient,openAlertModal:ee.n,loadingDismiss:ee.h,editTransaction:_r.c,setAmountDetails:_r.d,openConfirmModal:ee.o,cancelTransaction:_r.a,showRecipientsForm:Ce.showRecipientsForm,loadListOfProducts:Q.loadListOfProducts,updateNotificationsCount:tr.s,toggleOtherBankWarningModal:ee.Q,setFeatureToggleRules:ee.z,dismissConfirmModal:function(){return Object(ee.d)(!1)}},e))}))($r),Qr=n(2139),Jr=n(1626),ei=n(1645);function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ni=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={toggle:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"close",value:function(){(0,this.props.neverShow)(this.state.toggle)}},{key:"proceed",value:function(){(0,this.props.neverShow)(this.state.toggle,!0)}},{key:"render",value:function(){var e=this.props,t=e.otherBankWarningModal,n=e.subtype;return E.a.createElement(B.a,{open:t,backdrop:"static",size:"medium",title:"Important"},E.a.createElement("div",{className:"px-4 px-lg-5"},"pesonet"===n&&E.a.createElement(Jr.a,null),"pddts"===n&&E.a.createElement(ei.a,null)),E.a.createElement("div",{className:"footer"},E.a.createElement(Qe.a,null,E.a.createElement(F.a,{color:"alternate",onClick:this.close,width:"full"},"Cancel"),E.a.createElement(F.a,{color:"primary",onClick:this.proceed,width:"full"},"Proceed With Transfer"))))}}]),t}(E.a.Component),ai=Object(w.c)((function(e){var t=e.page;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.transferFunds,{},t)}),(function(e){return{neverShow:function(t,n){t&&X.a.put("/fuser/settings/other-bank-warning/disable").then((function(){sessionStorage.setItem("otherBankWarning",!1),e(Object(ee.p)())})).catch((function(){sessionStorage.setItem("otherBankWarning",!1),e(Object(ee.p)())})),e(Object(ee.Q)(!1,n))}}}))(ni);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oi=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={selectedRecipient:null,recipientsSidebarOpen:!1,recipient:{}},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setTransferFundType,n=e.subtype,a=e.match;e.scheduledStep||t(a.params.type,n)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.history,n=(e.path,e.step),a=e.transaction,r=e.clearTransaction,i=e.cancelTransaction,o=e.location,s=e.match,l="".concat(s.url,"/").concat(n),c=o.pathname;!a.source&&c.match(/(result|review)/g)?t.replace("/move-money"):l!==c&&t.replace(l),i&&(r(),t.replace("/move-money"))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.showRecipientsForm,n=e.clearTransaction;t(!1),n()}},{key:"selectRecipient",value:function(e){this.setState({selectedRecipient:e,recipientsSidebarOpen:!1})}},{key:"openRecipientsSidebar",value:function(){this.setState({recipientsSidebarOpen:!0})}},{key:"dismissRecipientsSidebar",value:function(){this.setState({recipientsSidebarOpen:!1})}},{key:"onSaveContact",value:function(e){var t=this.props.setAddRecipientsStatus;t({addRecipientStatus:"pending",openRecipientsForm:!0,isExistingRecipient:!1}),X.a.post("/recipients",e).then((function(){t({addRecipientStatus:"success",openRecipientsForm:!1,isExistingRecipient:!0})})).catch((function(){t({addRecipientStatus:"failed",openRecipientsForm:!1,isExistingRecipient:!1})}))}},{key:"sideBarDismiss",value:function(){(0,this.props.showRecipientsForm)(!1)}},{key:"getFundTransferLabel",value:function(){var e=this.props,t=(e.type,e.subtype),n=null;switch(e.match.params.type){case"to-own":n="To Own";break;case"to-other-banks":switch(t){case"pesonet":n="To Other Banks via PesoNet";case"instapay":n="To Other Banks via InstaPay";default:n="To Other Banks"}break;case"to-another-ubp":n="To Another UnionBank Account";break;case"to-eon":n="To EON Account"}return n}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.openRecipientsForm,r=t.addRecipientStatus,i=t.type,o=t.subtype,s=this.state,l=s.recipientsSidebarOpen,c=s.selectedRecipient,u=s.recipient,d=this.getFundTransferLabel();return E.a.createElement(C.a,{title:"Send",subtitle:d},E.a.createElement(Pa.a,{autoResetScroll:!0},E.a.createElement(P.b,{path:"".concat(n.url,"/type"),component:xr}),E.a.createElement(P.b,{path:"".concat(n.url,"/from"),component:Mr}),E.a.createElement(P.b,{path:"".concat(n.url,"/to"),render:function(t){return E.a.createElement(Lr,mr()({openRecipientsSidebar:e.openRecipientsSidebar,selectedRecipient:c,selectRecipient:e.selectRecipient},t))}}),E.a.createElement(P.b,{path:"".concat(n.url,"/amount"),component:Yr}),E.a.createElement(P.b,{path:"".concat(n.url,"/(review|result)"),component:Zr})),E.a.createElement(Se.a,{header:"Add a New Recipient",open:a,className:"transaction-details",direction:"right",onDismiss:this.sideBarDismiss},E.a.createElement(xe.a,{item:u,onSave:this.onSaveContact,status:r,fixedDetails:!0})),E.a.createElement(Qr.a,{subtype:o,type:i,open:l,onDismiss:this.dismissRecipientsSidebar,selectRecipient:this.selectRecipient}),E.a.createElement(ai,null))}}]),t}(E.a.Component),si=Object(w.c)((function(e){return ii({},e.recipients,{},e.transferFunds)}),(function(e){return ii({},Object(_.b)({clearTransaction:_r.b,showRecipientsForm:Ce.showRecipientsForm,setTransferFundType:_r.j,setAddRecipientsStatus:Ce.setAddRecipientsStatus},e))}))(oi),li=n(42),ci=n.n(li),ui=n(1618),di=n(1568),pi=n(1544),hi=n(1210);function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yi="Transfer Funds - View Scheduled Transfers",gi=[{label:"Account Name",width:"17.5%",data:function(e){return e.target.name||"---"}},{label:"Bank",width:"17.5%",data:function(e){return e.target.type}},{label:"Account Number",width:"15%",data:function(e){return Object(Ne.y)(e.target.number)}},{label:"Next Transfer On",width:"17.5%",data:function(e){return Le()(e.next_transfer_at).format("MMM DD, YYYY")}},{label:"Repeat",width:"17.5%",data:function(e){return(e.frequency?e.frequency.name:"")+(e.end_date?" Until ".concat(Le()(e.end_date).format("MMM DD, YYYY")):"")}},{label:"Amount",width:"15%",align:"right",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}}],vi=[{label:"Sent Via",data:function(e){if(![wr.b.PesoNet,wr.b.InstaPay,wr.b.QrInstaPay].includes(e.type))return!1;var t=null;return 3===e.type?t=vr.a:4===e.type&&(t=Er.a),E.a.createElement("div",null,E.a.createElement("div",{className:"d-flex justify-content-start mb-2"},E.a.createElement("img",{src:t,alt:"",className:"align-self-end",style:{width:"72px"}})))}},{label:"From Account",data:function(e){return E.a.createElement(pi.a,{toggleable:!0,number:e.source.number},e.source.name)}},{label:"To Account",data:function(e){return E.a.createElement("div",null,E.a.createElement(pi.a,{description:[wr.b.PesoNet,wr.b.InstaPay].includes(e.type)&&e.target.type,number:e.target.number}),e.target.mobile_number&&E.a.createElement("div",{className:"font-weight-normal"},e.target.mobile_number),e.target.email_address&&E.a.createElement("div",{className:"font-weight-normal"},e.target.email_address))}},{label:"Amount",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}},{label:"Repeat",data:function(e){return e.frequency?e.frequency.name:""}},{label:"Next Transfer Date",data:function(e){return Le()(e.next_transfer_at).format("MMMM DD, YYYY")}},{label:"End Date",data:function(e){return Le()(e.end_date).format("MMMM DD, YYYY")}},{label:"Purpose",data:function(e){return e.purpose_text}},{label:function(e){return e.type!==wr.g.Own?"Message":"Note"},data:function(e){return e.remarks}}],bi=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={detailsOpen:!1,fundTransferSchedules:[],filteredFundTransferSchedules:[],selectedTransaction:null,hasMore:!0,loading:!1,searchTerm:"",transactionForCancellation:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.resetConfirmModal;t.key===yi&&t.state&&(this.onDelete(),n())}},{key:"componentWillUnmount",value:function(){this.setState({detailsOpen:!1,fundTransferSchedules:[],filteredFundTransferSchedules:[],selectedTransaction:null})}},{key:"onTransactionRequest",value:function(e){var t=this.state,n=t.fundTransferSchedules,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight;if(!r&&a&&o-(s+l)<50){var c=n[n.length-1];c&&a&&this.fetchData({offset_id:c.id})}}},{key:"onSearch",value:function(e){this.setState({searchTerm:e||""},this.filterFundTransferSchedules)}},{key:"onTransactionSelect",value:function(e){this.closeNotificationSidebar(),this.setState({detailsOpen:!0,selectedTransaction:e})}},{key:"onTransactionCancel",value:function(e){this.setState({transactionForCancellation:e}),this.props.openConfirmModal(yi,"Hang on","Are you sure you want to cancel this scheduled transfer?")}},{key:"onTransactionActionsMenuHide",value:function(){this.setState({detailsOpen:!1,selectedTransaction:null})}},{key:"onDelete",value:function(){var e=this,t=this.state.transactionForCancellation;X.a.delete("fund-transfer/transactions/scheduled/"+t.id).then((function(){e.setState({fundTransferSchedules:[],filteredFundTransferSchedules:[],transactionForCancellation:null}),e.fetchData()}))}},{key:"fetchData",value:function(){var e=this;this.setState({loading:!0,filteredFundTransferSchedules:[]}),X.a.get("fund-transfer/transactions/scheduled").then((function(t){var n=e.state.fundTransferSchedules,a=t.data;a.length>0?e.setState({fundTransferSchedules:[].concat(ci()(n),ci()(a)),hasMore:a.length>=10,loading:!1}):e.setState({hasMore:!1,loading:!1}),e.filterFundTransferSchedules()})).catch((function(){e.setState({loading:!1})}))}},{key:"filterFundTransferSchedules",value:function(){var e=this.state,t=e.fundTransferSchedules,n=e.searchTerm.toLowerCase(),a=t.filter((function(e){return e.amount.toLowerCase().includes(n)||e.ref_number.toLowerCase().includes(n)||e.source&&e.source.name.toLowerCase().includes(n)||e.source&&e.source.number.toLowerCase().includes(n)||e.frequency&&e.frequency.name.toLowerCase().includes(n)||e.next_transfer_at.toLowerCase().includes(n)}));this.setState({filteredFundTransferSchedules:a,detailsOpen:!1})}},{key:"handleOptionClick",value:function(e){var t=e.item;switch(e.name){case"delete":this.onTransactionCancel(t)}}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"render",value:function(){var e=this.state,t=e.detailsOpen,n=e.filteredFundTransferSchedules,a=e.selectedTransaction,r=e.loading;return E.a.createElement(C.a,{title:yi},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Scheduled Transfers",actions:K.a.scheduledTransfer&&E.a.createElement(F.a,{size:"sm",href:"/move-money/schedule-content"},"Add")},E.a.createElement(di.a,{className:"transfer-funds-schedule",loading:r,items:n,tableFields:gi,onOptionClick:this.handleOptionClick,selectAction:this.onTransactionSelect,searchBoxOnFocus:this.onTransactionActionsMenuHide,operations:[{name:"delete",style:{width:"50px"},render:function(){return E.a.createElement(hi.a,null)}}],searchAction:this.onSearch,selected:a,searchPlaceholder:"Search Scheduled Fund Transfers",emptyMessage:"No scheduled transfers available"}))))),E.a.createElement(ui.a,{transaction:a,detailsFields:vi,open:t,title:"Scheduled Transfer",leftButtonAction:"close",onDismiss:this.onTransactionActionsMenuHide},a&&a.type===wr.b.PesoNet&&E.a.createElement("div",{className:"p-3 m-3"},E.a.createElement(Jr.a,{isSuccess:!0}))))}}]),t}(E.a.Component),Ei=Object(w.c)((function(e){return fi({},e.page)}),(function(e){return fi({},Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,closeNotifItem:tr.b,closeNotifs:tr.c},e))}))(bi);function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wi=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={debitAccountsCount:0,debitSameCurrency:0,anotherUBPSelected:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products,n=e.setScheduledStep;if(this.props.recipientDismiss(),t){var a=t.filter((function(e){return e.debit})).length,r=this.debitSameCurrency();this.setState({debitAccountsCount:a,debitSameCurrency:r})}n(!0)}},{key:"componentDidUpdate",value:function(){var e=this.props.products;!e&&this.state.debitSameCurrency||this.setState({debitAccountsCount:e.filter((function(e){return e.debit})).length,debitSameCurrency:this.debitSameCurrency()})}},{key:"onSelectEon",value:function(){var e=this.props,t=e.match,n=e.history,a=e.eonAccountRule;a?1===a.status?n.replace("".concat(t.url,"/transfer/to-eon")):0===a.status&&this.getRules():this.getRules()}},{key:"onSelectAnotherUBP",value:function(){var e=this,t=this.props,n=t.history,a=t.match,r=t.getGoRules;r&&1===r.status?n.replace("".concat(a.url,"/transfer/to-another-ubp")):this.setState({anotherUBPSelected:!0},(function(){e.getRules()}))}},{key:"getRules",value:function(){var e=this,t=this.props,n=t.setFeatureToggleRules,a=t.loadingOpen,r=t.loadingDismiss,i=t.history,o=t.match,s=this.state.anotherUBPSelected;a(),X.a.get("/feature-toggles").then((function(t){n(t.data),r(),s?i.replace("".concat(o.url,"/transfer/to-another-ubp")):e.checkRules()}))}},{key:"checkRules",value:function(){var e=this.props,t=e.openAlertModal,n=e.eonAccountRule,a=e.history,r=e.match;0===n.status?t(n.message,{title:"Error",buttonLabel:"Got it"}):1===n.status&&a.replace("".concat(r.url,"/transfer/to-eon"))}},{key:"debitSameCurrency",value:function(){var e=this.props.products.reduce((function(e,t){var n=e;return t.debit&&(n[t.currency]=n[t.currency]?n[t.currency]+1:1),n}),{}),t=Object.keys(e).reduce((function(t,n){var a=t;return a||(a=e[n]>1),a}),!1);return!!Object.keys(e).length&&t}},{key:"sendViaPesonet",value:function(){var e=this.props,t=e.history,n=e.match,a=e.setTransferFundSubType;(0,e.setTransferFundType)("to-other-banks","pesonet"),a("pesonet"),t.replace("".concat(n.url,"/transfer/to-other-banks/from"))}},{key:"render",value:function(){var e=this.props.match,t=this.state,n=t.debitAccountsCount,a=t.debitSameCurrency;return E.a.createElement(C.a,{title:"TRANSFER FUNDS",subtitle:"Schedule Transfer"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Send"},E.a.createElement("ul",{className:"nav flex-column"},n>1&&a&&E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/transfer/to-own"),posticon:E.a.createElement(lr.a,null)},"Own Accounts")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectAnotherUBP,posticon:E.a.createElement(lr.a,null)},"Another UnionBank Account")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.onSelectEon,posticon:E.a.createElement(lr.a,null)},"EON Account")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.sendViaPesonet,posticon:E.a.createElement(lr.a,null)},"Other Banks via",E.a.createElement("img",{src:vr.a,alt:"",className:"align-self-end pl-2",style:{width:"72px"}})))))))))}}]),t}(E.a.Component);var _i=Object(w.c)((function(e){var t=e.page,n=e.transferFunds,a=t.featureToggleRules;return ki({},t,{eonAccountRule:x()(a,{name:"FT_TO_EON"}),getGoRules:x()(a,{name:"FT_TO_GETGO_PESO_PLUS"})},n)}),(function(e){return Object(_.b)(ki({},Ce,{setFeatureToggleRules:ee.z,loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,setTransferFundSubType:_r.i,setTransferFundType:_r.j,setScheduledStep:_r.f}),e)}))(wi),Pi=(n(1563),n(1647)),Si=n(1198),xi=n(1202);function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Di="Send / Request - Manage Recipients",Mi=[{label:"Account Name",data:function(e){return e.nickname},width:"35%"},{label:"Bank Name",data:function(e){return e.bank?e.bank.name:""},width:"35%"},{label:"Account Number",data:function(e){return Object(Ne.y)(e.account_number)},width:"30%"}],Ti=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={authSidebarOpen:!1,fundTransferRecipients:[],filteredFundTransferRecipients:[],editRecipients:null,addRecipients:null,itemForDelete:null,searchTerm:"",favorite:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.resetConfirmModal;t.key===Di&&t.state&&(this.onDelete(),n())}},{key:"onSearch",value:function(e){var t=this;this.setState({searchTerm:e?e.toString():""},(function(){t.filterFundTransferRecipients()}))}},{key:"onSelect",value:function(){this.setState({authSidebarOpen:!0})}},{key:"onDelete",value:function(){var e=this,t=this.state.itemForDelete;this.setState({loading:!0,filteredFundTransferRecipients:[],itemForDelete:null}),X.a.delete("/recipients/".concat(t.id)).then((function(){e.fetchData()})).catch((function(){e.setState({loading:!1},(function(){e.filterFundTransferRecipients()}))}))}},{key:"onConfirmDelete",value:function(e){var t=this.props,n=t.setError,a=t.openConfirmModal;e.scheduled?n("Unable to delete recipient. This recipient has scheduled transfer."):(this.setState({itemForDelete:e}),a(Di,"Delete Recipient","Do you wish to delete this recipient?","Delete Recipient"))}},{key:"onAdd",value:function(){this.setState({authSidebarOpen:!0,addRecipients:{},editRecipients:null}),this.closeNotificationSidebar()}},{key:"onAddSave",value:function(e){var t=this;this.setState({loading:!0,filteredFundTransferRecipients:[],addRecipients:e}),X.a.post("/recipients",e).then((function(){t.setState({authSidebarOpen:!1,addRecipients:null},t.fetchData)})).catch((function(){t.setState({loading:!1},(function(){t.filterFundTransferRecipients()}))}))}},{key:"onEdit",value:function(e){this.setState({authSidebarOpen:!0,editRecipients:e,addRecipients:null}),this.closeNotificationSidebar()}},{key:"onEditSave",value:function(e){var t=this;this.setState({authSidebarOpen:!1,loading:!0,filteredFundTransferRecipients:[]});var n={account_number:e.account_number,favorite:e.favorite||!1,nickname:e.nickname.trim(),bank_code:e.banks.code,bank_id:e.banks.id};X.a.put("recipients/".concat(e.id),n).then((function(){t.setState((function(){return{authSidebarOpen:!1,loading:!0,fundTransferRecipients:[],editRecipients:null}})),t.fetchData()})).catch((function(){t.setState({loading:!1},(function(){t.filterFundTransferRecipients()}))}))}},{key:"onFavorite",value:function(e){var t=this,n=e.favorite?"unfavorite":"favorite";X.a.put("recipients/".concat(e.id,"/").concat(n)).then((function(){t.fetchData()}))}},{key:"setFavorite",value:function(){var e=this;this.setState({favorite:!0},(function(){e.filterFundTransferRecipients()}))}},{key:"setAll",value:function(){var e=this;this.setState({favorite:!1},(function(){e.filterFundTransferRecipients()}))}},{key:"fetchData",value:function(){var e=this,t=this.props.setRecipientList;this.setState({loading:!0,fundTransferRecipients:[],filteredFundTransferRecipients:[]}),X.a.get("/recipients").then((function(n){var a=n.data;e.setState({fundTransferRecipients:a,loading:!1},(function(){e.filterFundTransferRecipients(),t(a)}))})).catch((function(){e.setState({loading:!1})}))}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"handleOptionClick",value:function(e){var t=e.item;switch(e.name){case"favorite":this.onFavorite(t);break;case"edit":this.onEdit(t);break;case"delete":this.onConfirmDelete(t)}}},{key:"filterFundTransferRecipients",value:function(){var e=this.state,t=e.fundTransferRecipients,n=e.searchTerm,a=e.favorite,r=n.toLowerCase(),i=t.filter((function(e){return!(a&&!e.favorite)&&(e.nickname.toLowerCase().includes(r)||e.bank.code.toLowerCase().includes(r)||e.bank.name.toLowerCase().includes(r)||e.account_number.toLowerCase().includes(r))}));i=i.sort((function(e){return e.favorite?-1:1})),this.setState({filteredFundTransferRecipients:i})}},{key:"sideBarDismiss",value:function(){this.setState({authSidebarOpen:!1,editRecipients:null,addRecipients:!1})}},{key:"render",value:function(){var e=this.state,t=e.authSidebarOpen,n=e.filteredFundTransferRecipients,a=e.loading,r=e.addRecipients,i=e.editRecipients,o=e.favorite,s=this.props.recipients;return E.a.createElement(C.a,{title:Di},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage Recipients",actions:E.a.createElement(F.a,{onClick:this.onAdd,size:"sm"},"Add Recipient")},E.a.createElement(di.a,{loading:a,items:n,tableFields:Mi,onOptionClick:this.handleOptionClick,selectAction:this.onEdit,searchAction:this.onSearch,searchBoxOnFocus:this.sideBarDismiss,operations:[{name:"favorite",active:function(e){return e.favorite},style:{width:"50px"},render:function(e){return e.item.favorite?E.a.createElement(Si.a,null):E.a.createElement(xi.a,null)}},{name:"more",style:{width:"50px"},dropdownItems:[{name:"edit",label:"Edit"},{name:"delete",label:"Delete"}],render:function(){return E.a.createElement(Pi.a,null)}}],selected:i,searchPlaceholder:"Search Recipients",emptyMessage:0===s.length?"No enrolled recipients.":"No recipients found."},E.a.createElement("div",null,E.a.createElement("ul",{className:"nav nav-tabs nav-fill rounded-top"},E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-link ".concat(o?"":"active"," "),onClick:this.setAll},"My Recipients")),E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-link ".concat(o?"active":""),onClick:this.setFavorite},"Favorites"))))))))),E.a.createElement(Se.a,{header:i?"Edit Recipient":"Add Recipient",open:t,direction:"right",onDismiss:this.sideBarDismiss},i&&E.a.createElement(xe.a,{item:i,onSave:this.onEditSave}),r&&E.a.createElement(xe.a,{item:r,onSave:this.onAddSave})))}}]),t}(E.a.Component),Ai=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.recipients,{},e.page)}),(function(e){return Object(_.b)({setRecipientList:Ce.setRecipientList,recipientOpen:Ce.recipientOpen,openConfirmModal:ee.o,resetConfirmModal:ee.s,closeNotifItem:tr.b,closeNotifs:tr.c,setError:ee.y},e)}))(Ti),Ni=(n(1581),n(1593),n(350)),ji=n.n(Ni),Ii=n(2138);function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ri=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={faqs:[],filteredFaqs:null,faqHeaders:[],loading:!0},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.token&&this.loadFaqs()}},{key:"loadFaqs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.type;t&&this.setState({faqs:null,filteredFaqs:null}),X.a.get("faqs",{type:n}).then((function(t){var n=t.data,a=[ji()(n,"type")][0];e.setState({faqs:n,filteredFaqs:a,loading:!1})})).catch((function(t){e.setState({loading:!1})})),X.a.get("faq-headers").then((function(t){var a=t.data;n&&(a=a.filter((function(e){return e.code===n}))),e.setState({faqHeaders:a})}))}},{key:"filterFaqs",value:function(e){var t=this.props.type,n=this.state.faqs,a=e.search||"";if(n.length&&a.trim().length>0){var r=n.filter((function(e){return e.title.toLowerCase().indexOf(a.toLowerCase())>-1}));return t&&(r=yr()(ji()(r,"type"),t,[])),void this.setState({filteredFaqs:r})}var i=n;i=t?yr()(ji()(i,"type"),t,[]):(i=[ji()(i,"type")])[0],this.setState({filteredFaqs:i})}},{key:"renderList",value:function(){var e=this.state,t=e.filteredFaqs,n=e.loading,a=e.faqs,r=e.faqHeaders;return a||n?t?t.length||Object.keys(t).length?t instanceof Array?t.length>0?t.map((function(e,t){return E.a.createElement(Ii.a,{key:t,item:e})})):E.a.createElement("div",{style:{textAlign:"center",padding:"60px"}},"No FAQ found."):r.map((function(e,n){var a=t[e.code];return E.a.createElement("div",{key:n},E.a.createElement("div",{className:"p-4 bg-light"},e.description),a&&E.a.createElement("div",{className:"list-group list-group-flush"},a.map((function(e,t){return E.a.createElement(Ii.a,{key:t,item:e})}))))})):E.a.createElement("div",{style:{padding:"60px",textAlign:"center"}},"No FAQ found."):E.a.createElement("div",{style:{padding:"60px",textAlign:"center"}},"Loading..."):E.a.createElement("div",{style:{padding:"60px",textAlign:"center"}},"No FAQ found.")}},{key:"render",value:function(){var e=this,t=this.props.title;return E.a.createElement(C.a,{title:t||"Frequently Asked Questions"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Frequently Asked Questions"},E.a.createElement("div",{className:"management-panel card"},E.a.createElement(Je.b,{onSubmit:this.filterFaqs,onChange:this.filterFaqs,formContent:function(t,n){var a=t.getFieldsValue();return E.a.createElement("div",{className:"actions p-3"},E.a.createElement(Je.a,{form:t,name:"search"},E.a.createElement(Ye.a,{placeholder:"Search FAQs",suffix:E.a.createElement(Xe.a,{type:"search",style:{color:"#4A4A4A"},onClick:function(){e.filterFaqs(a)}})})))}}),E.a.createElement("div",{className:"content"},E.a.createElement(Pa.a,null,E.a.createElement("div",{className:"management-list -infinite-scroll","data-search":"inputSearchTransfers"},this.renderList())))))))))}}]),t}(E.a.Component),Li=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page)}))(Ri),Bi=n(1573);function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zi=["PHP"],Ui=["credit",function(e){var t=e.currency;return zi.includes(t)}],Hi=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"onDiscard",value:function(){var e=this.props.setEditStep;e&&e("review")}},{key:"formatValues",value:function(e){var t=e.amount,n={product_number:"".concat(e.product_number)};return t&&(n.amount=la()(Object(Vr.d)(t)).format("0.00")),n}},{key:"selectAccount",value:function(){(0,this.props.toggleAccountSelect)(!0,Ui)}},{key:"handleSubmit",value:function(e){var t=this.props,n=t.setQrValues,a=t.products;if(n){var r=x()(a,{product_number:e.product_number});n(qi({},this.formatValues(e),{currency:r.currency,product_name:r.product_name}))}}},{key:"normalizeAmount",value:function(e){return e&&(Object(Vr.a)(e)>25e6&&(e="".concat(25e6)),e=Object(Vr.d)(e)),e}},{key:"getCurrency",value:function(e){var t=e.product_number,n=this.props.products,a=zi[0];return t&&(a=x()(n,{product_number:t}).currency),a}},{key:"getDefaultValue",value:function(e){var t=this.props,n=t.products,a=t.requestQR,r=null;return 1===n.length&&"product_number"===e&&(r=n[0].product_number),a[e]&&(r=a[e]),r}},{key:"validate",value:function(e,t,n){0===la()(t).value()&&n("Invalid amount"),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editing,a=t.products;return E.a.createElement(Pa.a,{autoResetScroll:!0},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Generate and Request"},E.a.createElement(Je.b,{onSubmit:this.handleSubmit,formRef:function(t){return e._form=t},formContent:function(t,r){var i=t.getFieldsValue(),o=e.getCurrency(i);return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Deposit to",actions:a.length>1&&t.getFieldValue("product_number")&&E.a.createElement(F.a,{size:"sm",onClick:e.selectAccount},"select account")},E.a.createElement(Je.a,{form:t,name:"product_number",placeholder:"Click to select account",type:"account",filters:Ui,options:{initialValue:e.getDefaultValue("product_number"),rules:[{required:!0,message:"Target account is required"}]}}))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Request the amount of"},E.a.createElement(Je.a,{form:t,name:"amount",maxLength:16,hideLimit:!0,options:{initialValue:e.getDefaultValue("amount"),validateFirst:!0,normalize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(Vr.d)(e)},rules:[{validator:function(e,t,n){t&&[0,null].includes(la()(t).value())&&n("Invalid amount"),n()}}]}},E.a.createElement(Ye.a,{placeholder:"Amount",prefix:E.a.createElement(Br.a,null,o)})))),E.a.createElement(Qe.a,{className:"my-5"},n?E.a.createElement(He.a,{className:"w-wide",onClick:e.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:r},n?"Update":"Generate QR")))}})))))}}]),t}(E.a.Component),Gi=Object(w.c)((function(e){var t=e.p2p,n=e.page,a=e.product.products;return qi({},t,{},n,{products:a=M()(a,{debit:!0,credit:!0})||[]})}),(function(e){return Object(_.b)({setEditStep:Bi.f,setQrValues:Bi.j,toggleAccountSelect:ee.P},e)}))(Hi),Yi=n(2017),Wi=n.n(Yi),Xi=n(1602),Ki=n(1718),$i=n(1482),Zi=n.n($i);function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ji=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={qrValue:""},e}return v()(t,e),u()(t,[{key:"componentWillUnmount",value:function(){this._request&&this._request.cancel&&this._request.cancel("Operation canceled")}},{key:"componentDidMount",value:function(){this.props.legacy?this.emvCode():this.legacyCode()}},{key:"emvCode",value:function(){var e=this,t=this.props,n=t.requestQR,a=t.profile;if(n.product_name){var r={account_number:n.product_number,account_name:n.product_name,amount:n.amount,currency:n.currency,mobile_number:a.mobile_number,email:null};this._request=X.a.post("qr-code/generate",r,{noError:!0}).then((function(t){var n=t.data.code;e.generateQrcode(n)}))}}},{key:"legacyCode",value:function(){var e=this.props,t=e.requestQR,n=e.account,a=e.p2pToken;if(n&&n.product_number){var r=JSON.stringify({account_number:n.product_number,amount:t.amount,p2p_token:a});this.setState({qrValue:r})}}},{key:"generateQrcode",value:function(e){var t=e;this.setState({qrValue:t})}},{key:"handleEdit",value:function(){this.props.setEditStep("form")}},{key:"newQrCode",value:function(){this.props.setQrRequest()}},{key:"render",value:function(){var e=this.props,t=e.requestQR,n=e.account,a=e.legacy,r=this.state,i=r.qrValue;r.size;if(!n)return null;var o={value:i,size:240};return a&&(o.logo=Zi.a),E.a.createElement(Pa.a,{autoResetScroll:!0},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Generate and Request",actions:E.a.createElement(F.a,{size:"sm",color:"primary",onClick:this.handleEdit},"Edit")},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group-item"},E.a.createElement("div",{className:"text-center p-3"},E.a.createElement(Ki.a,{withWordmark:!0})),n&&E.a.createElement("div",{className:"text-center p-3"},E.a.createElement(pi.a,{number:n.product_number,masked:!0,toggleable:!0},n.account_name||n.product_name)),E.a.createElement("div",{className:"text-center my-3 p-3"},i&&E.a.createElement(Wi.a,o),!i&&E.a.createElement(Xi.a,{className:"display-4 p-5"})),t.amount&&n&&E.a.createElement("div",{className:"text-center p-3"},E.a.createElement("p",{className:"m-0"},"Amount Requested"),E.a.createElement(_a.a,{currency:n.currency},t.amount))))))))}}]),t}(E.a.Component),eo=Object(w.c)((function(e){var t=e.page,n=e.p2p,a=e.product,i=e.settings,o=t.p2pToken,s=t.featureToggleRules,l=a.products,c=n.requestQR,u=i.profile;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{p2pToken:o,account:x()(l,{product_number:c.product_number}),profile:u,legacy:yr()(x()(s,{name:"EMVCO_QR_GENERATE"}),"status",!1)})}),(function(e){return Object(_.b)({setQrRequest:Bi.i,setEditStep:Bi.f},e)}))(Ji);function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ao=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.newQrCode()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.history,n=e.location,a=e.match,r=e.nextStep,i=e.token,o="".concat(a.url,"/").concat(r);o!==n.pathname&&i&&t.replace(o)}},{key:"componentWillUnmount",value:function(){this.props.resetStep()}},{key:"newQrCode",value:function(){this.props.setQrRequest()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{title:"Generate QR Code"},E.a.createElement(P.b,{exact:!0,path:"".concat(e.url,"/form"),component:Gi}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:eo}))}}]),t}(E.a.Component),ro=Object(w.c)((function(e){return no({},e.page,{},e.p2p)}),(function(e){return no({},Object(_.b)({setQrRequest:Bi.i,resetStep:Bi.c},e))}))(ao),io=(n(250),n(1483)),oo=n.n(io),so=n(30),lo=n.n(so),co=n(1648),uo=n(1206);function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mo=0,fo=1,yo=2,go=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.accountSelected,t.setAccountSelect;this._form&&e.count!==this.props.count&&this._form.setFieldsValue({count:this.props.count})}},{key:"componentWillUnmount",value:function(){this.props.closeSidebar()}},{key:"onFormSubmit",value:function(e){var t=this.props,n=t.setAmount,a=t.selectedAccounts,r=t.products,i=e.amount,o=e.type,s=e.remarks,l=e.total,c=e["self-amount"],u=e.product_number,d={accounts:[],amount:i,type:o,remarks:s,total:l},p=x()(r,{product_number:u});c?(d.self=Object(Vr.a)(c),d.requestedAmount=Object(Vr.c)(l-d.self)):d.requestedAmount=l,a.map((function(t){d.accounts.push(ho({},t,{amount:Object(Vr.a)(e["".concat(t.id,"-amount")])}))})),n(d,a,p)}},{key:"onDiscard",value:function(){var e=this.props,t=e.setAmount,n=e.requestPayment;t(n.amount,n.amount.accounts,n.target)}},{key:"normalizeAmount",value:function(e){return e?Object(Vr.d)(e):""}},{key:"defaultValues",value:function(){var e=this.props,t=e.requestPayment,n=(e.count,t.amount),a=t.target.product_number;if(n){var r={};return n.accounts.map((function(e){r["".concat(e.id,"-amount")]=e.amount})),ho({},r,{"self-amount":n.self,amount:n.amount,type:n.type,total:n.total,remarks:n.remarks,product_number:a})}return{amount:"",type:0,product_number:a}}},{key:"removeRecipient",value:function(e){var t=this.props,n=t.selectedAccounts,a=t.selectAccount,r=lo()(n,e);n.splice(r,1),a(n)}},{key:"selectAccount",value:function(){(0,this.props.toggleAccountSelect)(!0,["credit",function(e){return{account:e}}])}},{key:"getCurrency",value:function(){var e=this.props.products,t="PHP";if(this._form){var n=this._form.getFieldsValue().product_number;n&&(t=x()(e,{product_number:n}).currency)}return t}},{key:"getDefaultValue",value:function(e){var t=this.defaultValues();return void 0!==t[e]?t[e]:null}},{key:"validateTotal",value:function(e,t,n){var a=this,r=this.props.count;window.setTimeout((function(){var e=a._form.getFieldsValue(),i=Object(Vr.a)(t),o=25e6+(Object(Vr.a)(e["self-amount"])||0),s=null;parseInt(e.type)!==yo&&r>0&&(i!==Object(Vr.a)(e.amount)&&(s="Total is not the same as requested."),(i||0)>o&&(s="Total amount exceeds allowed limit")),oo()(i)&&(s="Amount is required"),0===i&&(s="All amounts must be greater than 0.00"),s?n(s):n()}),100)}},{key:"getTotalValue",value:function(e){var t=this.props,n=t.selectedAccounts,a=t.isSplitBills,r=t.count,i=e.amount,o=e.type,s=Object(Vr.d)(i),l=0,c={};if(r>0){var u=Object(Vr.a)(s)||0;switch(o){case mo:var d=r;a&&(d+=1);var p=Object(Vr.b)(u/d),h=Object(Vr.c)(u-p*d),m=Object(Vr.c)(p+h);a&&(c["self-amount"]=la()(Object(Vr.d)(m)).format("0,0.00")),n.forEach((function(e,t){c["".concat(e.id,"-amount")]=0!==t||a?la()(Object(Vr.d)(p)).format("0,0.00"):la()(Object(Vr.d)(m)).format("0,0.00")})),l=u;break;case fo:if(n.forEach((function(t){var n=Object(Vr.d)(e["".concat(t.id,"-amount")]),a=Object(Vr.a)(n)||0;la()(n).value()>25e6&&(n=la()(25e6).format("0,0.00")),l+=a})),a){var f=Object(Vr.d)(e["self-amount"]);la()(f).value()>25e6&&(f=la()(25e6).format("0,0.00")),l+=Object(Vr.a)(f)}l=Object(Vr.c)(l);break;case yo:n.forEach((function(e){c["".concat(e.id,"-amount")]=la()(u).format("0,0.00"),l+=u})),a&&(c["self-amount"]=la()(u).format("0,0.00"),l+=u)}}return c.total=l,c}},{key:"formChange",value:function(e,t,n){var a=Object.keys(e);if(1===a.length){var r=a[0];if(r.includes("amount")||["type","amount","count"].includes(r)){var i=ho({},t,{},e),o=this.getTotalValue(i);n.setFieldsValue(o)}}}},{key:"formContent",value:function(e,t){var n=this,a=this.props,r=a.editing,i=a.selectedAccounts,o=a.isSplitBills,s=a.products,l=a.count,c=e.getFieldsValue(),u=e.getFieldsError(),d=this.getCurrency();return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Request the amount of"},E.a.createElement("div",null,E.a.createElement(co.a,null,E.a.createElement(Je.a,{form:e,name:"amount",hideLimit:!0,maxLength:16,options:{initialValue:this.getDefaultValue("amount"),normalize:this.normalizeAmount,rules:[{validator:function(e,t,n){t?t&&parseInt(c.type)===yo&&Object(Vr.a)(t)>25e6?n("Request amount exceeds allowed limit"):n():n("Amount is required")}}]}},E.a.createElement(Ye.a,{placeholder:"Amount",prefix:E.a.createElement(Br.a,null,d)})),E.a.createElement(Je.a,{form:e,name:"type",options:{initialValue:this.getDefaultValue("type"),rules:[{required:!0,message:"Type is required"}]}},E.a.createElement(bn.a,{placeholder:"Split Option",prefix:E.a.createElement(Br.a,null,d)},E.a.createElement(bn.a.Option,{key:"Evenly",value:mo},"Evenly"),E.a.createElement(bn.a.Option,{key:"Unevenly",value:fo},"Unevenly"),E.a.createElement(bn.a.Option,{key:"Each",value:yo},"Each")))),E.a.createElement(co.a,{vcenter:!0,center:!0,spaced:!0},E.a.createElement("div",null,!!c&&parseInt(c.type)===mo&&"Use this option to divide\n                                        ".concat(d," ").concat(c.amount||"0.00","\n                                        evenly among all participants."),!!c&&parseInt(c.type)===fo&&"Use this option to manually set the\n                                        amount for each participant.\n                                        ".concat(d," ").concat(c.amount||"0.00","\n                                        will be the total or max amount requested\n                                        from all participants."),!!c&&parseInt(c.type)===yo&&"Use this option to request\n                                        ".concat(d," ").concat(c.amount||"0.00","\n                                        from each participant.")))))),o&&E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Your Portion"},E.a.createElement(Je.a,{form:e,name:"self-amount",hideLimit:!0,maxLength:16,options:{initialValue:this.getDefaultValue("self-amount"),normalize:this.normalizeAmount,rules:[{required:!0,message:"Amount is required"}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,d),disabled:!!c&&parseInt(c.type)!==fo})))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Requesting from",actions:E.a.createElement(F.a,{size:"sm",type:"button",onClick:this.props.openSidebar},"add participant")},i.map((function(t){return E.a.createElement("div",{key:t.id},E.a.createElement("div",{className:"m-2"},E.a.createElement("b",null,t.name)),E.a.createElement(Je.a,{form:e,name:"".concat(t.id,"-amount"),hideLimit:!0,maxLength:16,options:{initialValue:n.getDefaultValue("".concat(t.id,"-amount")),normalize:n.normalizeAmount,rules:[{required:!0,message:"Amount is required"}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,d),suffix:E.a.createElement(Xe.a,{component:uo.a,onClick:n.removeRecipient.bind(n,t)}),disabled:!!c&&parseInt(c.type)!==fo})))})),E.a.createElement("div",{className:"p-3"},E.a.createElement("div",{className:"recipient-container d-flex justify-content-between"},E.a.createElement("div",null,"Total amount requested"),E.a.createElement(Je.a,{form:e,name:"total",options:{initialValue:this.getDefaultValue("total"),rules:[{validator:this.validateTotal}]}},E.a.createElement(_a.a,{currency:d}))),!!u&&u.total&&!!c.amount&&l>0&&E.a.createElement("div",{className:"text-right alert danger m-0 p-0"},u.total)))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Message"},E.a.createElement(Je.a,{form:e,name:"remarks",maxLength:140,options:{initialValue:this.getDefaultValue("remarks"),rules:[{required:!0,message:"Message is required"}]}},E.a.createElement(Ye.a,{placeholder:"Add Message (e.g. For last night's dinner)"})))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Transfer to which account?",actions:s.length>1&&c&&c.product_number&&E.a.createElement(F.a,{size:"sm",onClick:this.selectAccount},"select account")},E.a.createElement(Je.a,{form:e,name:"product_number",options:{initialValue:this.getDefaultValue("product_number"),rules:[{required:!0,message:"Account is required"}]}},E.a.createElement(Je.c,{placeholder:"Click to select account",filters:["credit",function(e){return{account:e}}]})))),E.a.createElement(Qe.a,{className:"my-5"},r?E.a.createElement(He.a,{className:"w-wide",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},r?"Update":"Next")))}},{key:"render",value:function(){var e=this,t=this.props.isSplitBills;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:t?"Split Bill":"Request Payment"},E.a.createElement("p",null,"Note that this seamless payment experience is currently exclusive to UnionBank Online users."),E.a.createElement(Je.b,{onSubmit:this.onFormSubmit,formRef:function(t){e._form=t},formContent:this.formContent,onChange:this.formChange}))))}}]),t}(E.a.Component),vo=Object(w.c)((function(e){var t=e.p2p,n=e.recipients,a=e.product,r=e.router,i=e.page,o=t.selectedAccounts.length||0,s=r.location.pathname.includes("split-bills"),l=a.products;return ho({},t,{},n,{},i,{count:o,products:l=M()(l,{debit:!0,credit:!0})||[],isSplitBills:s})}),(function(e){return ho({},Object(_.b)({saveForm:Bi.d,selectAccount:Bi.e,setAccountSelect:ee.u,toggleAccountSelect:ee.P,setAmount:Bi.k},e),{openSidebar:function(){e(Object(Bi.o)("request-payment"))},closeSidebar:function(){e(Object(Bi.o)(""))}})}))(go);function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oo=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.requestPayment,n=e.history;t.amount||n.replace("/move-money")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.successModal,i=t.confirmModal;if("cancelRequestPayment"===i.key&&i.state&&!e.confirmModal.state&&(this.cancel(),n()),!r.message&&e.successModal.message){var o="Go to Dashboard"===r.status?"/dashboard":"/move-money";a.replace(o)}}},{key:"submit",value:function(){var e=this.props,t=e.requestPayment,n=e.loadingDismiss,a=e.loadingOpen,r=e.setRequestResult,i=e.setSuccessMessage,o=e.isSplitBills,s={target_number:t.target.product_number,remarks:t.amount.remarks,type:0,participants:t.amount.accounts.reduce((function(e,t){return e.push({contact_detail:{country_id:1,name:t.name,mobile_number:t.mobile_number},amount:t.amount}),e}),[])};o&&(s=Eo({},s,{type:1,requestor_portion:t.amount.self})),a(),X.a.post("/p2p/payment-requests",s).then((function(e){n(),r(e.data),i("Congratulations!","You successfully sent a request for payment",null,"Go to Dashboard","New Transaction")})).catch((function(){n()}))}},{key:"edit",value:function(){this.props.setEditStep("")}},{key:"cancel",value:function(){this.props.history.replace("/move-money")}},{key:"confirmCancel",value:function(){(0,this.props.openConfirmModal)("cancelRequestPayment","Hang on!","Do you wish to cancel this payment request?","Cancel Request")}},{key:"render",value:function(){var e=this.props,t=e.requestPayment,n=e.nextStep,a=e.isSplitBills;return t.source?E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Review and Request",actions:"result"!==n?E.a.createElement(F.a,{size:"sm",color:"primary",onClick:this.edit},"edit"):null},!t.result&&E.a.createElement("p",null,'Please take time to review the details below before clicking "Request".'),E.a.createElement("div",{className:"transaction-review"},E.a.createElement("div",{className:"transactions card"},E.a.createElement("div",{className:"list-group list-group-flush"},t.source&&E.a.createElement(wa.a,{name:"from",label:"Request From"},t.amount&&E.a.createElement("div",{className:"list-group list-group-flush"},t.amount.accounts.map((function(e){return E.a.createElement("div",{key:e.id,className:"d-flex list-group-item justify-content-between py-2"},E.a.createElement("div",{className:"d-flex flex-column align-items-start"},E.a.createElement("span",null,e.name),E.a.createElement("span",null,e.mobile_number)),E.a.createElement("div",{className:"d-flex align-items-center"},E.a.createElement(_a.a,{currency:t.target.currency},e.amount)))})))),a&&E.a.createElement(wa.a,{name:"amount",label:"Your Portion"},E.a.createElement(_a.a,{currency:t.target.currency},t.amount&&t.amount.self)),t.amount&&E.a.createElement(wa.a,{name:"amount",label:a?"Total Bill Amount":"Total Amount"},E.a.createElement(_a.a,{currency:t.target.currency},t.amount.total)),t.amount&&t.amount.remarks&&E.a.createElement(wa.a,{label:"Message",preformatted:!0},t.amount.remarks),t.target&&E.a.createElement(wa.a,{name:"to",label:"Deposit To"},E.a.createElement(pi.a,{account:t.target}))))),"result"!==n&&E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement(F.a,{width:"wide",type:"reset",color:"alternate",onClick:this.confirmCancel},"Cancel"),E.a.createElement(F.a,{width:"wide",color:"primary",type:"submit",onClick:this.submit},E.a.createElement("span",null,"Request ",E.a.createElement(_a.a,{transparentTag:!0,currency:t.target.currency},t.amount&&t.amount.requestedAmount))))))):null}}]),t}(E.a.Component),ko=Object(w.c)((function(e){return Eo({},e.page,{},e.p2p,{isSplitBills:e.router.location.pathname.includes("split-bills")})}),(function(e){return Eo({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setEditStep:Bi.f,openConfirmModal:ee.o,resetConfirmModal:ee.s,setRequestResult:Bi.l,clearPayment:Bi.a,setSuccessMessage:ee.H},e))}))(Oo);function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Po=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,n=e.setSourceAccount,a=e.products;"POP"===t.action&&t.replace("/move-money");var r=a.filter((function(e){return e.credit&&"PHP"===e.currency}));1===r.length&&n(r[0])}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.match,r=t.nextStep,i=t.token;r!==e.nextStep?n.replace("".concat(a.url,"/").concat(r).replace("//","/")):i||n.replace("/login")}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearRequest,n=e.resetStep;t(),n()}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.isSplitBills;return E.a.createElement(C.a,{title:n?"Split Bill":"Request Payment"},E.a.createElement(P.b,{exact:!0,path:"".concat(t.url),component:vo}),E.a.createElement(P.b,{exact:!0,path:"".concat(t.url,"/(review|result)"),component:ko}))}}]),t}(E.a.Component),So=Object(w.c)((function(e){var t=e.product,n=e.page,a=e.p2p,r=e.router;return _o({products:t.products,token:n.token},a,{isSplitBills:r.location.pathname.includes("split-bills")})}),(function(e){return _o({},Object(_.b)({clearRequest:Bi.b,resetStep:Bi.c,setSourceAccount:Bi.m},e))}))(Po);function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Do=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"selectAccount",value:function(e){var t=this.props.setSourceAccount;t&&t(e)}},{key:"filterAccount",value:function(e){var t=this.props.currency;return e.currency===t}},{key:"getDebitAccounts",value:function(e){return e.debit}},{key:"back",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.props,t=e.products,n=e.currency,a=t.filter(this.getDebitAccounts),r=a.filter(this.filterAccount),i=0!==t&&r.length>0;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement(L.a,{title:"Send payment from"},i&&E.a.createElement("p",{className:"lead"},"Select the account you want to pay from."),i?E.a.createElement(R.a,{messages:{loading:"Loading accounts...",retry:"Accounts not loaded."},products:r,onItemClick:this.selectAccount,unmasked:!0}):E.a.createElement("div",null,E.a.createElement("div",{className:"accounts-message my-3"},a?"You don't have an eligible ".concat(n," account to use for this payment."):"Sorry. None of your accounts are eligible for this feature."),E.a.createElement(Qe.a,null,E.a.createElement(F.a,{size:"wide",color:"primary",onClick:this.back},"Back"))))))}}]),t}(E.a.Component),Mo=Object(w.c)((function(e){var t=e.p2p,n=e.product,a=e.notifications;return Co({products:n.products},t,{},a,{currency:t.sendPayment.currency})}),(function(e){return Co({},Object(_.b)({setSourceAccount:Bi.n},e))}))(Do),To=n(1644);function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jo=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.resetConfirmModal,n=e.otpClear,a=e.confirmModal,r=e.status,i=e.verifyUrl,o=e.response,s=e.id,l=e.purpose;a.state&&"cancelSendPayment"===a.key&&(this.cancel(),t()),i===this.getVerifyOtpUrl(s)&&r&&o&&"SP"===l&&(Object(ee.i)(),n(),this.onSuccessfulOtp(o))}},{key:"onSuccessfulOtp",value:function(e){var t=e.token,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.sendPayment,o=n.setPaymentResult,s=n.loadListOfProducts;a(),X.a.post("/p2p/payment-invites/".concat(i.id,"/pay"),{source_account:i.source.product_number},{"X-Grant-Token":t}).then((function(e){o(e.data),s(),r()})).catch((function(){r()}))}},{key:"getVerifyOtpUrl",value:function(e){return"/otp/".concat(e,"/grant")}},{key:"edit",value:function(){(0,this.props.setEditStep)("")}},{key:"cancel",value:function(){this.props.history.replace("/move-money")}},{key:"confirmCancel",value:function(){(0,this.props.openConfirmModal)("cancelSendPayment","Hang on!","Do you wish to cancel this payment request?","Cancel Payment")}},{key:"submit",value:function(){var e=this,t=this.props,n=t.sendPayment,a=t.loadingOpen,r=t.loadingDismiss,i=t.setPaymentResult,o=t.loadListOfProducts,s=t.setOtp;a(),X.a.post("/p2p/payment-invites/".concat(n.id,"/pay"),{source_account:n.source.product_number}).then((function(t){r(),202===t.status?s(No({verifyUrl:e.getVerifyOtpUrl(t.data.id)},t.data,{purpose:"SP"})):(i(t.data),o(),r())})).catch((function(){r()}))}},{key:"render",value:function(){var e=this.props,t=e.sendPayment,n=e.nextStep;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement(L.a,{title:t.settled?"Payment Successful":"Review and Send Payment"},E.a.createElement("p",{className:"lead"},t.settled?"":'Please take time to review the details below before clicking "Pay".'),E.a.createElement("div",{className:"card"},t.settled&&E.a.createElement("div",{className:"review-header"},t.ref_number&&E.a.createElement("div",{className:"ref"},E.a.createElement(To.a,{largeLabel:!0,label:"Reference Number"},t.ref_number)),E.a.createElement("div",{className:"date"},E.a.createElement(To.a,{largeLabel:!0,label:"Transaction Date"},Le()().format(Object(Ne.h)("long"))))),t.source&&E.a.createElement(wa.a,{name:"from",onEdit:this.edit.bind(this,"from"),editable:"result"!==n,label:"Payment From"},E.a.createElement(pi.a,{number:t.source.product_number,masked:!0,toggleable:!0},t.source.alias)),t.recipient&&E.a.createElement(wa.a,{label:"Payment To",preformatted:!0},t.recipient),t.amount&&E.a.createElement(wa.a,{label:"Amount",preformatted:!0},E.a.createElement(_a.a,{currency:t.source.currency},parseFloat(t.amount))),t.remarks&&E.a.createElement(wa.a,{label:"Message",preformatted:!0},t.remarks)),"result"!==n&&E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement(F.a,{width:"wide",type:"reset",onClick:this.confirmCancel},"Cancel"),E.a.createElement(F.a,{width:"wide",color:"primary",onClick:this.submit},E.a.createElement("span",null,"Pay ",E.a.createElement(_a.a,{currency:t.source.currency},t.amount)))))))}}]),t}(E.a.Component),Io=Object(w.c)((function(e){var t=e.page,n=e.p2p,a=e.otp;return No({confirmModal:t.confirmModal},n,{},a)}),(function(e){return No({},Object(_.b)({setEditStep:Bi.f,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s,setPaymentResult:Bi.h,loadListOfProducts:Q.loadListOfProducts,setOtp:te.b,otpClear:te.a},e))}))(jo);function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lo=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products,n=e.setSourceAccount,a=t.filter((function(e){return e.debit&&"PHP"===e.currency}));1===a.length&&n(a[0])}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.match,r=t.nextStep,i=t.sendPayment;t.token?r!==e.nextStep?n.replace("".concat(a.path,"/").concat(r)):i.id||n.replace("/move-money"):n.replace("/login")}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearPayment,n=e.resetStep;t(),n()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{title:"Send Payment"},E.a.createElement(P.b,{exact:!0,path:"".concat(e.url,"/"),component:Mo}),E.a.createElement(P.b,{exact:!0,path:"".concat(e.url,"/(review|result)"),component:Io}))}}]),t}(E.a.Component),Bo=Object(w.c)((function(e){var t=e.product,n=e.page,a=e.p2p;return Ro({products:t.products,token:n.token},a)}),(function(e){return Ro({},Object(_.b)({clearPayment:Bi.a,setSourceAccount:Bi.n,resetStep:Bi.c},e))}))(Lo),Vo=n(2125);function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var zo=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.history;t||n.replace("/login")}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement("div",{className:"social-payments"},E.a.createElement(P.b,{exact:!0,path:"".concat(e.url),component:So}),E.a.createElement(P.b,{path:"".concat(e.url,"/(request-payment|split-bills)"),component:So}),E.a.createElement(P.b,{path:"".concat(e.url,"/payment"),component:Bo}),E.a.createElement(P.b,{path:"".concat(e.url,"/qr-code"),component:ro}),E.a.createElement(Vo.a,null))}}]),t}(E.a.Component),Uo=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},e.p2p)}))(zo),Ho=n(1484),Go=n.n(Ho),Yo=n(1539),Wo=n(2024),Xo=n(1555),Ko=n(1550);function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo=[{label:"Remarks",data:function(e){return e.remarks||"---"},width:"50%"},{label:"Amount",data:function(e){var t=0;return e.participants.map((function(e){t+=parseFloat(e.amount||0)})),E.a.createElement(_a.a,{currency:"PHP"},t)},width:"15%"},{label:"Transaction Date",width:"20%",data:function(e){return Le()(e.created_at).format("MMM DD, YYYY hh:mm A z")}},{label:"Status",data:function(e){return 3===e.status?E.a.createElement("div",{className:"color-primary"},"Cancelled"):2===e.status?E.a.createElement("div",{className:"color-primary"},"Settled"):""},width:"15%"}],Jo=[{label:"Transaction Type",width:"30%",data:function(e){return wr.a[e.type]}},{label:"Reference Number",width:"20%",data:function(e){return e.ref_number}},{label:"Transaction Date",width:"20%",data:function(e){return Le()(e.created_at).format("MMM DD, YYYY, hh:mm A z")}},{label:"Amount",width:"30%",align:"right",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}}],es={cancel:"cancelRequest",delete:"deleteRequest"},ts=[{label:"Sent Via",data:function(e){return!![wr.b.PesoNet,wr.b.InstaPay,wr.b.QrInstaPay,wr.b.PDDTS].includes(e.type)&&E.a.createElement("div",{className:"d-flex justify-content-start mb-2"},e.type===wr.b.PesoNet&&E.a.createElement("img",{src:vr.a,alt:"",className:"align-self-end",style:{width:"72px"}}),[wr.b.InstaPay,wr.b.QrInstaPay].includes(e.type)&&E.a.createElement("img",{src:Er.a,alt:"",className:"align-self-end",style:{width:"72px"}}),e.type===wr.b.PDDTS&&E.a.createElement("img",{src:kr.a,alt:"",className:"align-self-end",style:{width:"50px"}}))}},{label:function(e){return"From ".concat(e.type===wr.b.GoalWithdrawal?"Goal":"Account")},data:function(e){var t=e.source,n=e.type;return t?n===wr.b.GoalWithdrawal?E.a.createElement("div",null,t.name):t?E.a.createElement(pi.a,{number:t.number,masked:!0,toggleable:!0},t.name):null:null}},{label:function(e){return"To ".concat(e.type===wr.b.GoalTopup?"Goal":"Account")},data:function(e){var t=e.target,n=e.type;return t&&t?n===wr.b.GoalTopup?E.a.createElement("div",null,t.name):E.a.createElement("div",null,E.a.createElement(pi.a,{description:[wr.b.PesoNet,wr.b.InstaPay].includes(e.type)&&t.type,number:t.number},t.name),t.mobile_number&&E.a.createElement("div",{className:"font-weight-normal"},t.mobile_number),t.email_address&&E.a.createElement("div",{className:"font-weight-normal"},t.email_address)):null}},{label:"Amount",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}},{label:"Repeat",data:function(e){return e.frequency?e.frequency.name:""}},{label:"End Date",data:function(e){return Le()(e.end_date).format("MMMM DD, YYYY")}},{label:"Service Fee",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.service_fee)}},{label:"Purpose",data:function(e){return E.a.createElement("div",null,E.a.createElement("p",null,e.purpose?e.purpose_text?e.purpose_text:e.purpose.description:""))}},{label:function(e){return e.type!==wr.g.Own?"Message":"Note"},data:function(e){return e.remarks}}],ns=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={transferred:!0,transferLoading:!1,requestLoading:!1,pagingError:!1,activeItem:{},requests:[],transfers:[],openSidebar:!1,searchTerm:"",filteredRequests:[]},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchRequest(),this.fetchData()}},{key:"onSearch",value:function(e,t){var n=this.state.requests,a=t?t.toLowerCase():"";e?t&&""+t.length>=3?this.setState({searchTerm:t,transfers:[],hasMore:!0,transferLoading:!0},this.fetchData):this.setState({searchTerm:"",transfers:[],hasMore:!0,transferLoading:!0},this.fetchData):this.setState({filteredRequests:n.filter((function(e){return!!e.remarks&&(e.remarks.toLowerCase().includes(a)||Le()(e.created_at).format("MMM DD, YYYY hh:mm A z").toLowerCase().includes(a)||la()(Go()(e.participants,(function(e){return parseFloat(e.amount||0)}))).format("0,0.00").includes(a)||(3===e.status?"cancelled":"settled").includes(a))}))})}},{key:"onSelect",value:function(e){e&&e.target&&e.target.mobile_number&&e.target.mobile_number.length<8&&(e.target.mobile_number=""),this.setState({activeItem:e,openSidebar:!0}),this.closeNotificationSidebar()}},{key:"sideBarDismiss",value:function(){this.setState({openSidebar:!1,activeItem:{}})}},{key:"showTransfers",value:function(){this.setState({transferred:!0,openSidebar:!1,activeItem:{}})}},{key:"showRequests",value:function(){this.setState({transferred:!1,openSidebar:!1,activeItem:{}})}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"paginateAction",value:function(e){var t=this.state,n=t.transfers,a=t.hasMore,r=t.transferLoading,i=t.pagingError;if(!r&&a&&!i){var o=e.target;if(o.scrollHeight-(o.scrollTop+o.offsetHeight)<50){var s=n[n.length-1];s&&a&&this.fetchData({offset_id:s.id})}}}},{key:"fetchData",value:function(e){var t=this;this.setState({transferLoading:!0});var n=this.state,a=n.searchTerm,r=n.transfers;X.a.get("/fund-transfer/transactions",{params:Zo({},e,{q:a,limit:10})}).then((function(e){var n=e.data;n.length>0?t.setState({transfers:[].concat(ci()(r),ci()(n)),hasMore:n.length>=10,transferLoading:!1}):t.setState({hasMore:!1,transferLoading:!1})})).catch((function(){t.setState({transferLoading:!1,pagingError:!0})}))}},{key:"fetchRequest",value:function(){var e=this;this.setState({requestLoading:!0}),X.a.get("/p2p/payment-requests").then((function(t){var n=t.data.sort((function(e,t){return t.id-e.id}));e.setState({requests:n,filteredRequests:n,requestLoading:!1})})).catch((function(){e.setState({requestLoading:!1})}))}},{key:"confirmAction",value:function(e){var t=es[e];t&&this.props.openConfirmModal(t,"Hang on","Are you sure you want to ".concat(e," this payment request?"))}},{key:"render",value:function(){var e=this.state,t=e.transferred,n=e.transferLoading,a=e.requestLoading,r=e.transfers,i=e.filteredRequests,o=e.activeItem,s=e.openSidebar;return E.a.createElement(C.a,{title:"SEND / REQUEST - Manage Transfers"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage Transfers"},E.a.createElement(di.a,{loading:t?n:a,items:t?r:i,tableFields:t?Jo:Qo,emptyMessage:t?"No recent transfers.":"No recent requests",selectAction:this.onSelect,searchAction:this.onSearch.bind(this,t),paginateAction:t?this.paginateAction:null,selected:o,searchPlaceholder:t?"Search Recent Transfers":"Search Recent Requests",searchBoxOnFocus:this.sideBarDismiss},E.a.createElement("ul",{className:"nav nav-tabs nav-fill rounded-top"},E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-item nav-link ".concat(t?"active":""),onClick:this.showTransfers.bind(this)},"Transferred")),E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-item nav-link ".concat(t?"":"active"),onClick:this.showRequests.bind()},"Requests")))))))),E.a.createElement(Yo.a,{direction:"right",onDismiss:this.sideBarDismiss,open:s&&!t,left:E.a.createElement(Xo.a,{onClick:this.sideBarDismiss},E.a.createElement(Ko.a,null)),title:"Request",right:E.a.createElement(Xo.a,{onClick:this.confirmAction.bind(this,"delete")},E.a.createElement(hi.a,null))},E.a.createElement("div",{className:"content"},E.a.createElement("div",{className:"px-4"},!t&&s&&E.a.createElement(Wo.a,{activeItem:o,onDismiss:this.sideBarDismiss,fetchRequest:this.fetchRequest})))),E.a.createElement(ui.a,{transaction:o,detailsFields:ts,open:s&&t,title:"Recent Transfer",onDismiss:this.sideBarDismiss,leftButtonAction:"close"},o.type===wr.b.PesoNet&&E.a.createElement("div",{className:"my-4"},E.a.createElement(Jr.a,{isSuccess:!0})),o.type===wr.b.PDDTS&&E.a.createElement("div",{className:"my-4"},E.a.createElement(ei.a,{isSuccess:!0}))))}}]),t}(E.a.Component),as=Object(w.c)((function(e){return Zo({},e.page)}),(function(e){return Object(_.b)({closeNotifItem:tr.b,closeNotifs:tr.c,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o},e)}))(ns);function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var is=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.token&&this.loadTransferFundsData()}},{key:"componentWillUnmount",value:function(){this.props.recipientDismiss()}},{key:"loadTransferFundsData",value:function(){var e=this.props,t=e.products,n=e.banks,a=e.frequencies,r=e.purposes,i=e.recipients,o=e.cities,s=e.provinces,l=e.loadListOfProducts,c=e.setBanks,u=e.setFrequencies,d=e.setCities,p=e.setPurposes,h=e.setProvinces,m=e.setRecipientList,f=e.setRecipientStatus;0===t.length&&l(),0===n.length&&X.a.get("/content/banks").then((function(e){c(e.data)})),0===a.length&&X.a.get("/content/frequencies").then((function(e){u(e.data)})),0===r.length&&X.a.get("/content/purposes").then((function(e){p(e.data)})),0===o.length&&X.a.get("/content/cities").then((function(e){d(e.data)})),0===s.length&&X.a.get("/content/provinces").then((function(e){h(e.data)})),0===i.length&&X.a.get("/recipients").then((function(e){m(e.data)})).catch((function(){f("failed")}))}},{key:"render",value:function(){var e=this,t=this.props.match;return E.a.createElement("div",null,E.a.createElement(P.b,{exact:!0,path:"".concat(t.url),render:function(){return E.a.createElement(pr,e.props)}}),E.a.createElement(P.b,{path:"".concat(t.url,"/transfer/:type/"),component:si}),E.a.createElement(P.b,{path:"".concat(t.url,"/(receive|send)"),component:Uo}),E.a.createElement(P.b,{path:"".concat(t.url,"/manage-transfer"),component:as}),E.a.createElement(P.b,{path:"".concat(t.url,"/manage"),component:Ai}),E.a.createElement(P.b,{path:"".concat(t.url,"/schedule"),component:Ei}),K.a.scheduledTransfer&&E.a.createElement(P.b,{exact:!0,path:"".concat(t.url,"/schedule-content"),render:function(){return E.a.createElement(_i,e.props)}}),E.a.createElement(P.b,{path:"".concat(t.url,"/faq"),render:function(){return E.a.createElement(Li,{title:"Transfer Funds - Frequently Asked Questions",sideBarSelected:"transfer-funds",type:"FT"})}}),E.a.createElement(Te,null))}}]),t}(E.a.Component),os=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},e.product,{},e.recipients)}),(function(e){return Object(_.b)({loadListOfProducts:Q.loadListOfProducts,recipientDismiss:Ce.recipientDismiss,setFeatureToggleRules:ee.z,openAlertModal:ee.n,setRecipientList:Ce.setRecipientList,setRecipientStatus:Ce.setRecipientStatus,setFrequencies:ee.A,setPurposes:ee.F,setProvinces:ee.E,setCities:ee.w,setBanks:ee.v},e)}))(is);function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ls=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.paymentDetails,n=e.productLoading;e.billers,e.clientBillers;n||!t||t.source||this.autoSelect()}},{key:"componentDidUpdate",value:function(){var e=this.props.paymentDetails;e&&!e.source&&this.autoSelect()}},{key:"autoSelect",value:function(){var e=this.props.products.filter(this.filterAccount);1===e.length&&this.selectAccount(e[0])}},{key:"selectAccount",value:function(e){(0,this.props.selectSourceAccount)(e={bank_id:0,currency:e.currency,number:e.product_number,name:e.product_name,balance:parseFloat(e.balance)})}},{key:"filterAccount",value:function(e){var t=this.props,n=t.targetAccount,a=t.paymentDetails,r=!0;return n=n||{number:""},r&&!e.pay_bills&&(r=!1),r&&"PHP"!==e.currency&&(r=!1),r&&(r=!a||!a.product||e.product_number!==a.product.product_number),r&&(r=!a.balance||parseFloat(e.balance)>=parseFloat(a.balance.amount)),r&&(r=!n||e.product_number!==n.number),r&&a.rules&&a.rules.length>0&&(r=a.rules.reduce((function(t,n){return t&&1===n.type?!n.product_code.includes(e.product_code):t}),!0)),r}},{key:"render",value:function(){var e=this.props.products,t=e.filter(this.filterAccount),n=0===e.length||t.length>0;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Pay from which account?"},n&&E.a.createElement("p",null,"Select the account you want to pay from."),n?E.a.createElement(R.a,{products:t,onItemClick:this.selectAccount,unmasked:!0}):E.a.createElement("div",null,E.a.createElement("div",{className:"accounts-message"},"Sorry, none of your accounts are eligible for this feature."),E.a.createElement("div",{className:"d-flex align-items-center my-5"},E.a.createElement(F.a,{width:"wide",color:"primary",href:"/pay-bills",className:"m-auto"},"Back"))))))}}]),t}(E.a.Component),cs=Object(w.c)((function(e){var t=e.paybills,n=e.product;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},e.page,{products:n.products})}),(function(e){return{selectSourceAccount:function(t){e(Object(Ae.d)(t))}}}))(ls),us=n(2127);function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ps=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={searchTerm:"",type:"all",billerGroups:[]},e.timer=null,e.doRetry=!0,k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientBillers;e.token&&(this.loadBillers(),this.loadClientBillers()),t&&t.length>0&&this.setState({type:"client"})}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.doRetry=!1)}},{key:"loadBillers",value:function(){var e=this,t=this.props,n=t.billers,a=t.setBillers,r=t.setBillersStatus;0===n.length&&(r("loading"),X.a.get("content/billers").then((function(e){a(e.data),r("loaded")})).catch((function(){r("failed"),e.doRetry&&(e.timer=setTimeout(e.loadBillers,3e3))})))}},{key:"loadClientBillers",value:function(){var e=this,t=this.props,n=t.clientBillers,a=t.setClientBillers,r=t.setClientBillersStatus;0===n.length&&(r("loading"),X.a.get("user/billers").then((function(t){a(t.data),r("loaded"),t.data.length>0&&e.setState({type:"client"})})).catch((function(){r("failed"),e.timer=setTimeout(e.loadClientBillers,3e3)})))}},{key:"selectBiller",value:function(e){var t=this.props,n=t.selectBiller,a=t.clientBillers,r=t.setIsExistingClientBiller,i=e.biller||e,o={};o.biller_id=i.id,o.billerName=i.name,o.successMessage=i.successMessage,o.rules=i.rules,i.values&&(o.values=i.values),r(a,o),n(o)}},{key:"setType",value:function(e){this.setState({type:e,searchTerm:""})}},{key:"onSearch",value:function(e){e||(e=""),this.setState({searchTerm:e})}},{key:"filterData",value:function(){var e=this.props,t=e.billers,n=e.clientBillers,a=this.state.type,r=this.state.searchTerm.toLowerCase(),i=[];return i="all"===a?t?t.filter((function(e){return e.name.toLowerCase().includes(r)})):[]:n?n.filter((function(e){return("favorite"!==a||e.favorite)&&(e.alias?e.alias.toLowerCase().includes(r):e.biller.name.toLowerCase().includes(r))})):[],this.groupData(i)}},{key:"groupData",value:function(e){var t,n=this.state.type,a=!1,r=e.map((function(e){switch(n){case"client":case"favorite":t=e.alias||e.biller.name;break;case"all":default:a=!0,t=e.name}return!a||a&&t.toLowerCase().indexOf("unionbank")<0?e.groupHeader=t[0].toLowerCase():e.groupHeader="",e}));return ji()(r,(function(e){return e.groupHeader}))}},{key:"render",value:function(){var e=this.props,t=e.billersStatus,n=e.clientbillersStatus,a=this.state.type;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Which biller do you want to pay to?"},E.a.createElement(us.a,mr()({},this.state,{billerGroups:this.filterData(),billerStatus:"all"===a?t:n,onItemClick:this.selectBiller,onSearch:this.onSearch,setType:this.setType})))))}}]),t}(E.a.Component),hs=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},e.paybills)}),(function(e){return Object(_.b)({setClientBillers:Ae.j,setBillers:Ae.h,selectBiller:Ae.c,setIsExistingClientBiller:Ae.m,setBillersStatus:Ae.i,setClientBillersStatus:Ae.k},e)}))(ps);function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fs=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.loadFields()}},{key:"loadFields",value:function(){var e=this.props,t=e.paymentDetails,n=e.setBillerFields;X.a.get("content/billers/".concat(t.biller_id)).then((function(e){var t=e.data;n({fields:t.fields})}))}},{key:"onSubmit",value:function(e){var t=this.props,n=t.setBillerValues,a=t.billerFields,r=[];a.map((function(t){var n=e["field_".concat(t.id)];"DATE"===t.type.toUpperCase()&&(n=Le()(n).format("MM/DD/YYYY")),r.push({field_id:t.id,value:n})})),n(r)}},{key:"cancel",value:function(){this.props.setStep("review")}},{key:"fieldData",value:function(e,t){var n=e.id,a=this.props.billerFields,r=x()(a,{subfield_id:n}),i=x()(a,{id:n});if(r){var o=t?t["field_".concat(r.id)]:null;if(!o)return!1;switch(i.type){case"select":var s=x()(r.options,{value:o});try{i.filteredOptions=i.options.filter((function(e){return s.sub_options.includes(e.id)}))}catch(e){}if(i.filteredOptions&&0===i.filteredOptions.length)return!1}}return i}},{key:"getDefaultValues",value:function(e){var t=this.props.paymentDetails,n=yr()(t,"values"),a=x()(n,{field_id:e.id}),r=yr()(a,"value",null);return"date"===e.type&&r&&(r=Le()(r,"MM/DD/YYYY")),r}},{key:"onFormChange",value:function(e,t,n){1===Object.keys(e).length&&null===e.end_date&&n.setFieldsValue({select_end_date:"never"})}},{key:"renderInput",value:function(e,t){var n,a=t.id,r=t.type,i=t.name,o=t.options,s=t.filteredOptions,l={form:e,key:a,name:"field_".concat(t.id),options:{initialValue:this.getDefaultValues(t),rules:[{required:t.required,message:"".concat(t.name," is required")}]}};switch(r.toUpperCase()){case"SELECT":return E.a.createElement(Je.a,l,E.a.createElement(bn.a,{placeholder:i},(s||o).map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.value},e.name)}))));case"DATE":return E.a.createElement(Je.a,l,E.a.createElement(gn.a,{format:"MM/DD/YYYY",placeholder:i}));case"NUMBER":l.options.normalize=function(e){return e?e.replace(/[^0-9]/g,""):""};default:return(n=l.options.rules).splice.apply(n,[0,0].concat([{min:t.min,message:"".concat(t.name," must have a minimum of ").concat(t.min," characters.")}])),t.max&&(l.maxLength=t.max),E.a.createElement(Je.a,l,E.a.createElement(Ye.a,{placeholder:i}))}}},{key:"renderForm",value:function(e,t){var n=this,a=this.props,r=a.billerFields,i=a.isEdit,o=e.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,null,0===r.length&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"})),r.map((function(t){var a=n.fieldData(t,o);return a?n.renderInput(e,a):null}))),E.a.createElement(Qe.a,{className:"my-5"},i?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t||0===r.length},i?"Update":"Next")))}},{key:"render",value:function(){var e=this.props.paymentDetails;return E.a.createElement(I.a,{title:"Pay Bills - Fields"},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Enter biller information"},E.a.createElement("p",null,"Please supply all the necessary details before clicking 'NEXT'."),E.a.createElement("p",{className:"font-weight-bold"},e.billerName),E.a.createElement(Je.b,{onSubmit:this.onSubmit,onChange:this.onFormChange,formContent:this.renderForm}))))}}]),t}(E.a.Component),ys=Object(w.c)((function(e){var t=e.paybills;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{billerFields:t.paymentDetails.fields||[]})}),(function(e){return Object(_.b)({setBillerFields:Ae.f,setBillerValues:Ae.g,setStep:Ae.q},e)}))(fs);n(656);function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bs=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.paymentDetails,n=e.setAmount;t&&t.isCcPayment&&t.fixedAmount&&n({repeat:!1,end_date:null,date:Le()().format("YYYY-MM-DD"),amount:parseFloat(t.amount).toFixed(2)})}},{key:"offsetDate",value:function(e,t){var n=Le()(e);switch(""+t){case"30":n.add(1,"month");break;case"90":n.add(3,"month");break;case"180":n.add(6,"month");break;case"365":n.add(1,"year");break;default:n.add(parseInt(t),"day")}return n}},{key:"onDiscard",value:function(){(0,this.props.setStep)("review")}},{key:"onFormSubmit",value:function(e){var t=this.props,n=t.setAmount,a=t.paymentDetails,r=vs({},e,{repeat:!1,end_date:null,date:Le()(e.date,Object(Ne.h)()).format("YYYY-MM-DD"),amount:la()(e.amount).format("0.00")});"never"===e.select_end_date&&(r.end_date=null),e.end_date&&(r.end_date=Le()(e.end_date,Object(Ne.h)()).format("YYYY-MM-DD"),r.repeat=!0),e.repeat?(r.frequency_id=e.frequency_id?parseInt(e.frequency_id):1,r.repeat=!0):r.frequency_id=0,r.end_date=r.repeat?r.end_date:null,r.frequency_id=parseInt(r.frequency_id),r.currency=a.source.currency,n(r)}},{key:"getDefaultValues",value:function(e){var t=this.props.paymentDetails,n=t.date?Le()(t.date,"YYYY-MM-DD"):Le()(),a=t.end_date?Le()(t.end_date,"YYYY-MM-DD"):Le()(),r={date:Le()(),repeat:!1,frequency_id:1,end_date:this.offsetDate(Le()(),1),select_end_date:"never"};return t.amount&&(r={amount:t.amount,repeat:parseInt(t.frequency_id)>0,frequency_id:t.frequency_id,select_end_date:t.end_date?"date":"never",date:n,end_date:a}),e?yr()(r,e):r}},{key:"onFormChange",value:function(e,t,n){var a=this,r=Object.keys(e),i=t.frequency_id||1;1===r.length&&(null===e.end_date&&n.setFieldsValue({select_end_date:"never"}),e.date&&t.repeat&&n.setFieldsValue({end_date:this.offsetDate(t.date,i)}),e.frequency_id&&t.end_date&&n.setFieldsValue({end_date:this.offsetDate(t.date,i)}),"date"===e.select_end_date&&setTimeout((function(){n.setFieldsValue({end_date:a.offsetDate(t.date,i)})}),500))}},{key:"renderForm",value:function(e,t){var n=this,a=this.props,r=a.frequencies,i=a.type,o=(a.purposes,a.paymentDetails),s="instapay"!==a.subtype,l=e.getFieldsValue(),c=!o.isCcPayment,u=yr()(o,"source.currency")||"PHP";return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 ".concat(s?"col-lg-6":"col-lg-12")},E.a.createElement(Je.a,{form:e,hideLimit:!0,name:"amount",maxLength:16,options:{initialValue:this.getDefaultValues("amount"),normalize:function(e){return e?Object(Vr.d)(e):""},rules:[{required:!0,message:"Amount is Required"},{validator:function(e,t,n){var a=Object(Vr.a)(t);a<=0?n("Invalid Amount"):o.source&&o.source.balance&&a>parseFloat(o.source.balance)?n("Amount is greater than your current balance"):n()}}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,u)}))),s&&E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"date",options:{initialValue:this.getDefaultValues("date"),rules:[{required:!0,message:"Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"Date",disabledDate:function(e){return e.isBefore(Le()(),"day")}})))),c&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"repeat",options:{preserve:!0,valuePropName:"checked",initialValue:this.getDefaultValues("repeat")}},E.a.createElement(Bn.a,null,"Repeat")))),l.repeat&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"frequency_id",options:{preserve:!0,initialValue:this.getDefaultValues("frequency_id"),rules:[{required:!0,message:"Frequency is Required"}]}},E.a.createElement(bn.a,{placeholder:"Select Frequency"},r.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.name)}))))),E.a.createElement("div",{className:"col col-12 col-lg-6"},("never"===l.select_end_date||!l.select_end_date)&&E.a.createElement(Je.a,{form:e,name:"select_end_date",options:{preserve:!0,initialValue:this.getDefaultValues("select_end_date"),rules:[{required:!0,message:"End Date is Required"}]}},E.a.createElement(bn.a,{placeholder:"Select Frequency"},E.a.createElement(bn.a.Option,{value:"never"},"Never"),E.a.createElement(bn.a.Option,{value:"date"},"Select End Date"))),"date"===l.select_end_date&&E.a.createElement(Je.a,{form:e,name:"end_date",options:{preserve:!0,initialValue:this.getDefaultValues("end_date"),rules:[{required:!0,message:"End Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"End Date",disabledDate:function(e){var t=Le()();return l.date&&(t=n.offsetDate(l.date,l.frequency_id)),e.isBefore(t,"day")}})))),"to-own"===i&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12"},E.a.createElement(Je.a,{form:e,name:"remarks",maxLength:256,options:{preserve:!0,initialValue:this.getDefaultValues("remarks"),normalize:function(e){return e?e.replace(MSG_REGX,""):""}}},E.a.createElement(Ye.a,{placeholder:"Note"}))))),E.a.createElement(Qe.a,{className:"my-5"},o.amount?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},o.amount?"Update":"Next")))}},{key:"render",value:function(){var e=this.props;e.frequencies,e.paymentDetails;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Payment details"},E.a.createElement("p",null,"Fill in the required details below."),E.a.createElement(Je.b,{onSubmit:this.onFormSubmit,onChange:this.onFormChange,formContent:this.renderForm}))))}}]),t}(E.a.Component),Es=Object(w.c)((function(e){var t=e.page;return vs({},e.paybills,{frequencies:t.frequencies})}),(function(e){return{setStep:function(t){e(Object(Ae.q)(t))},setAmount:function(t){e(Object(Ae.e)(t))}}}))(bs),Os=n(110),ks=n.n(Os),ws=n(1191),_s=n.n(ws),Ps=n(1230),Ss=n.n(Ps),xs=n(2025);function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ms=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={tempErrorMessage:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.paymentDetails;e.clientBillers,e.token;n.amount?this.setServiceFee():t.replace("/pay-bills")}},{key:"componentWillReceiveProps",value:function(e){var t=e.status,n=e.verifyUrl,a=e.response,r=e.purpose,i=e.confirmModal,o=this.props,s=o.otpClear,l=o.loadingOpen,c=o.dismissConfirmModal,u=o.cancelPayBills,d=o.history,p=o.otp;n===this.getVerifyOtpUrl(p.id)&&t&&a&&"BP"===r&&(l(),s(),this.onSuccessfulOtp(a)),i.state&&"cancelPayBills"===i.key&&(c(),u(),d.replace("/pay-bills"))}},{key:"onSuccessfulOtp",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.paymentRequest;a(),X.a.post("/user/payments",i,{"X-Grant-Token":e.token}).then((function(e){t.setBillsPaymentResult(e.data),t.updateNotifications(),r()})).catch((function(){r()}))}},{key:"getVerifyOtpUrl",value:function(e){return"/otp/".concat(e,"/grant")}},{key:"submit",value:function(){var e=this,t=this.props,n=t.paymentRequest,a=t.loadingOpen,r=t.loadingDismiss,i=t.setOtp;a(),X.a.post("/user/payments",n).then((function(t){r(),202===t.status?i(Ds({verifyUrl:e.getVerifyOtpUrl(t.data.id)},t.data,{purpose:"BP"})):(e.setBillsPaymentResult(t.data),e.updateNotifications())})).catch((function(){r()}))}},{key:"setBillsPaymentResult",value:function(e){var t=this.props,n=t.paymentDetails,a=t.loadListOfProducts,r=t.setPaymentResult,i=!!e.reference_number,o=i?"Payment Successful":"Payment Failed",s=!!e.next_transfer_at,l=i?"result":"review";if(i){a();var c=e.biller;(n=Ss()(n,_s()(e,["reference_number","service_fee","next_transfer_at","created_at"]))).values=ks()(c.values,n.values,"field_id"),n.note=c.note,s&&(o=Le()(e.date).isSame(Le()(),"d")?"Payment Successful and Scheduled":"Payment Scheduled Successfully")}r(Ds({},n,{resultMessage:o}),l)}},{key:"updateNotifications",value:function(){var e=this.props.updateNotificationsCount;X.a.get("/notifications/count-unseen",{noError:!0}).then((function(t){e(t.data)}))}},{key:"setServiceFee",value:function(){var e=this,t=this.props,n=t.loadingOpen,a=t.loadingDismiss,r=t.paymentRequest;n(),X.a.post("user/payments/validate",r).then((function(t){var n=t.data,r=n.service_fee;a(),e.sameTransaction(n),e.setBillsPaymentServiceFee(r)})).catch((function(){a()}))}},{key:"setBillsPaymentServiceFee",value:function(e){var t=this.props,n=t.paymentDetails;(0,t.setPaymentDetails)(Ds({},n,{service_fee:e,totalAmount:parseFloat(n.amount)+e}))}},{key:"sameTransaction",value:function(e){var t=this.props.openAlertModal,n=e.biller;e.has_same_transaction&&t(E.a.createElement("div",null,E.a.createElement("p",null,"We are just letting you know that you made a similar payment in the past 24 hours."),E.a.createElement("div",{className:"alert alert-dark border-0"},E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Biller:"),E.a.createElement("div",{className:"col"},n.name)),n.fields.map((function(e){return E.a.createElement("div",{className:"d-flex",key:e.name},E.a.createElement("div",{className:"w-33 text-right"},e.name,":"),E.a.createElement("div",{className:"col"},e.value))})),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Amount:"),E.a.createElement("div",{className:"col"},n.currency," ",n.amount)),E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-33 text-right"},"Reference Number:"),E.a.createElement("div",{className:"col"},n.reference_number))),E.a.createElement("p",{className:"m-0"},"You can proceed or cancel this payment on the next screen.")),{buttonLabel:"Got it"})}},{key:"confirmCancel",value:function(){(0,this.props.openConfirmModal)("cancelPayBills","Cancel Payment","Do you wish to cancel this payment?","Cancel Payment")}},{key:"render",value:function(){var e=this.props,t=e.paymentRequest,n=e.step,a=e.edit,r=this.state.tempErrorMessage;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"review"===n?"Review and Pay":t.resultMessage,actions:"result"===n?E.a.createElement(F.a,{href:"/pay-bills",size:"sm"},"New Payment"):null},E.a.createElement("p",null,"review"===n?r||'Please take time to review the details below before clicking "PAY".':t.errorMessage||""),E.a.createElement(xs.a,{edit:a,submit:this.submit,onCancel:this.confirmCancel}))))}}]),t}(E.a.Component),Ts=Object(w.c)((function(e){var t=e.page,n=e.paybills,a=e.otp;return Ds({},t,{},n,{},a,{otp:a,paymentRequest:n.paymentDetails})}),(function(e){return Ds({},Object(_.b)({openAlertModal:ee.n,openConfirmModal:ee.o,loadingOpen:ee.i,loadingDismiss:ee.h,setError:ee.y,cancelPayBills:Ae.a,setPaymentDetails:Ae.o,setStep:Ae.q,setOtp:te.b,otpClear:te.a,updateNotificationsCount:tr.s,setPaymentResult:Ae.p,loadListOfProducts:Q.loadListOfProducts,edit:Ae.q},e),{dismissConfirmModal:function(){e(Object(ee.d)(!1))}})}))(Ms);function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var js=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={paymentRequest:{}},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.history,a=e.paymentDetails,r=e.setStep;if(!a.biller_id){n.replace("".concat(t.url,"/").concat("to")),r("to")}this.loadPayBillsData()}},{key:"componentWillReceiveProps",value:function(e){var t=e.addClientBillerStatus,n=e.clearAddBillerStatus;"success"===t&&n()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.history,n=e.match,a=e.location,r=e.step,i="".concat(n.url,"/").concat(r);i!==a.pathname&&t.replace(i)}},{key:"componentWillUnmount",value:function(){(0,this.props.cancelPayBills)()}},{key:"loadPayBillsData",value:function(){var e=this,t=this.props,n=t.paymentDetails,a=t.setPaymentDetails,r=t.loadingOpen,i=t.loadingDismiss,o=this.state.paymentRequest;n.product&&(r(),X.a.get("content/billers/".concat(n.product.biller_id)).then((function(t){i();var r=t.data;o=Ns({},o,{biller_id:n.product.biller_id,values:[{field_id:r.fields[0].id,value:n.product.product_number}],billerFields:r.fields,fields:r.fields,billerName:n.product.product_name,frequency_id:0,totalAmount:n.totalAmount,date:Le()(new Date).format("YYYY-MM-DD")}),n.balance&&(o.currency=n.balance.currency,o.amount=n.balance.amount),e.setState({paymentRequest:o}),a(Ns({},n,{},o))})).catch((function(){i()})))}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{fixed:!0,title:"Pay Bills"},E.a.createElement(P.b,{path:"".concat(e.url,"/to"),component:hs}),E.a.createElement(P.b,{path:"".concat(e.url,"/fields"),component:ys}),E.a.createElement(P.b,{path:"".concat(e.url,"/from"),component:cs}),E.a.createElement(P.b,{path:"".concat(e.url,"/amount"),component:Es}),E.a.createElement(P.b,{exact:!0,path:"".concat(e.url,"/(review|result)"),component:Ts}))}}]),t}(E.a.Component),Is=Object(w.c)((function(e){return Ns({},e.paybills)}),(function(e){return Ns({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setError:ee.y,setPaymentDetails:Ae.o,setStep:Ae.q,cancelPayBills:Ae.a},e),{clearAddBillerStatus:function(){Object(Ae.b)()(e)}})}))(js),Fs=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{title:"Pay Bills"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,null,E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/process"),posticon:E.a.createElement(lr.a,null)},"Select Biller"))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage"},E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/history"),posticon:E.a.createElement(lr.a,null)},"Recent Payments")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/manage"),posticon:E.a.createElement(lr.a,null)},"Manage Billers")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/schedule"),posticon:E.a.createElement(lr.a,null)},"Manage Scheduled Payments")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/faq"),posticon:E.a.createElement(lr.a,null)},"FAQs"))))))))}}]),t}(E.a.Component),Rs=n(1681);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vs=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={detailsOpen:!1,billsPaymentHistory:[],selectedTransaction:null,hasMore:!0,loading:!1,searchTerm:"",limit:10,pagingError:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.setState({detailsOpen:!1,billsPaymentHistory:[],selectedTransaction:null})}},{key:"onTransactionRequest",value:function(e){var t=e.target,n=t.scrollHeight,a=t.scrollTop,r=t.offsetHeight,i=this.state,o=i.billsPaymentHistory,s=i.hasMore,l=i.loading,c=i.pagingError;if(!l&&s&&!c&&n-(a+r)<50){var u=o[o.length-1];u&&s&&this.fetchData({offset_id:u.id})}}},{key:"onSearch",value:function(e){e&&e.toString().length>=3?this.setState({searchTerm:e,billsPaymentHistory:[],hasMore:!0,loading:!0},this.fetchData):""===e&&this.setState({searchTerm:"",billsPaymentHistory:[],hasMore:!0,loading:!0},this.fetchData)}},{key:"onTransactionSelect",value:function(e){this.closeNotificationSidebar(),this.setState({detailsOpen:!0,selectedTransaction:e})}},{key:"onTransactionActionsMenuHide",value:function(){this.setState({detailsOpen:!1,selectedTransaction:null})}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"fetchData",value:function(e){var t=this,n=this.state,a=n.searchTerm,r=n.limit,i=this.state.billsPaymentHistory;this.setState({loading:!0}),X.a.get("user/payments",{params:Bs({},e,{q:a,limit:r})}).then((function(e){var n=e.data;n.length>0?t.setState({billsPaymentHistory:[].concat(ci()(i),ci()(n)),hasMore:n.length>=10,loading:!1}):t.setState({hasMore:!1,loading:!1})})).catch((function(){t.setState({loading:!1,pagingError:!0})}))}},{key:"tableFields",value:function(){return[{label:"Biller",width:"15%",data:function(e){return e.biller.name}},{label:"Account Name",width:"17.5%",data:function(e){return e.source.name}},{label:"Account Number",width:"17.5%",data:function(e){return Object(Ne.y)(e.source.number)}},{label:"Reference Number",width:"15%",data:function(e){return e.reference_number}},{label:"Transaction Date",width:"15%",data:function(e){return Le()(e.created_at).format("MMM DD, YYYY, hh:mm A z")}},{label:"Amount",width:"10%",align:"right",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}}]}},{key:"detailsFields",value:function(){return[{label:"From Account",data:function(e){return E.a.createElement(pi.a,{toggleable:!0,number:e.source.number},e.source.name)}},{label:"To Biller",data:function(e){return E.a.createElement(Rs.a,{fieldValues:e.biller.values,fields:e.biller.fields},e.biller.name)}},{label:"Amount",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}},{label:"Repeat",data:function(e){return e.frequency?e.frequency.name:""}},{label:"Biller Note",data:function(e){return e.biller.note}}]}},{key:"render",value:function(){var e=this.state,t=e.detailsOpen,n=e.billsPaymentHistory,a=e.selectedTransaction,r=e.loading;return E.a.createElement(C.a,{title:"Pay Bills - View Recent Payments"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Recent Payments"},E.a.createElement(di.a,{loading:r,items:n,tableFields:this.tableFields(),selectAction:this.onTransactionSelect,searchAction:this.onSearch,paginateAction:this.onTransactionRequest,selected:a,searchPlaceholder:"Search Recent Payment",emptyMessage:"No payments available",searchBoxOnFocus:this.onTransactionActionsMenuHide})))),E.a.createElement(ui.a,{transaction:a,detailsFields:this.detailsFields(),open:t,title:"Recent Payment",leftButtonAction:"close",onDismiss:this.onTransactionActionsMenuHide}))}}]),t}(E.a.Component),qs=Object(P.g)(Object(w.c)((function(e){return Bs({},e.paybills)}),(function(e){return Bs({},Object(_.b)({closeNotifItem:tr.b,closeNotifs:tr.c},e))}))(Vs)),zs=n(1782);function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gs=[{label:"Name",width:"40%",data:function(e){return e.alias||e.biller.name}},{label:"Values",width:"60%",data:function(e){return E.a.createElement("div",null,e.biller.values.map((function(e){return E.a.createElement("div",{key:e.id},e.mask?Object(Ne.y)(e.value):e.value)})))}}],Ys=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={filteredClientBillers:[],itemForDelete:null,searchTerm:"",favorite:!1,activeOption:{}},e.timer=null,e.doRetry=!0,k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.setClientBillersStatus;t&&(n("loading"),this.loadClientBillers())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.confirmModal,a=t.resetConfirmModal,r=t.clientBillers,i=t.setClientBillersStatus;"Pay Bills - Manage Billers"===n.key&&n.state&&(this.onDelete(),a()),r.length!==e.clientBillers.length&&(i(""),this.filterClientBillers())}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.doRetry=!1)}},{key:"onEditSave",value:function(e){var t=this,n="user/billers/".concat(e.id),a=this.props.setClientBillersStatus;a("loading"),this.setState({filteredClientBillers:[],activeOption:{}}),X.a.put(n,e).then((function(){a("loading"),t.loadClientBillers()})).catch((function(){a("failed"),t.filterClientBillers()}))}},{key:"onFavorite",value:function(e){var t="user/billers/".concat(e.id),n={alias:e.alias,favorite:!e.favorite,biller_id:e.biller.id,values:e.biller.values};X.a.put(t,n).then(this.loadClientBillers)}},{key:"onOption",value:function(e,t){switch(e.label){case"Edit":this.onEdit(t);break;case"Delete":this.onConfirmDelete(t)}}},{key:"onDelete",value:function(){var e=this,t=this.state.itemForDelete,n=this.props.setClientBillersStatus,a="user/billers/".concat(t.id);n("loading"),this.setState({filteredClientBillers:[],itemForDelete:null}),X.a.delete(a).then((function(){n("loading"),e.loadClientBillers()})).catch((function(){n("failed"),e.filterClientBillers()}))}},{key:"onConfirmDelete",value:function(e){var t=this.props,n=t.setError,a=t.openConfirmModal;e.scheduled?n("Unable to delete biller. This biller has scheduled payment."):(this.setState({itemForDelete:e,activeOption:{}}),a("Pay Bills - Manage Billers","Delete Biller","Do you wish to delete this biller?","Delete Biller"))}},{key:"onAdd",value:function(){this.props.showBillerForm(!0,{type:"add",biller:{}})}},{key:"onAddSave",value:function(e){var t=this;Object(Ae.k)("loading"),this.setState({filteredClientBillers:[],activeOption:{}}),X.a.post("user/billers",e).then((function(){t.loadClientBillers()})).catch((function(){Object(Ae.k)("failed"),t.filterClientBillers()}))}},{key:"onEdit",value:function(e){this.closeNotificationSidebar(),this.props.showBillerForm(!0,Hs({type:"edit"},e))}},{key:"setAll",value:function(){var e=this;this.setState({favorite:!1,filteredClientBillers:[],activeOption:{}},(function(){e.filterClientBillers()}))}},{key:"setFavorite",value:function(){var e=this;this.setState({favorite:!0,filteredClientBillers:[],activeOption:{}},(function(){e.filterClientBillers()}))}},{key:"searchBoxOnFocus",value:function(){this.props.showBillerForm(!1,{})}},{key:"loadClientBillers",value:function(){var e=this,t=this.props,n=t.setClientBillers,a=t.setClientBillersStatus;n([]),a("loading"),X.a.get("user/billers").then((function(e){a(""),n(e.data)})).catch((function(){a("failed"),e.doRetry&&(e.timer=setTimeout(e.loadClientBillers,3e3))}))}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"filterClientBillers",value:function(){var e=this.props.clientBillers,t=this.state,n=t.searchTerm,a=t.favorite,r=n?n.toLowerCase():"";e||(e=[]);var i=e.filter((function(e){return!(a&&!e.favorite)&&(e.alias?e.alias.toLowerCase().includes(r):e.biller.name.toLowerCase().includes(r))}));i=i.sort((function(e){return e.favorite?-1:1})),this.setState({filteredClientBillers:i})}},{key:"handleSearch",value:function(e){this.setState({searchTerm:e||""},this.filterClientBillers)}},{key:"optionIcon",value:function(e){var t=this.state.activeOption;return E.a.createElement(zs.a,{favorite:!0,item:e,active:t,onOption:this.onOption,onFavorite:this.onFavorite},E.a.createElement("li",null,E.a.createElement("a",{onClick:this.onEdit.bind(this,e),role:"presentation"},"Edit")),E.a.createElement("li",null,E.a.createElement("a",{onClick:this.onConfirmDelete.bind(this,e),role:"presentation"},"Delete")))}},{key:"handleOptionClick",value:function(e){var t=e.item;switch(e.name){case"favorite":this.onFavorite(t),this.setAll();break;case"edit":this.onEdit(t);break;case"delete":this.onConfirmDelete(t)}}},{key:"render",value:function(){var e=this.state,t=e.filteredClientBillers,n=e.favorite,a=e.searchTerm,r=this.props,i=r.clientBiller,o=r.clientbillersStatus,s=a||n?"No billers found":"No billers available";return E.a.createElement(C.a,{title:"Pay Bills - Manage Billers"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage Billers",actions:E.a.createElement(F.a,{onClick:this.onAdd,size:"sm"},"Add Biller")},E.a.createElement(di.a,{loading:"loading"===o,items:t,tableFields:Gs,onOptionClick:this.handleOptionClick,selectAction:this.onEdit,searchAction:this.handleSearch,searchBoxOnFocus:this.searchBoxOnFocus,operations:[{name:"favorite",active:function(e){return e.favorite},style:{width:"50px"},render:function(e){return e.item.favorite?E.a.createElement(Si.a,null):E.a.createElement(xi.a,null)}},{name:"more",style:{width:"50px"},dropdownItems:[{name:"edit",label:"Edit"},{name:"delete",label:"Delete"}],render:function(){return E.a.createElement(Pi.a,null)}}],selected:i,searchPlaceholder:"Search Billers",emptyMessage:s},E.a.createElement("div",null,E.a.createElement("ul",{className:"nav nav-tabs nav-fill rounded-top"},E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{className:"nav-link ".concat(n?"":"active"),onClick:this.setAll,role:"presentation"},"My Billers")),E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{className:"nav-link ".concat(n?"active":""),onClick:this.setFavorite,role:"presentation"},"Favorites"))))))))))}}]),t}(E.a.Component),Ws=Object(w.c)((function(e){return Hs({},e.page,{},e.paybills)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,closeNotifItem:tr.b,closeNotifs:tr.c,setClientBillers:Ae.j,setClientBillersStatus:Ae.k,showBillerForm:Ae.r,setError:ee.y},e)}))(Ys);function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ks="Pay Bills - Manage Scheduled Payments",$s=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={detailsOpen:!1,payBillsSchedules:[],filteredPayBills:[],selectedTransaction:null,loading:!1,searchTerm:""},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.resetConfirmModal;t.key===Ks&&t.state&&(this.onConfirmationModalProceed(),n())}},{key:"componentWillUnmount",value:function(){this.setState({detailsOpen:!1,payBillsSchedules:[],filteredPayBills:[],selectedTransaction:null})}},{key:"onSearch",value:function(e){this.setState({searchTerm:e},this.filterPayBillsSchedules)}},{key:"onTransactionSelect",value:function(e){this.closeNotificationSidebar(),this.setState({detailsOpen:!0,selectedTransaction:e})}},{key:"onTransactionCancel",value:function(e){this.setState({transactionForCancellation:e}),this.props.openConfirmModal(Ks,"Hang On","Are you sure you want to cancel this scheduled payment?")}},{key:"onTransactionActionsMenuHide",value:function(){this.setState({detailsOpen:!1,selectedTransaction:null})}},{key:"onConfirmationModalProceed",value:function(){var e=this,t=this.state.transactionForCancellation;X.a.delete("user/payments/scheduled/"+t.id).then((function(){e.setState({payBillsSchedules:[],filteredPayBills:[],transactionForCancellation:null}),e.fetchData()}))}},{key:"fetchData",value:function(){var e=this;this.setState({loading:!0,filteredPayBills:[]}),X.a.get("user/payments/scheduled").then((function(t){var n=e.state.payBillsSchedules,a=t.data;a.length>0?e.setState({payBillsSchedules:[].concat(ci()(n),ci()(a)),loading:!1}):e.setState({loading:!1}),e.filterPayBillsSchedules()})).catch((function(){e.setState({loading:!1})}))}},{key:"filterPayBillsSchedules",value:function(){var e=this.state,t=e.payBillsSchedules,n=e.searchTerm,a=n?n.toLowerCase():"",r=t.filter((function(e){return e.amount.toLowerCase().includes(a)||e.frequency&&e.frequency.name.toLowerCase().includes(a)||e.source&&e.source.name.toLowerCase().includes(a)||e.source&&e.source.number.toLowerCase().includes(a)||e.next_transfer_at.toLowerCase().includes(a)}));this.setState({filteredPayBills:r,detailsOpen:!1})}},{key:"handleOptionClick",value:function(e){var t=e.item;switch(e.name){case"delete":this.onTransactionCancel(t)}}},{key:"tableFields",value:function(){return[{label:"Biller",width:"20%",data:function(e){return e.biller.name}},{label:"Values",width:"20%",data:function(e){return E.a.createElement("div",null,e.biller.fields.map((function(t){var n=e.biller.values.filter((function(e){return e.field_id===t.id}))[0]||{};return E.a.createElement("div",{key:n.value},t.mask?Object(Ne.y)(n.value):n.value)})))}},{label:"Next Payment On",width:"20%",data:function(e){return Le()(e.next_transfer_at).format("MMM DD, YYYY")}},{label:"Repeat",width:"20%",data:function(e){return(e.frequency?e.frequency.name:"")+(e.end_date?" Until ".concat(Le()(e.end_date).format("MMMM DD, YYYY")):"")}},{label:"Amount",width:"20%",align:"right",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}}]}},{key:"detailsFields",value:function(){return[{label:"From Account",data:function(e){return E.a.createElement(pi.a,{toggleable:!0,number:e.source.number},e.source.name)}},{label:"To Biller",data:function(e){return E.a.createElement(Rs.a,{fieldValues:e.biller.values,fields:e.biller.fields},e.biller.name)}},{label:"Amount",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}},{label:"Repeat",data:function(e){return e.frequency?e.frequency.name:""}},{label:"Next Payment On",data:function(e){return Le()(e.next_transfer_at).format("MMMM DD, YYYY")}},{label:"End Date",data:function(e){return Le()(e.end_date).format("MMMM DD, YYYY")}}]}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"render",value:function(){var e=this.state,t=e.detailsOpen,n=e.filteredPayBills,a=e.selectedTransaction,r=e.loading;return E.a.createElement(C.a,{title:Ks},E.a.createElement(I.a,{fixed:!0,noHeader:!0},E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Scheduled Payments"},E.a.createElement(di.a,{loading:r,items:n,tableFields:this.tableFields(),onOptionClick:this.handleOptionClick,selectAction:this.onTransactionSelect,operations:[{name:"delete",style:{width:"50px"},render:function(){return E.a.createElement(hi.a,null)}}],searchAction:this.onSearch,selected:a,searchPlaceholder:"Search Scheduled Payments",emptyMessage:"No scheduled payments available",searchBoxOnFocus:this.onTransactionActionsMenuHide})))),E.a.createElement(ui.a,{transaction:a,detailsFields:this.detailsFields(),open:t,leftButtonAction:"close",title:"Scheduled Payment",onDismiss:this.onTransactionActionsMenuHide}))}}]),t}(E.a.Component),Zs=Object(w.c)((function(e){var t=e.page;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.paybills,{confirmModal:t.confirmModal})}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,closeNotifItem:tr.b,closeNotifs:tr.c},e)}))($s),Qs=n(2129);function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tl=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.token&&this.loadPayBillsData()}},{key:"loadPayBillsData",value:function(){var e=this.props,t=e.frequencies,n=e.banks,a=e.products,r=e.setFrequencies,i=e.setBanks,o=e.loadListOfProducts;0===t.length&&X.a.get("/content/frequencies").then((function(e){r(e.data)})),0===n.length&&X.a.get("/content/banks").then((function(e){i(e.data)})),0===a.length&&o()}},{key:"handlePayResult",value:function(){var e=this.props.onPayResult;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.paymentDetails;return E.a.createElement("div",null,E.a.createElement(P.b,{exact:!0,path:"".concat(n.url),component:Fs}),E.a.createElement(P.b,{path:"".concat(n.url,"/process"),render:function(t){return E.a.createElement(Is,mr()({paymentDetails:a,onPayResult:e.handlePayResult},t))}}),E.a.createElement(P.b,{path:"".concat(n.url,"/history"),component:qs}),E.a.createElement(P.b,{path:"".concat(n.url,"/manage"),component:Ws}),E.a.createElement(P.b,{path:"".concat(n.url,"/schedule"),component:Zs}),E.a.createElement(P.b,{path:"".concat(n.url,"/faq"),render:function(){return E.a.createElement(Li,{title:"Pay Bills - Frequently Asked Questions",sideBarSelected:"pay-bills",type:"BP"})}}),E.a.createElement(Qs.a,null))}}]),t}(E.a.Component),nl=Object(w.c)((function(e){return el({},e.page,{products:e.product.products})}),(function(e){return el({},Object(_.b)({setFrequencies:Q.setFrequencies,setBanks:Q.setBanks,loadListOfProducts:Q.loadListOfProducts},e))}))(tl),al=n(1585);function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ol=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){(0,this.props.resetBuyLoadDetails)()}},{key:"getRules",value:function(){var e=this,t=this.props,n=t.setFeatureToggleRules,a=t.loadingOpen,r=t.loadingDismiss;a(),X.a.get("/feature-toggles").then((function(t){n(t.data),r(),e.checkRules()}))}},{key:"handleSelectContact",value:function(){var e=this.props,t=e.history,n=e.match,a=e.buyloadRule;a?1===a.status?t.replace("".concat(n.url,"/process/select-number")):0===a.status&&this.getRules():this.getRules()}},{key:"checkRules",value:function(){var e=this.props,t=e.openAlertModal,n=e.buyloadRule,a=e.history,r=e.match;0===n.status?t(n.message,{title:"Error",buttonLabel:"Got it"}):1===n.status&&a.replace("".concat(r.url,"/process/select-number"))}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{title:"Buy Load"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,null,E.a.createElement("p",null,"Please only use numbers that work in the Philippines"),E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",onClick:this.handleSelectContact,posticon:E.a.createElement(lr.a,null)},"Select Contact"))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage"},E.a.createElement("ul",{className:"nav flex-column"},E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/history"),posticon:E.a.createElement(lr.a,null)},"Recent Purchases")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/manage-contacts"),posticon:E.a.createElement(lr.a,null)},"Manage Contacts")),E.a.createElement("li",{className:"nav-item mb-3"},E.a.createElement(F.a,{square:!0,size:"lg",text:"left",width:"full",href:"".concat(e.url,"/faq"),posticon:E.a.createElement(lr.a,null)},"FAQs"))))))))}}]),t}(E.a.Component),sl=Object(P.g)(Object(w.c)((function(e){var t=e.page,n=e.buyload,a=t.featureToggleRules;return il({buyloadRule:x()(a,{name:"BUY_LOAD"})},t,{},n)}),(function(e){return Object(_.b)(il({},al,{openAlertModal:ee.n,setFeatureToggleRules:ee.z,loadingOpen:ee.i,loadingDismiss:ee.h}),e)}))(ol)),ll=n(2026),cl=n(1253),ul=n.n(cl),dl=n(2027),pl=n(1485);function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ml=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={loadContactsOpen:!1,edit:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.buyLoadDetails,n=e.mobilePrefixes,a=t.mobileNumber;this.props.contacts||this.props.loadContacts(),a&&this.setState({edit:!0}),n||this.loadMobilePrefixes(),this._form&&this._form.getFieldValue("mobileNumber")!==t.mobileNumber&&(this._form.setFieldsValue({mobileNumber:t.mobileNumber}),this._form.validateFields())}},{key:"componentWillReceiveProps",value:function(e){var t=e.buyLoadDetails;t.mobileNumber&&this._form.getFieldValue("mobileNumber")!==t.mobileNumber&&(this._form.setFieldsValue({mobileNumber:t.mobileNumber}),this._form.validateFields())}},{key:"componentWillUnmount",value:function(){this.setState({edit:!1})}},{key:"loadMobilePrefixes",value:function(){var e=this.props.setMobilePrefixes;X.a.get("content/mobile-prefixes").then((function(t){e(ul()(t.data,"value"))}))}},{key:"onLoadContactsOpen",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n(),this.setState({loadContactsOpen:!0})}},{key:"onLoadContactsDismiss",value:function(){this.setState({loadContactsOpen:!1})}},{key:"submit",value:function(e){var t=this.props,n=t.setMobileNumber,a=t.history,r=t.mobilePrefixes,i=t.loadSpecificBiller,o=t.buyLoadDetails,s=t.contacts,l=t.setContactExistInList,c=t.setAmount,u=(t.setMessage,this.state.edit);i({id:r[e.mobileNumber.slice(0,4)].biller_id}),l(At()(s,["mobile_number",e.mobileNumber])),e.mobileNumber!==o.mobileNumber&&c({}),u&&o.account&&o.amount?a.replace("/buy-load/process/amount"):a.replace("/buy-load/process/from"),n({mobileNumber:e.mobileNumber})}},{key:"preValidate",value:function(e){return e?e.replace(/[^0-9]/g,""):""}},{key:"validate",value:function(e,t,n){var a="",r=this.props.mobilePrefixes,i=t.slice(0,4);r?r[i]||(a="Please enter a valid PH Mobile Number."):a=" ";a.length>0?n(a):n()}},{key:"render",value:function(){var e=this,t=this.props.contacts,n=this.state.loadContactsOpen;return E.a.createElement(C.a,{title:"Buy Load"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Which mobile number do you want to load?"},E.a.createElement("p",null,"Please only use numbers that work in the Philippines"),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return e._form=t,E.a.createElement("div",null,E.a.createElement("div",{className:"card card-body"},E.a.createElement(Je.a,{name:"mobileNumber",form:t,maxLength:11,options:{normalize:e.preValidate,validateFirst:!0,rules:[{required:!0,message:"Mobile number is required."},{len:11,message:"Please enter 11 digits."},{validator:e.validate}]}},E.a.createElement(Ye.a,{prefix:E.a.createElement(Xe.a,{component:pl.a}),placeholder:"Ex: 09171234567"}))),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement(He.a,{className:"w-wide",onClick:e.onLoadContactsOpen},"Select from list"),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Next"))))}})))),E.a.createElement(dl.a,{open:n,contacts:t,onDismiss:this.onLoadContactsDismiss}))}}]),t}(E.a.Component),fl=Object(w.c)((function(e){var t=e.buyload;return{contacts:t.contacts,contact:t.contact,mobilePrefixes:t.mobilePrefixes,buyLoadDetails:t.buyLoadDetails,checkBuyloadStatus:t.checkBuyloadStatus}}),(function(e){return Object(_.b)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},al,{closeNotifItem:tr.b,closeNotifs:tr.c}),e)}))(ml),yl=n(1709);function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var vl=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadListOfProducts,n=e.buyLoadDetails,a=e.history,r=e.products,i=this.filterAccounts();n.mobileNumber||a.replace("/buy-load"),n.account||1!==i.length||this.selectAccount(i[0]),0===r.length&&t()}},{key:"selectAccount",value:function(e){var t=e,n=this.props,a=n.setAccount,r=n.history,i=n.buyLoadDetails;a({account:t={bank_id:0,currency:t.currency,number:t.product_number,name:t.product_name,amount:t.balance}}),i.account&&i.amount?r.replace("/buy-load/process/review"):r.replace("/buy-load/process/amount")}},{key:"filterFunction",value:function(e){return e.buy_load&&"PHP"===e.currency&&e.debit}},{key:"filterAccounts",value:function(){var e=this.props.products,t=e?e.filter(this.filterFunction):[];return 0===t.length&&(t=!1),t}},{key:"render",value:function(){var e=this.props.products,t=this.filterAccounts(),n=0===e.length||t.length>0;return E.a.createElement(C.a,{title:"Buy Load"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:Object(yl.a)("text.title.buy-load.process.from")},n&&E.a.createElement("p",null,Object(yl.a)("text.body.buy-load.process.from")),n?E.a.createElement(R.a,{products:t,onItemClick:this.selectAccount,unmasked:!0}):E.a.createElement("div",null,E.a.createElement("div",{className:"items"}," Sorry, none of your accounts are eligible for this feature."),E.a.createElement("div",{className:"d-flex align-items-center my-5"},E.a.createElement(F.a,{uppercase:!0,width:"wide",color:"primary",href:"/buy-load",className:"m-auto"},"Back"))))))))}}]),t}(E.a.Component);var bl=Object(w.c)((function(e){var t=e.buyload,n=e.product;return{contacts:t.contacts,contact:t.contact,buyLoadDetails:t.buyLoadDetails,mobilePrefixes:t.mobilePrefixes,products:n.products}}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Q,{},al))(vl),El=n(2029),Ol=n(2030);function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var wl=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={disabled:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.buyLoadDetails,n=e.history,a=t.account,r=t.mobileNumber;a&&r||n.replace("/buy-load")}},{key:"componentDidMount",value:function(){var e=this.props.buyLoadDetails,t=e.message,n=e.amount;t&&this._form&&this._form.setFieldsValue({message:t,amount:n}),n&&this.setState({disabled:!1})}},{key:"submit",value:function(e){var t=e.amount,n=this.props,a=n.history,r=n.buyLoadDetails,i=n.setAmount,o=n.setError,s=r.account;parseInt(s.amount)-t>=0?(i(e),a.replace("/buy-load/process/review")):o("Insufficient funds. Please make sure that your balance is enough to cover the transaction amount and the service fee, if applicable.")}},{key:"renderAmount",value:function(e){var t=this.props,n=t.biller,a=t.buyLoadDetails;if(n.fields)return n.fields[1].options.map((function(t){return E.a.createElement(Je.a,{form:e,name:"amount",key:t.name,options:{trigger:"onClick",getValueFromEvent:function(e){return e.value},initialValue:a.amount},className:"mb-0"},E.a.createElement(Ol.a,{item:t}))}))}},{key:"render",value:function(){var e=this,t=this.state.disabled,n=Ye.a.TextArea;return E.a.createElement(C.a,{title:"Buy Load"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Choose amount"},E.a.createElement("p",null,"Click to any of the applicable accounts below and click 'Next'."),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(a){return e._form=a,E.a.createElement("div",null,E.a.createElement(El.a,{appearance:"card",padding:!0},E.a.createElement("div",{className:"form-group d-flex flex-wrap"},e.renderAmount(a)),E.a.createElement("div",{className:"form-group mx-3"},E.a.createElement(Je.a,{name:"message",form:a,maxLength:256},E.a.createElement(n,{placeholder:"Note",autosize:{minRows:2}})))),E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},"Next")))}})))))}}]),t}(E.a.Component),_l=Object(w.c)((function(e){var t=e.buyload,n=t.biller,a=t.buyLoadDetails,r=0;return n.fields&&(r=n.fields[1].options.length),{biller:n,buyLoadDetails:a,amountOptions:r}}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},al,{setError:ee.y}))(wl),Pl=n(2031),Sl=n(1789),xl=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={authSidebarOpen:!1,mobileNumber:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.loadContacts,n=e.clearAddContactStatus;"success"===e.addContactStatus&&(t(),n())}},{key:"onSaveContact",value:function(e){var t=this;X.a.post("user/contacts",e).then((function(){t.setState({authSidebarOpen:!1}),t.props.addContact(e)}))}},{key:"sideBarDismiss",value:function(){this.setState({authSidebarOpen:!1})}},{key:"sideBarOpen",value:function(e){this.setState({authSidebarOpen:!0,mobileNumber:e})}},{key:"renderStatus",value:function(e){switch(e){case"":case"loading":return"Review and Purchase";case"success":return"Purchase Successful";case"failed":return"Purchase Failed";default:return"Review and Purchase"}}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.status,a=this.state,r=a.authSidebarOpen,i=a.mobileNumber;return E.a.createElement(C.a,{title:"Buy Load"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:this.renderStatus(n),actions:"success"===n||"failed"===n?E.a.createElement(F.a,{href:"/buy-load"},"New Purchase"):null},!("success"===n||"failed"===n)&&E.a.createElement("p",null,"Please take time to review the details below before clicking 'Purchase'."),E.a.createElement(Pl.a,{history:t,sideBarOpen:this.sideBarOpen})))),E.a.createElement(Se.a,{header:"Add Contact",open:r,className:"transaction-details",direction:"right",onDismiss:this.sideBarDismiss},E.a.createElement(Sl.a,{item:{mobile_number:i},onSave:this.onSaveContact})))}}]),t}(E.a.Component);var Cl=Object(w.c)((function(e){var t=e.buyload;return{status:t.status,addContactStatus:t.addContactStatus}}),al)(xl);function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tl=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match;return E.a.createElement("div",null,E.a.createElement(P.b,{exact:!0,path:"".concat(e.url,"/select-number"),component:fl}),E.a.createElement(P.b,{path:"".concat(e.url,"/from"),component:bl}),E.a.createElement(P.b,{path:"".concat(e.url,"/amount"),component:_l}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:Cl}),E.a.createElement(P.b,{path:"".concat(e.url,"/result"),render:function(){return E.a.createElement(ll.a,{description:"You have loaded successfully."})}}))}}]),t}(E.a.Component);var Al=Object(P.g)(Object(w.c)((function(e){return Ml({},e.page,{checkBuyloadStatus:e.buyload.checkBuyloadStatus})}),(function(e){return Object(_.b)(Ml({},al),e)}))(Tl));function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Il=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={detailsOpen:!1,billsPaymentHistory:[],selectedTransaction:null,hasMore:!0,loading:!1,pagingError:!1,searchTerm:"",limit:10},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.setState({detailsOpen:!1,billsPaymentHistory:[],selectedTransaction:null})}},{key:"onTransactionActionsMenuHide",value:function(){this.setState({detailsOpen:!1,selectedTransaction:null})}},{key:"onTransactionSelect",value:function(e){this.closeNotificationSidebar(),this.setState({detailsOpen:!0,selectedTransaction:e})}},{key:"onSearch",value:function(e){e&&e.length.toString()>=3?this.setState({searchTerm:e,billsPaymentHistory:[],hasMore:!0,loading:!0},this.fetchData):this.setState({searchTerm:"",billsPaymentHistory:[],hasMore:!0,loading:!0},this.fetchData)}},{key:"onTransactionRequest",value:function(e){var t=this.state,n=t.billsPaymentHistory,a=t.hasMore,r=t.loading,i=t.pagingError,o=e.target,s=o.scrollHeight,l=o.scrollTop,c=o.offsetHeight;if(!r&&a&&!i&&s-(l+c)<50){var u=n[n.length-1];u&&a&&this.fetchData({offset_id:u.id})}}},{key:"fetchData",value:function(e){var t=this;this.setState({loading:!0});var n=this.state,a=n.searchTerm,r=n.limit,i=this.state.billsPaymentHistory;X.a.get("user/payments",{params:jl({},e,{q:a,limit:r,type:"BL"})}).then((function(e){var n=e.data;n.length>0?t.setState({billsPaymentHistory:[].concat(ci()(i),ci()(n)),hasMore:n.length>=10,loading:!1}):t.setState({hasMore:!1,loading:!1})})).catch((function(){t.setState({hasMore:!1,loading:!1,pagingError:!0})}))}},{key:"tableFields",value:function(){return[{label:"Mobile Number",width:"15%",data:function(e){return e.biller.values[0]?e.biller.values[0].value:""}},{label:"Account Name",width:"17.5%",data:function(e){return e.source.name}},{label:"Account Number",width:"17.5%",data:function(e){return Object(Ne.y)(e.source.number)}},{label:"Reference Number",width:"15%",data:function(e){return e.reference_number}},{label:"Transaction Date",width:"17.5%",data:function(e){return Le()(e.created_at).format("MMM DD, YYYY, hh:mm A z")}},{label:"Amount",width:"12.5%",align:"right",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}}]}},{key:"detailsFields",value:function(){return[{label:"From Account",data:function(e){return E.a.createElement(pi.a,{toggleable:!0,number:e.source.number},e.source.name)}},{label:"To",data:function(e){return E.a.createElement("div",null,e.biller.values[0]?e.biller.values[0].value:"")}},{label:"Amount",data:function(e){return E.a.createElement(_a.a,{currency:e.currency},e.amount)}},{label:"Note",data:function(e){return e.biller.values[2]?e.biller.values[2].value:""}}]}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"render",value:function(){var e=this.state,t=e.detailsOpen,n=e.billsPaymentHistory,a=e.selectedTransaction,r=e.loading;return E.a.createElement(C.a,{title:"Buy Load - View Recent Purchases"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Recent Purchases"},E.a.createElement(di.a,{loading:r,items:n,tableFields:this.tableFields(),selectAction:this.onTransactionSelect,searchAction:this.onSearch,paginateAction:this.onTransactionRequest,selected:a,searchPlaceholder:"Search Recent Purchases",emptyMessage:"No purchases available",searchBoxOnFocus:this.onTransactionActionsMenuHide})))),E.a.createElement(ui.a,{transaction:a,detailsFields:this.detailsFields(),open:t,title:"Recent Purchase",leftButtonAction:"close",onDismiss:this.onTransactionActionsMenuHide}))}}]),t}(E.a.Component),Fl=Object(w.c)((function(e){return jl({},e.paybills)}),(function(e){return Object(_.b)({closeNotifItem:tr.b,closeNotifs:tr.c},e)}))(Il);function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bl=[{label:"Name",width:"60%",data:function(e){return e.name}},{label:"Mobile Number",width:"40%",data:function(e){return e.mobile_number}}],Vl=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={authSidebarOpen:!1,filteredContacts:[],editContact:null,addContact:null,itemForDelete:null,searchTerm:"",favorite:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.contacts;e&&e.length||!this.props.token?this.filterContacts():this.loadContacts()}},{key:"componentWillReceiveProps",value:function(e){e.contacts&&this.filterContacts(e.contacts)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.resetConfirmModal;"Buy Load - Manage Contacts"===t.key&&t.state&&(this.deleteContact(),n())}},{key:"onOption",value:function(e,t){switch(e.label){case"Edit":this.onEdit(t);break;case"Delete":this.onConfirmDelete(t)}}},{key:"onConfirmDelete",value:function(e){this.setState({itemForDelete:e}),this.props.openConfirmModal("Buy Load - Manage Contacts","Hang on","Are you sure you're about to delete this contact?")}},{key:"onConfirmDismiss",value:function(){this.setState({itemForDelete:null})}},{key:"onAdd",value:function(){this.setState({authSidebarOpen:!0,addContact:{},editContact:null}),this.closeNotificationSidebar()}},{key:"onAddSave",value:function(e){var t=this;this.setState({filteredContacts:[],addContact:e}),X.a.post("user/contacts",e).then((function(){t.setState({authSidebarOpen:!1,addContact:null},t.loadContacts)})).catch((function(){t.filterContacts()}))}},{key:"onEdit",value:function(e){this.setState({authSidebarOpen:!0,editContact:e,addContact:null}),this.closeNotificationSidebar()}},{key:"setFavorite",value:function(){var e=this;this.setState({favorite:!0,filteredContacts:[]},(function(){e.filterContacts()}))}},{key:"setAll",value:function(){var e=this;this.setState({favorite:!1,filteredContacts:[]},(function(){e.filterContacts()}))}},{key:"sideBarDismiss",value:function(){this.setState({authSidebarOpen:!1,editContact:null,addContact:null})}},{key:"loadContacts",value:function(){var e=this.props.setContacts;e([],"pending"),X.a.get("user/contacts").then((function(t){e(t.data)})).catch((function(){e([],"failed")}))}},{key:"updateContact",value:function(e){var t=this;this.setState({authSidebarOpen:!1,filteredContacts:[],addContact:null,editContact:null}),X.a.put("user/contacts/".concat(e.id),e).then((function(){t.loadContacts()})).catch((function(){t.filterContacts()}))}},{key:"toggleFavorite",value:function(e){var t=this,n=e;n.favorite=!n.favorite,X.a.put("user/contacts/".concat(n.id),n).then((function(){t.loadContacts()}))}},{key:"handleSearch",value:function(e){this.setState({searchTerm:e||""},this.filterContacts)}},{key:"deleteContact",value:function(){var e=this,t=this.state.itemForDelete;this.setState({filteredContacts:[],itemForDelete:null}),X.a.delete("user/contacts/".concat(t.id)).then((function(){e.loadContacts()})).catch((function(){e.filterContacts()}))}},{key:"filterContacts",value:function(e){var t=this.state,n=t.searchTerm,a=t.favorite,r=e||this.props.contacts,i=n.toLowerCase(),o=r.filter((function(e){return!(a&&!e.favorite)&&(e.name.toLowerCase().includes(i)||e.mobile_number.toLowerCase().includes(i))}));o=o.sort((function(e){return e.favorite?-1:1})),this.setState({filteredContacts:o})}},{key:"handleOptionClick",value:function(e){var t=e.item;switch(e.name){case"favorite":return void this.toggleFavorite(t);case"edit":return void this.onEdit(t);case"delete":this.onConfirmDelete(t)}}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"render",value:function(){var e=this.props.contactsStatus,t=this.state,n=t.authSidebarOpen,a=t.filteredContacts,r=t.editContact,i=t.addContact,o=t.favorite,s=t.searchTerm||o?"No enrolled contacts found":"No enrolled contacts.";return E.a.createElement(C.a,{title:"Buy Load - Manage Contacts"},E.a.createElement(I.a,{fixed:!0,noHeader:!0},E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage Contacts",actions:E.a.createElement(F.a,{onClick:this.onAdd,size:"sm"},"Add Contact")},E.a.createElement(di.a,{loading:"pending"===e,items:a,tableFields:Bl,onOptionClick:this.handleOptionClick,selectAction:this.onEdit,searchAction:this.handleSearch,searchBoxOnFocus:this.sideBarDismiss,operations:[{name:"favorite",active:function(e){return e.favorite},style:{width:"50px"},render:function(e){return e.item.favorite?E.a.createElement(Si.a,null):E.a.createElement(xi.a,null)}},{name:"more",style:{width:"50px"},dropdownItems:[{name:"edit",label:"Edit"},{name:"delete",label:"Delete"}],render:function(){return E.a.createElement(Pi.a,null)}}],selected:r,searchPlaceholder:"Search Contacts",emptyMessage:s},E.a.createElement("div",{className:""},E.a.createElement("ul",{className:"nav nav-tabs nav-fill rounded-top"},E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-link ".concat(o?"":"active"),onClick:this.setAll},"My Contacts")),E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{role:"presentation",className:"nav-link ".concat(o?"active":""),onClick:this.setFavorite},"Favorites"))))))))),E.a.createElement(Se.a,{header:r?"Edit Contact":"Add Contact",open:n,className:"transaction-details",direction:"right",onDismiss:this.sideBarDismiss},r&&E.a.createElement(Sl.a,{item:r,onSave:this.updateContact}),i&&E.a.createElement(Sl.a,{item:i,onSave:this.onAddSave})))}}]),t}(E.a.Component),ql=Object(w.c)((function(e){return Ll({},e.page,{},e.buyload,{},e.contacts)}),Ll({},al,{setContacts:Ar.e,openConfirmModal:ee.o,resetConfirmModal:ee.s,closeNotifItem:tr.b,closeNotifs:tr.c}))(Vl);function zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hl=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.token&&this.loadBuyLoadData()}},{key:"componentWillUnmount",value:function(){this.props.resetBuyLoadDetails()}},{key:"loadBuyLoadData",value:function(){var e=this.props,t=e.loadBuyLoadData,n=e.setBanks,a=e.banks;t&&t(),0===a.length&&X.a.get("/content/banks").then((function(e){n(e.data)}))}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement("div",null,E.a.createElement(P.b,{exact:!0,path:"".concat(e.url),component:sl}),E.a.createElement(P.b,{path:"".concat(e.url,"/process"),component:Al}),E.a.createElement(P.b,{path:"".concat(e.url,"/history"),component:Fl}),E.a.createElement(P.b,{path:"".concat(e.url,"/manage-contacts"),component:ql}),E.a.createElement(P.b,{path:"".concat(e.url,"/faq"),render:function(){return E.a.createElement(Li,{title:"Buy Load - Frequently Asked Questions",sideBarSelected:"buy-load",type:"BL"})}}))}}]),t}(E.a.Component);var Gl=Object(P.g)(Object(w.c)((function(e){var t=e.page,n=e.buyload,a=n.biller,r=n.buyLoadDetails,i=n.checkBuyloadStatus,o=t.banks,s=t.featureToggleRules,l=t.token;return Ul({},t,{checkBuyloadStatus:i,biller:a,buyLoadDetails:r,banks:o,featureToggleRules:s,errorTime:t.errorTime,token:l,alertModal:t.alertModal})}),(function(e){return Object(_.b)(Ul({},al,{setBanks:Q.setBanks}),e)}))(Hl)),Yl=n(1566),Wl=n(1757),Xl=n(1486);n(1710);function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var $l=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={lastLogin:""},e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=window.sessionStorage.getItem("lastLogin");e?this.setState({lastLogin:Le()(e).format("MMM DD, YYYY hh:mm A")}):this.setState({lastLogin:"N/A"})}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.match,a=this.state.lastLogin,r=t.country;return E.a.createElement(L.a,{title:"Profile"},E.a.createElement("div",{className:"card p-3 p-md-5"},E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"flex-shrink-1 pr-3 pr-md-5"},t?E.a.createElement(Wl.a,{edit:!0,title:"Change",className:"d-flex flex-column pr-md-5 m-0"}):E.a.createElement("p",null,E.a.createElement(Xl.a,null),"Update profile picture")),E.a.createElement("div",{className:"flex-grow-1 d-flex flex-column justify-content-between h-md-100 w-100"},E.a.createElement("div",{className:"row no-gutters"},E.a.createElement("div",{className:"col-auto mb-3"},E.a.createElement("p",{className:"m-0 font-weight-bold"},t.full_name),E.a.createElement("small",{className:"text-muted"},"Last login: ",a))),E.a.createElement("div",{className:"row no-gutters flex-column flex-md-row justify-content-between"},E.a.createElement("div",{className:"col-auto mb-3 mb-md-0"},E.a.createElement("span",{className:"text-muted"},"Email address"),E.a.createElement("p",{className:"m-0 text-black"},t.email_address),E.a.createElement("small",{className:"text-muted"},t.pending_email_address?"(Pending Email: ".concat(t.pending_email_address,")"):" ")),E.a.createElement("div",{className:"col-auto mb-3 mb-md-0"},E.a.createElement("span",{className:"text-muted"},"Mobile number"),E.a.createElement("p",{className:"m-0 text-black"},!!r&&r.calling_code,t.mobile_number)),E.a.createElement("div",{className:"col-auto d-flex align-items-end"},E.a.createElement(F.a,{color:"primary",href:"".concat(n.url,"/profile")},"Update profile")))))))}}]),t}(E.a.Component),Zl=Object(P.g)(Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.settings)}),null)($l)),Ql=n(1487),Jl=n(1252),ec=n(1488),tc=n(1489),nc=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.match,n=e.showDashboardSettings;return E.a.createElement(C.a,{title:"More",className:"settings"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(Zl,null)),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Settings"},E.a.createElement("p",null,"Manage your security, profile, notification and transaction preferences"),E.a.createElement(Yl.a,null,E.a.createElement(F.a,{href:"".concat(t.url,"/security"),subtext:"Manage your password, registered devices and One-Time Password (OTP).",icon:E.a.createElement(Ql.a,null)},"Login and Security"),E.a.createElement(F.a,{href:"".concat(t.url,"/notifications"),subtext:"Manage notifications sent to you.",icon:E.a.createElement(Jl.a,null)},"Notifications"),E.a.createElement(F.a,{href:"".concat(t.url,"/transaction-limits"),subtext:"Manage transaction limits.",icon:E.a.createElement(ec.a,null)},"Transaction Limits"),n&&E.a.createElement(F.a,{href:"".concat(t.url,"/dashboard"),subtext:"Show/Hide sections",icon:E.a.createElement(tc.a,null)},"Manage Dashboard")))))))}}]),t}(E.a.Component),ac=Object(w.c)((function(e){var t=e.settings;return{showDashboardSettings:x()(t.dashboard,{enabled:!0})}}))(nc);function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oc=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={transactionLimits:[],transactionLimitAmounts:{},initialValues:{},loading:!0,hasChanges:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.loadTransactionLimits()}},{key:"componentWillReceiveProps",value:function(e){var t=e.status,n=e.verifyUrl,a=e.response,r=this.props,i=r.otpClear,o=r.setSuccessMessage;"/user/settings/transaction-limit/otp"===n&&t&&(i(),o("Congratulations!","Transaction Limits settings has been successfully updated."),this.initializeValues(a))}},{key:"loadTransactionLimits",value:function(){var e=this;this.setState({loading:!0}),X.a.get("user/settings/transaction-limit").then((function(t){var n=t.data;e.setState({transactionLimits:n}),n.map(e.loadTransactionLimitAmounts)}))}},{key:"loadTransactionLimitAmounts",value:function(e){var t=this,n=this.state,a=n.transactionLimitAmounts,r=n.transactionLimits,i={type_id:e.type_id};X.a.get("content/transaction-limit/amounts",{params:i}).then((function(n){a[e.type_id]=n.data;var i=r.length===Object.keys(a).length;t.setState({transactionLimitAmounts:a,loading:!i}),i&&t.initializeValues(r)}))}},{key:"submit",value:function(e){var t=this.props,n=t.loadingOpen,a=t.loadingDismiss,r=t.setOtp,i=this.state.transactionLimitAmounts,o=[];A()(e,(function(e,t){var n=parseInt(t.substr("amount-".length,1)),a=x()(i[n],{id:parseInt(e)});a&&o.push({type_id:n,amount_id:a.id})})),n(),X.a.put("/user/settings/transaction-limit",o).then((function(e){a(),r(ic({verifyUrl:"/user/settings/transaction-limit/otp"},e.data))})).catch((function(){a()}))}},{key:"getFormValues",value:function(e){var t={};return A()(this.state.initialValues,(function(n,a){t[a]={amountId:parseInt(e["amount-".concat(a)])}})),t}},{key:"initializeValues",value:function(e){var t=this,n={};this.state.transactionLimitAmounts;e.map((function(e){var t=e.type_id,a=e.amount;n["amount-".concat(t)]=a.id})),this.setState({initialValues:n},(function(){return t.checkChanges(null,t._form.getFieldsValue())}))}},{key:"checkChanges",value:function(e,t){var n=!1;Rn()(t,this.state.initialValues)||(n=!0),this.setState({hasChanges:n})}},{key:"getOptions",value:function(e){var t=this.state.transactionLimitAmounts;return t[e]?t[e]:[]}},{key:"getInitialValues",value:function(e){var t=this.state.transactionLimits,n=parseInt(e.replace("amount-",""));return yr()(x()(t,{type_id:n}),"amount.id",null)}},{key:"render",value:function(){var e=this,t=this.state,n=t.transactionLimits,a=t.loading,r=t.hasChanges;t.initialValues;return E.a.createElement(C.a,{title:"Transaction Limits"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Manage Transaction Limits"},E.a.createElement("p",null,"Manage limits for each of the transaction types below."),E.a.createElement(Je.b,{onChange:this.checkChanges,onSubmit:this.submit,formContent:function(t){return e._form=t,E.a.createElement("div",null,E.a.createElement("div",{className:"card"},a?E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"}))):E.a.createElement("div",{className:"list-group list-group-flush"},n.map((function(n,a){return E.a.createElement("div",{className:"list-group-item justify-content-between flex-column flex-sm-row d-flex",key:a},E.a.createElement("div",{className:"col-sm"},n.name),E.a.createElement("div",{className:"col-sm mt-md-0 mt-3"},E.a.createElement(Je.a,{name:"amount-".concat(n.type_id),form:t,options:{initialValue:e.getInitialValues("amount-".concat(n.type_id))}},E.a.createElement(bn.a,{className:"w-100",placeholder:"Select value"},e.getOptions(n.type_id).map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},parseInt(e.amount)>0&&E.a.createElement(Br.a,{className:"mr-2"},yr()(n,"amount.currency","PHP")),e.formatted_amount)}))))))})))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:!r},"Save")))}})))))}}]),t}(E.a.Component),sc=Object(w.c)((function(e){return ic({},e.otp)}),(function(e){return Object(_.b)({setOtp:te.b,otpClear:te.a,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h},e)}))(oc),lc=n(1193),cc=n.n(lc),uc=n(691),dc=n.n(uc);function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mc=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={settings:[],initialValues:{},hasChange:!1,checkAll:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/user/settings/notification").then((function(t){var n=t.data;e.setState({settings:n}),e.initializeValues(n)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.status,a=t.verifyUrl,r=t.otpClear,i=t.setSuccessMessage,o=t.successModal,s=t.history;"/user/settings/notification/otp"===a&&n&&(r(),i("Congratulations!","Notification settings has been successfully updated.")),e.successModal.title&&!o.title&&s.replace("/more-options")}},{key:"submit",value:function(e){var t=this.props,n=t.loadingOpen,a=t.loadingDismiss,r=t.setOtp,i=this.state.settings.map((function(t){return{id:t.id,email:e["".concat(t.name,"-email")],sms:e["".concat(t.name,"-sms")]}}));n(),X.a.put("/user/settings/notification",i).then((function(e){a(),r(hc({verifyUrl:"/user/settings/notification/otp"},e.data))})).catch((function(){a()}))}},{key:"initializeValues",value:function(e){var t={},n=!1;e.map((function(e){t["".concat(e.name,"-sms")]=e.email,t["".concat(e.name,"-email")]=e.sms,(e.sms||e.email)&&(n=!0)})),this.setState({initialValues:t,checkAll:n})}},{key:"checkValuesState",value:function(){var e=this.state,t=e.initialValues,n=e.settings,a=!1,r=!1;n.forEach((function(e){var n=e.id,i=e.email,o=e.sms;t[n].email===i&&t[n].sms===o||(a=!0),(o||i)&&(r=!0)})),this.setState({hasChange:a,checkAll:r})}},{key:"triggerCheckAll",value:function(e){var t=this.state.settings,n={};t.map((function(t){n["".concat(t.name,"-email")]=e,n["".concat(t.name,"-sms")]=e})),this.setState({checkAll:e}),this._form.setFieldsValue(n)}},{key:"checkChanges",value:function(e){var t=hc({},this._form.getFieldsValue(),{},e),n=dc()(t).includes(!0),a=this.state.initialValues,r=!Rn()(t,a);this.setState({checkAll:n,hasChange:r})}},{key:"render",value:function(){var e=this,t=this.state,n=t.settings,a=t.hasChange,r=t.checkAll;return E.a.createElement(C.a,{title:"Notifications"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Manage Notifications"},E.a.createElement(Je.b,{onChange:this.checkChanges,onSubmit:this.submit,formContent:function(t){return e._form=t,E.a.createElement("div",null,E.a.createElement("div",{className:"d-flex justify-content-between align-items-center align-items-md-start"},E.a.createElement("p",{className:"pr-3"},"Get notified on the follow actions or manage the actions you would like to receive a notification on."),E.a.createElement("div",null,E.a.createElement(cc.a,{size:"small",checked:r,onChange:e.triggerCheckAll}))),E.a.createElement("div",{className:"card"},n.length>0?E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",{className:"w-75"}," "),E.a.createElement("div",null,"Email"),E.a.createElement("div",null,"SMS")),n.map((function(e){return E.a.createElement("div",{key:e.id,className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",{className:"w-75"},e.name),E.a.createElement("div",null,E.a.createElement(Je.a,{name:"".concat(e.name,"-email"),form:t,options:{initialValue:!!e.email,valuePropName:"checked"}},E.a.createElement(Bn.a,null))),E.a.createElement("div",null,E.a.createElement(Je.a,{name:"".concat(e.name,"-sms"),form:t,options:{initialValue:!!e.sms,valuePropName:"checked"}},E.a.createElement(Bn.a,null))))}))):E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"})))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:!a},"Save")))}})))))}}]),t}(E.a.Component),fc=Object(w.c)((function(e){return hc({},e.otp,{successModal:e.page.successModal})}),(function(e){return hc({},Object(_.b)({setOtp:te.b,otpClear:te.a,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(mc);function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var gc=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.profile,n=e.match,a=t.country;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Update profile"},E.a.createElement(Yl.a,null,E.a.createElement(F.a,{pretext:"Name",href:"".concat(n.url,"/name")},t.full_name),E.a.createElement(F.a,{pretext:"Email Address",subtext:t.pending_email_address?"(Pending Email: ".concat(t.pending_email_address,")"):null,href:"".concat(n.url,"/email")},t.email_address),E.a.createElement(F.a,{pretext:"Mobile Number",href:"".concat(n.url,"/mobile-number")},!!a&&"".concat(a.calling_code).concat(t.mobile_number))))))}}]),t}(E.a.Component),vc=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.settings)}),(function(){return{}}))(gc);function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oc=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={name:null,hasChanges:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getHistory(),this.getProfile()}},{key:"componentWillUnmount",value:function(){this.props.setProfileHistory([])}},{key:"submit",value:function(e){var t=this.props,n=t.history,a=t.setProfile,r=t.loadingOpen,i=t.loadingDismiss,o=t.setSuccessMessage;r(),X.a.put("/user/settings/profile/name",e).then((function(e){i(),n.push("/more-options/profile"),o("Congratulations!","Profile name has been successfully updated."),a(_s()(e.data,["first_name","last_name","full_name","shown_name","status"]))})).catch((function(){i()}))}},{key:"onHistoryRequest",value:function(e){var t=this.props,n=t.profileHistory,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight,c=this.state.pagingError;if(!r&&a&&!c&&o-(s+l)<50){var u=n[n.length-1];u&&a&&this.getHistory(u.id)}}},{key:"getProfile",value:function(){var e=this;X.a.get("user/profile").then((function(t){e.setState({name:_s()(t.data,["first_name","last_name"])})}))}},{key:"getHistory",value:function(e){var t=this,n=this.props,a=n.profileHistory,r=n.setProfileHistory,i=n.setProfileLoading,o=n.setProfileHasMore,s={limit:10};e&&(s.offset_id=e),i(!0),X.a.get("/user/settings/profile/name/history",{params:s}).then((function(e){var t=e.data,n=t.length;n>0?(r([].concat(ci()(a),ci()(t))),o(n>=s.limit)):o(!1),i(!1)})).catch((function(){i(!1),t.setState({pagingError:!0})}))}},{key:"tableFields",value:function(){return[{label:"From",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"From:  "),e.from)}},{label:"To",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"To:  "),e.to)}},{label:"Date",width:"40%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"Date:  "),Le()(e.date).format("MMM DD, YYYY hh:mm:ss A z"))}}]}},{key:"defaultValues",value:function(){var e=this.props.profile,t=this.state.name;return e.first_name?_s()(e,["first_name","last_name"]):t}},{key:"checkChanges",value:function(e,t){var n=!1;Rn()(this.defaultValues(),t)||(n=!0),this.setState({hasChanges:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.profileHistory,a=t.loading,r=t.profile,i=this.state.hasChanges;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Update Name"},E.a.createElement(Je.b,{onSubmit:this.submit,onChange:this.checkChanges,formContent:function(t,n){return e._form=t,E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"card p-4"},E.a.createElement("p",null,"Do you want to update your existing profile at UnionBank using the following details?"),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{name:"first_name",form:t,maxLength:30,options:{initialValue:r.first_name,rules:[{required:!0,message:"First name is required"},{whitespace:!0,message:"First name is required"}]}},E.a.createElement(Ye.a,{placeholder:"First Name",onChange:e.checkChanges}))),E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{name:"last_name",form:t,maxLength:30,options:{initialValue:r.last_name,rules:[{required:!0,message:"Last name is required"},{whitespace:!0,message:"Last name is required"}]}},E.a.createElement(Ye.a,{placeholder:"First Name",onChange:e.checkChanges}))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n||!i},"Save")))}})),E.a.createElement(L.a,{title:"Activities"},E.a.createElement(di.a,{loading:a,items:n,tableFields:this.tableFields(),paginateAction:this.onHistoryRequest,emptyMessage:"No activity available"}))))}}]),t}(E.a.Component),kc=Object(w.c)((function(e){return Ec({},e.settings)}),(function(e){return Ec({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,setProfile:ae.i,setProfileHistory:ae.k,setProfileLoading:ae.l,setProfileHasMore:ae.j},e))}))(Oc),wc=n(1490),_c=n.n(wc);function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xc=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={hasChanges:!1,pagingError:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.status,a=t.verifyUrl,r=t.response,i=t.profile,o=t.successMessage,s=t.history,l=t.otpClear,c=t.setProfile,u=t.setSuccessMessage;!e.status&&n&&"/user/settings/profile/email/otp"===a&&(c(_s()(r,["email_address","pending_email_address","status"])),u("Success!",o),s.push("/more-options/profile"),l()),!e.profile.email_address&&i.email_address&&this._form.setFieldsValue({email_address:i.email_address})}},{key:"componentWillUnmount",value:function(){this.props.setProfileHistory([])}},{key:"submit",value:function(e){var t=this.props,n=t.setOtp,a=t.loadingOpen,r=t.loadingDismiss;a(),X.a.put("/user/settings/profile/email",e).then((function(t){r(),n(Sc({},t.data,{verifyUrl:"/user/settings/profile/email/otp",purpose:"UPDATE_PROFILE",successMessage:_c()("We have sent an email to <%= pendingEmail %>. Tap the link to confirm your new email address.")({pendingEmail:e.email_address})}))})).catch((function(){r()}))}},{key:"resendPendingEmail",value:function(){var e=this.props,t=e.loadingOpen,n=e.loadingDismiss,a=e.setSuccessMessage,r=e.history;t(),X.a.post("/user/settings/profile/email/resend").then((function(e){var t=e.data.message;r.replace("/more-options/profile"),t&&a("Success!",t),n()})).catch((function(){n()}))}},{key:"cancelPendingEmail",value:function(){var e=this.props,t=e.loadingOpen,n=e.loadingDismiss,a=e.setProfile,r=e.toastOpen;t(),X.a.delete("/user/settings/profile/email").then((function(e){a({pending_email_address:null}),r(e.data.message,"success"),n()})).catch((function(){n()}))}},{key:"onHistoryRequest",value:function(e){var t=this.props,n=t.profileHistory,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight,c=this.state.pagingError;if(!r&&a&&!c&&o-(s+l)<50){var u=n[n.length-1];u&&a&&this.getHistory(u.id)}}},{key:"getHistory",value:function(e){var t=this,n=this.props,a=n.profileHistory,r=n.setProfileHistory,i=n.setProfileLoading,o=n.setProfileHasMore,s={limit:10};e&&(s.offset_id=e),i(!0),X.a.get("/user/settings/profile/email/history",{params:s}).then((function(e){var t=e.data,n=t.length;n>0?(r([].concat(ci()(a),ci()(t))),o(n>=s.limit)):o(!1),i(!1)})).catch((function(){i(!1),t.setState({pagingError:!0})}))}},{key:"checkChanges",value:function(e){var t=this.props.profile,n=!1;Rn()(t.email_address,e.target.value)||(n=!0),this.setState({hasChanges:n})}},{key:"tableFields",value:function(){return[{label:"From",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"From:  "),e.from)}},{label:"To",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"To:  "),e.to)}},{label:"Date",width:"40%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"Date:  "),Le()(e.date).format("MMM DD, YYYY hh:mm:ss A z"))}}]}},{key:"render",value:function(){var e=this,t=this.props,n=t.profileHistory,a=t.loading,r=t.profile,i=this.state.hasChanges;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Update Email Address"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){return e._form=t,E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"card p-4"},E.a.createElement("p",null,"Do you want to update your existing profile at UnionBank using the following details?"),E.a.createElement(Je.a,{name:"email_address",form:t,maxLength:320,options:{initialValue:r.email_address,rules:[{required:!0,message:"Email address is required"},{type:"email",message:"Invalid email address"}]}},E.a.createElement(Ye.a,{placeholder:"Email Address",onChange:e.checkChanges})),E.a.createElement("p",null,"Note: You will receive an email verification after nominating a new email.")),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n||!i},"Save")))}})),r.pending_email_address&&E.a.createElement(L.a,{title:"Pending Email Verification",className:"mb-5"},E.a.createElement($e.a,null,E.a.createElement("p",null,"Please verify your new email by clicking on the link sent to ",r.pending_email_address,".  For your security, this link expires after 8 hours."),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{color:"link",onClick:this.cancelPendingEmail.bind(this,!1)},"Cancel Request"),E.a.createElement(F.a,{color:"primary",width:"wide",onClick:this.resendPendingEmail.bind(this,!1)},"Resend Link")))),E.a.createElement(L.a,{title:"Activities"},E.a.createElement(di.a,{loading:a,items:n,tableFields:this.tableFields(),paginateAction:this.onHistoryRequest,emptyMessage:"No activity available"}))))}}]),t}(E.a.Component),Cc=Object(w.c)((function(e){var t=e.settings,n=e.otp;return Sc({},e.page,{},t,{},n)}),(function(e){return Sc({},Object(_.b)({setOtp:te.b,otpClear:te.a,loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,setProfileHistory:ae.k,setProfileLoading:ae.l,setProfileHasMore:ae.j,setProfile:ae.i,toastOpen:ee.O},e))}))(xc);function Dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tc=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={countrySelect:!1,hasChanges:!1,pagingError:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.countryCodes,n=e.setCoutryCodes;0===t.length&&X.a.get("/content/mobile-countries").then((function(e){n(e.data)})),this.getHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.status,a=t.verifyUrl,r=t.response,i=t.profile,o=t.successMessage,s=t.history,l=t.otpClear,c=t.setProfile,u=t.setSuccessMessage;if(!e.status&&n&&"/user/settings/profile/mobile/otp/new"===a&&(c(_s()(r,["mobile_number","status","country"])),u("Congratulations!",o),s.push("/more-options/profile"),l()),!e.profile.mobile_number&&i.mobile_number){var d=this.props.profile;this._form.setFieldsValue({mobile_number:d.mobile_number,country_id:d.country.id})}}},{key:"componentWillUnmount",value:function(){this.props.setProfileHistory([])}},{key:"submit",value:function(e){var t=this.props,n=t.setOtp,a=t.loadingOpen,r=t.loadingDismiss,i=t.countryCodes,o=t.profile,s=e.country_id,l=e.mobile_number,c={mobile_number:l,country_id:s};s||(s=o.country&&o.country.id,c.country_id=s),a(),X.a.put("/user/settings/profile/mobile",c).then((function(e){var t=x()(i,{id:parseInt(s)});r(),n(Mc({},e.data,{verifyUrl:"/user/settings/profile/mobile/otp/new",purpose:"UPDATE_PROFILE",successMessage:"Mobile number has been successfully updated to ".concat(t.calling_code).concat(l)}))})).catch((function(){r()}))}},{key:"onChange",value:function(){this.setState({countrySelect:!1})}},{key:"onHistoryRequest",value:function(e){var t=this.props,n=t.profileHistory,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight,c=this.state.pagingError;if(!r&&a&&!c&&o-(s+l)<50){var u=n[n.length-1];u&&a&&this.getHistory(u.id)}}},{key:"getAddon",value:function(e){var t=this.props,n=t.countryCodes,a=t.profile.country;return e&&(a=x()(n,{id:e})),a||(a={code:"PH",calling_code:"+63"}),a?E.a.createElement(En.a,{onClick:this.toggleCountry.bind(this,!0),country:a}):null}},{key:"getHistory",value:function(e){var t=this,n=this.props,a=n.profileHistory,r=n.setProfileHistory,i=n.setProfileLoading,o=n.setProfileHasMore,s={limit:10};e&&(s.offset_id=e),i(!0),X.a.get("/user/settings/profile/mobile/history",{params:s}).then((function(e){var t=e.data,n=t.length;n>0?(r([].concat(ci()(a),ci()(t))),o(n>=s.limit)):o(!1),i(!1)})).catch((function(){i(!1),t.setState({pagingError:!0})}))}},{key:"checkChanges",value:function(e,t){var n=!1;Rn()(this.defaultValues(),t)||(n=!0),this.setState({hasChanges:n})}},{key:"normalize",value:function(e){var t=e,n=this.props.profile.country;if(t){t=t.replace(/[^0-9]/g,"");var a=this._form.getFieldsValue();!a.country_id&&n&&(a.country_id=n.id),this.checkChanges(t,a)}return t}},{key:"validate",value:function(e,t,n){var a=this._form.getFieldsValue().country_id;a&&1!==a||10===t.length?n():n("Mobile Number is invalid.")}},{key:"defaultValues",value:function(){var e=this.props.profile,t=e.mobile_number,n=e.country,a=null;return n&&(a={mobile_number:t,country_id:n.id}),a}},{key:"toggleCountry",value:function(e){this.setState({countrySelect:!!e})}},{key:"tableFields",value:function(){return[{label:"From",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"From:  "),e.from)}},{label:"To",width:"30%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"To:  "),e.to)}},{label:"Date",width:"40%",data:function(e){return E.a.createElement("div",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"Date:  "),Le()(e.date).format("MMM DD, YYYY hh:mm:ss A z"))}}]}},{key:"filterOption",value:function(e,t){return t.props.children[1].toUpperCase().includes(e.toUpperCase())}},{key:"render",value:function(){var e=this,t=this.state,n=t.countrySelect,a=t.hasChanges,r=this.props,i=r.countryCodes,o=r.profileHistory,s=r.loading,l=r.profile;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Update Mobile Number"},E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(t,n){e._form=t;var r=t.getFieldsValue(),o=E.a.createElement("i",{className:"fa fa-pulse fa-spinner text-primary"});return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"card p-4"},E.a.createElement("p",null,"Do you want to update your existing profile at UnionBank using the following details?"),E.a.createElement(Je.a,{name:"mobile_number",form:t,maxLength:15,options:{initialValue:l.mobile_number,validateFirst:!0,normalize:e.normalize,rules:[{required:!0,message:"Mobile number is required"},{whitespace:!0,message:"Mobile number is required"},{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"ex. 9171234567",addonBefore:E.a.createElement("span",{role:"presentation",onClick:e.toggleCountry.bind(e,!0)},i.length>0&&r?e.getAddon(r.country_id):o)}))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n||!a},"Save")))}}),n&&E.a.createElement(B.a,{onDismiss:this.toggleCountry.bind(this,!1),open:n,size:"small",backdrop:!0},E.a.createElement("div",{className:"p-3 p-lg-5"},E.a.createElement("div",{className:"content"},E.a.createElement(Je.a,{form:this._form,name:"country_id",options:{preserve:!0,initialValue:this.defaultValues().country_id}},E.a.createElement(bn.a,{className:"w-100",placeholder:"Select Country",onChange:this.toggleCountry.bind(this,!1),showSearch:!0,filterOption:this.filterOption},i.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},E.a.createElement(An.a,{code:e.code})," ".concat(e.name))})))))))),E.a.createElement(L.a,{title:"Activities"},E.a.createElement(di.a,{loading:s,items:o,tableFields:this.tableFields(),paginateAction:this.onHistoryRequest,emptyMessage:"No activity available"}))))}}]),t}(b.Component),Ac=Object(w.c)((function(e){return Mc({},e.page,{},e.settings,{},e.otp)}),(function(e){return Mc({},Object(_.b)({setOtp:te.b,otpClear:te.a,loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,setCoutryCodes:ee.x,setProfileHistory:ae.k,setProfileLoading:ae.l,setProfileHasMore:ae.j,setProfile:ae.i},e))}))(Tc);function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var jc=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props;e.profile;(0,e.clearResult)()}},{key:"componentWilUnmount",value:function(){this.props.clearResult()}},{key:"getLabel",value:function(){var e=this.props.location.pathname;switch(e.substr(e.lastIndexOf("/")+1,e.length)){case"name":return"Name";case"email":return"Email Address";case"mobile-number":return"Mobile Number";default:return""}}},{key:"render",value:function(){var e=this.props.match,t=this.getLabel();return E.a.createElement(C.a,{title:"".concat("Profile -"," ").concat(t),className:"profile"},E.a.createElement(P.b,{exact:!0,path:"".concat(e.url),component:vc}),E.a.createElement(P.b,{path:"".concat(e.url,"/name"),component:kc}),E.a.createElement(P.b,{path:"".concat(e.url,"/email"),component:Cc}),E.a.createElement(P.b,{path:"".concat(e.url,"/mobile-number"),component:Ac}))}}]),t}(b.Component),Ic=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.settings)}),(function(e){return{clearResult:function(){Object(ae.b)(e)}}}))(jc),Fc=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){this.props.match;return E.a.createElement(C.a,{title:"Login and Security"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Manage Login and Security"},E.a.createElement("p",null,Object(yl.a)("text.body.settings.login-desc")),E.a.createElement(Yl.a,null,E.a.createElement(F.a,{href:"/more-options/password",subtext:Object(yl.a)("text.body.settings.login.password-desc")},Object(yl.a)("text.body.settings.login.password")),E.a.createElement(F.a,{href:"/more-options/manage-devices",subtext:"Manage the devices that you use for UnionBank Online"},"Manage Devices"),E.a.createElement(F.a,{href:"/more-options/manage-otp",subtext:"Manage the actions requiring a One-Time Password (OTP)."},"Manage One-Time Password (OTP)"))))))}}]),t}(E.a.Component),Rc=n(1609);function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vc=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={otpSettings:{},initialValues:{},hasChange:!1,hasCheck:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("user/settings").then((function(t){var n=t.data.otp,a=n.pay_bills||n.buy_load||n.transfer_funds||n.transfer_uitf;e.setState({otpSettings:n,hasCheck:a,initialValues:Bc({},n)})}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.status,n=e.verifyUrl,a=this.props,r=a.otpClear,i=a.setSuccessMessage,o=this.state.otpSettings;"/user/settings/otp/verify"===n&&t&&(r(),i("Congratulations!","OTP settings has been successfully updated."),this.setState({initialValues:Bc({},o),hasChange:!1}))}},{key:"onSubmit",value:function(){var e=this.props,t=e.loadingOpen,n=e.loadingDismiss,a=e.setOtp,r=this.state.otpSettings;t(),X.a.put("/user/settings/otp",r).then((function(e){n(),a(Bc({verifyUrl:"/user/settings/otp/verify"},e.data))})).catch((function(){n()}))}},{key:"onChange",value:function(e){var t=this.state.otpSettings;t[e]=!t[e],this.setState({otpSettings:t}),this.checkValuesState()}},{key:"triggerCheckAll",value:function(){var e=this.state,t=e.otpSettings,n=e.hasCheck;t.pay_bills=!n,t.buy_load=!n,t.transfer_funds=!n,t.transfer_uitf=!n,this.setState({otpSettings:t}),this.checkValuesState()}},{key:"checkValuesState",value:function(){var e=this.state,t=e.initialValues,n=e.otpSettings,a=n.pay_bills||n.buy_load||n.transfer_funds||n.transfer_uitf,r=!(t.pay_bills===n.pay_bills&&t.buy_load===n.buy_load&&t.transfer_funds===n.transfer_funds&&t.transfer_uitf===n.transfer_uitf);this.setState({hasCheck:a,hasChange:r})}},{key:"render",value:function(){var e=this.state,t=e.otpSettings,n=e.hasChange,a=e.hasCheck;return E.a.createElement(C.a,{title:"One-Time Password"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"OTP Preference"},E.a.createElement(Yl.a,null,E.a.createElement(F.a,{href:"/more-options/preferred-otp",subtext:"Select your preferred way of getting OTP"},"Manage Preferred OTP")))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage One-Time Password"},E.a.createElement("div",{className:"d-flex justify-content-between align-items-center align-items-md-start"},E.a.createElement("p",{className:"pr-3"},"Manage the actions requiring a One-Time Password (OTP).")),E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",null,"Require All"),E.a.createElement("div",null,E.a.createElement(Rc.a,{label:"Require OTP for all actions",value:a,standalone:!0,hiddenLabel:!0,appearance:"switch",onChange:this.triggerCheckAll}))))),E.a.createElement("div",{className:"card"},Object.keys(t).length>0&&E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",null,"Require OTP for Fund Transfers"),E.a.createElement("div",null,E.a.createElement(Rc.a,{label:"Require OTP for Fund Transfers",value:t.transfer_funds,standalone:!0,hiddenLabel:!0,appearance:"switch",onChange:this.onChange.bind(this,"transfer_funds")}))),E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",null,"Require OTP for Bills Payment"),E.a.createElement("div",null,E.a.createElement(Rc.a,{label:"Require OTP for Bills Payment",value:t.pay_bills,standalone:!0,hiddenLabel:!0,appearance:"switch",onChange:this.onChange.bind(this,"pay_bills")}))),E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",null,"Require OTP for Purchases"),E.a.createElement("div",null,E.a.createElement(Rc.a,{label:"Require OTP for Purchases",value:t.buy_load,standalone:!0,hiddenLabel:!0,appearance:"switch",onChange:this.onChange.bind(this,"buy_load")}))),Object.keys(t).includes("transfer_uitf")&&E.a.createElement("div",{className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",null,"Require OTP for UITF transactions"),E.a.createElement("div",null,E.a.createElement(Rc.a,{label:"Require OTP for UITF transactions",value:t.transfer_uitf,standalone:!0,hiddenLabel:!0,appearance:"switch",onChange:this.onChange.bind(this,"transfer_uitf")})))),0===Object.keys(t).length&&E.a.createElement(Xi.a,{className:"fa-2x my-3"})),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(F.a,{color:"primary",disabled:!n,onClick:this.onSubmit,className:"m-auto",width:"wide"},"Save")))))))}}]),t}(E.a.Component),qc=Object(w.c)((function(e){return Bc({},e.otp)}),(function(e){return Bc({},Object(_.b)({setOtp:te.b,otpClear:te.a,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(Vc),zc=n(1654),Uc=n(1655);function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yc=[{description:function(){return"Password should not be blank"},constraint:function(e){return e.length>0}},{description:function(){return"Password should be 8–30 characters"},constraint:function(e){return e.length>=8&&e.length<=30}},{description:function(){return"Password should contain an alphabetical character"},constraint:function(e){return/[a-z]/i.test(e)}},{description:function(){return"Password should contain a number"},constraint:function(e){return/[0-9]/.test(e)}},{description:function(){return"Password should contain a symbol"},constraint:function(e){return/[ !@#$%^&*()_+\-={}|[\]\\:/";'<>?,.]/.test(e)}}],Wc=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={pagingError:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.status,a=t.verifyUrl,r=t.response,i=t.otpClear,o=t.setSuccessMessage,s=t.setAccountExpired,l=t.history;!e.status&&n&&"/user/settings/password/otp"===a&&(s(!1),window.sessionStorage.setItem("accountExpired",!1),l.push("/more-options/security"),o("Congratulations!",r.message),this.updateNotifications(),i())}},{key:"updateNotifications",value:function(){var e=this.props.updateNotificationsCount;X.a.get("/notifications/count-unseen",{noError:!0}).then((function(t){e(t.data)}))}},{key:"componentWillUnmount",value:function(){this.props.setProfileHistory([])}},{key:"validate",value:function(e,t,n){var a="";/[a-zA-Z]/i.test(t)&&/[0-9]/.test(t)&&/[^a-zA-Z0-9]/.test(t)||(a=" "),a.length>0?n(a):n()}},{key:"getAction",value:function(e){switch(e){case 1:return"Change Password";case 2:return"Reset Password";case 3:return"Waive Password";case 4:return"Unblock Account"}return"Change Password"}},{key:"tableFields",value:function(){var e=this;return[{label:"Action",width:"20%",data:function(t){return e.getAction(t.type)}},{label:"Date",width:"25%",data:function(e){return Le()(e.date).format("MMM DD, YYYY hh:mm:ss A z")}},{label:"Device Type",width:"15%",data:function(e){return e.device_type}},{label:"Location",width:"20%",data:function(e){return e.location}},{label:"Status",width:"20%",data:function(e){return 0===e.attempt_result?"Attempted":"Successful"}}]}},{key:"getHistory",value:function(e){var t=this,n=this.props,a=n.profileHistory,r=n.setProfileHistory,i=n.setProfileLoading,o=n.setProfileHasMore,s={limit:10};e&&(s.offset_id=e),i(!0),X.a.get("/user/settings/password/history",{params:s}).then((function(e){i(!1);var t=e.data;t.length>0?(r(ks()(t,a,"id")),o(t.length>=s.limit)):o(!1)})).catch((function(){Object(ee.h)(),t.setState({pagingError:!0})}))}},{key:"submit",value:function(e){var t=this,n=this.props,a=n.loadingOpen,r=n.loadingDismiss,i=n.setOtp,o=n.setProfileHistory;a(),X.a.put("/user/settings/password",e).then((function(e){o([]),t.getHistory(),r(),i(Gc({},e.data,{verifyUrl:"/user/settings/password/otp"}))}),(function(){r()}))}},{key:"onHistoryRequest",value:function(e){var t=this.props,n=t.profileHistory,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight,c=this.state.pagingError;if(!r&&a&&!c&&o-(s+l)<50){var u=n[n.length-1];u&&a&&this.getHistory(u.id)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.profileHistory,a=t.loading;return E.a.createElement(C.a,{title:"Update Password",className:"password"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Enter New Password"},E.a.createElement(Je.b,{onSubmit:this.submit,onChange:this.checkChanges,formContent:function(t,n){e._form=t;var a=t.getFieldsValue();return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"card p-5"},E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"password",form:t,maxLength:30,masked:!0,hideLimit:!0,options:{rules:[{required:!0,message:" "},{min:8,message:" "},{validator:e.validate}]}},E.a.createElement(Ye.a,{placeholder:"Enter new password"})),E.a.createElement(zc.a,{password:a.password})),E.a.createElement(Ke.a,null,E.a.createElement(Uc.a,{items:Yc,value:a.password}))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:n},"Save")))}})),E.a.createElement(L.a,{title:"Activities"},E.a.createElement(di.a,{loading:a,items:n,tableFields:this.tableFields(),paginateAction:this.onHistoryRequest,emptyMessage:"No activity available"})))))}}]),t}(E.a.Component),Xc=Object(w.c)((function(e){var t=e.otp,n=e.settings;return Gc({},t,{},e.page,{},n,{profileHistoryLength:n.profileHistory})}),(function(e){return Gc({},Object(_.b)({setOtp:te.b,otpClear:te.a,loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,setProfileHistory:ae.k,setProfileLoading:ae.l,setProfileHasMore:ae.j,setAccountExpired:ee.t,updateNotificationsCount:tr.s},e))}))(Wc),Kc=n(1491),$c=n.n(Kc),Zc=n(1492),Qc=n.n(Zc),Jc=n(1493),eu=n.n(Jc),tu=n(1494),nu=n.n(tu);function au(e){var t=e.platform?e.platform.toLowerCase():"",n=e.group_name?e.group_name.toLowerCase():"",a=nu.a;return t.includes("android")&&(a=$c.a),t.includes("ios")&&(a=Qc.a),"tablet"===n&&(a=eu.a),E.a.createElement("img",{src:a})}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var iu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){0===this.props.devices.length&&this.getDevices()}},{key:"componentWillUnmount",value:function(){this.props.clearDevices()}},{key:"getDevices",value:function(){var e=this.props,t=e.setDevices,n=e.setDeviceStatus;n("loading"),X.a.get("/user/devices",{params:{all:!0}}).then((function(e){t(e.data),n("loaded")}))}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"selectDevice",value:function(e){this.props.setActiveDevice(e),this.closeNotificationSidebar()}},{key:"renderLoading",value:function(e,t){return"loading"!==e&&t.length>0?null:E.a.createElement("div",{className:"p-5"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item text-center"},"loading"===e?E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"}):"No device found")))}},{key:"renderDevice",value:function(e){var t=this.props.selectedItem,n=e.id,a=e.last_login,r=e.platform,i=e.name,o=i;r&&(o="".concat(i,", ").concat(r));var s=Le()(a).isValid()?Le()(a).format("MMM DD, YYYY hh:mm:ss A"):a;return E.a.createElement(F.a,{key:n,subtext:"Last login: ".concat(s),icon:au(e),onClick:this.selectDevice.bind(this,e),className:t.id===n?"active":""},o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.devicesStatus,a=t.untrustedDevices,r=t.trustedDevices,i=t.browsers,o=t.devices;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"body devices"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage Devices"},E.a.createElement("p",null,"Trust a device to skip entering a One-Time Password (OTP) when logging in."),this.renderLoading(n,o),r.length>0&&E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Trusted Devices (App Access)"},E.a.createElement(Yl.a,null,r.map((function(t){return e.renderDevice(t)}))))),a.length>0&&E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Untrusted Devices (App Access)"},E.a.createElement(Yl.a,null,a.map((function(t){return e.renderDevice(t)}))))),i.length>0&&E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Browser Access"},E.a.createElement(Yl.a,null,i.map((function(t){return e.renderDevice(t)})))))))))}}]),t}(E.a.Component),ou=Object(w.c)((function(e){var t=e.settings,n=t.manageDevices,a=n.devices,i=n.browsers,o=a.filter((function(e){return!!e.trusted&&"Web"!==e.group_name})),s=a.filter((function(e){return!e.trusted&&"Web"!==e.group_name}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.manageDevices,{untrustedDevices:s,trustedDevices:o,browsers:i})}),(function(e){return Object(_.b)({setDevices:ae.g,setDeviceStatus:ae.f,setActiveDevice:ae.c,clearDevices:ae.a,closeNotifItem:tr.b,closeNotifs:tr.c},e)}))(iu);function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var lu="DeviceLinkUnlink",cu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectedItem,a=t.confirmModal,r=t.resetConfirmModal;n.id&&e.selectedItem.id!==n.id&&this.getHistory(),a.state&&!e.confirmModal.state&&("DeviceDelete"===a.key&&this.deleteDevice(),a.key===lu&&this.trustDevice(),r())}},{key:"dismissSidebar",value:function(){this.props.setActiveDevice({})}},{key:"confirmDelete",value:function(){var e=this.props,t=e.selectedItem,n=e.openConfirmModal,a=E.a.createElement("div",null,E.a.createElement("p",null,"Do you want to forget ",t.name,"?​"),E.a.createElement("p",null,"By forgetting, we would log out and remove your UnionBank profile from this device."));n("DeviceDelete","Do you want to forget ".concat(t.name),a,"Forget Device","Not Now")}},{key:"confirmUnlink",value:function(){var e=this.props,t=e.selectedItem,n=e.openConfirmModal,a=E.a.createElement("div",null,E.a.createElement("p",null,"Do you want to untrust ",t.name,"?​"),E.a.createElement("p",null,"By untrusting, we would require you to enter a One-Time Password (OTP) when logging in using this device."));n(lu,"Untrust  ".concat(t.name),a,"Untrust Device","Not Now")}},{key:"confirmLink",value:function(){var e=this.props,t=e.selectedItem,n=e.openConfirmModal,a=E.a.createElement("div",null,E.a.createElement("p",null,"Do you want to trust ",t.name,"?​"),E.a.createElement("p",null,"By trusting, you are letting us know that all activities from this device are authorized by you. You can also skip the One-Time Password (OTP) on login. If you wish to receive an OTP, you can enable it under More > Settings > Manage One-Time Password.​"));n(lu,"Trust ".concat(t.name),a,"Trust Device","Not Now")}},{key:"getDevices",value:function(){var e=this.props,t=e.setDevices,n=e.setDeviceStatus;t([]),n("loading"),X.a.get("/user/devices",{params:{all:!0}}).then((function(e){t(e.data),n("loaded")}))}},{key:"getHistory",value:function(){var e=this.props,t=e.selectedItem,n=e.setDeviceHistory;n([],"loading"),X.a.get("/user/devices/".concat(t.id,"/history")).then((function(e){n(e.data,"success")}))}},{key:"trustDevice",value:function(){var e=this,t=this.props.selectedItem,n=t.trusted?"untrust":"trust";X.a.put("/user/devices/".concat(t.id,"/").concat(n)).then((function(){e.getDevices(),e.dismissSidebar()}))}},{key:"deleteDevice",value:function(){var e=this,t=this.props.selectedItem;X.a.delete("/user/devices/".concat(t.id)).then((function(){e.getDevices(),e.dismissSidebar()}))}},{key:"render",value:function(){var e=this.props,t=e.selectedItem,n=e.history,a=e.historyStatus,r=e.browsers,i="Browser Access";return t.id&&"Web"!==t.group_name&&(i=t.trusted?"Trusted Device":"Untrusted Device"),E.a.createElement(Yo.a,{open:!!t.id,onDismiss:this.dismissSidebar,direction:"right",title:i},E.a.createElement("div",{className:"content"},E.a.createElement("div",{className:"px-4"},!!t.id&&"Web"!==t.group_name&&E.a.createElement("div",{className:"d-flex py-3 my-3"},!t.trusted&&E.a.createElement("span",null,"Trust a device to skip entering a One-Time Password (OTP) when logging in. Forget a device to log out and remove your UnionBank profile."),t.trusted&&E.a.createElement("span",null,"Untrust a device to require entering a One-Time Password (OTP) when logging in. Forget a device to log out and remove your UnionBank profile.")),!!t.id&&E.a.createElement("div",{className:"card d-flex flex-row py-3 my-3"},E.a.createElement("div",{className:"d-flex align-items-center flex-shrink-1 p-3"},au(t)),E.a.createElement("div",{className:"p-3",style:{flexGrow:1}},E.a.createElement("span",{className:"d-block"},t.name,!!t.platform&&", ".concat(t.platform)),E.a.createElement("small",{className:"text-muted"},"Last login: ".concat(Le()(t.last_login).isValid()?Le()(t.last_login).format("MMM DD, YYYY hh:mm:ss A"):t.last_login)))),!!t.id&&"Web"!==t.group_name&&E.a.createElement("div",{className:"d-flex align-items-center flex-column my-5"},E.a.createElement(F.a,{width:"wide",color:"primary",className:"mx-auto mb-3",onClick:t.trusted?this.confirmUnlink:this.confirmLink},t.trusted?"Untrust Device":"Trust Device"),E.a.createElement(F.a,{width:"wide",className:"mx-auto",onClick:this.confirmDelete},"Forget Device")),E.a.createElement(L.a,null,0===r.length&&0===n.length&&"loading"!==a?E.a.createElement("div",null):E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush"},n.length>0&&E.a.createElement("div",{className:"d-flex justify-content-between list-group-item align-items-center list-group-item-light"},E.a.createElement("div",null,"Last Accessed"),E.a.createElement("div",null,"Status")),n.map((function(e){return E.a.createElement("div",{key:"history-".concat(e.id),className:"d-flex justify-content-between list-group-item align-items-center"},E.a.createElement("div",null,E.a.createElement("span",{className:"d-block"},Le()(e.date).format("MMM DD, YYYY hh:mm:ss A")),E.a.createElement("span",{className:"d-block"},e.location)),E.a.createElement("div",null,e.attempt_result?"Successful":"Attempted"))})),"loading"===a&&E.a.createElement("div",{className:"list-group-item text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"}))))))))}}]),t}(E.a.Component),uu=Object(w.c)((function(e){var t=e.settings,n=e.page.confirmModal,a=t.manageDevices,i=a.browsers;return"Web"!==a.selectedItem.group_name&&(i=[]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.manageDevices,{browsers:i,confirmModal:n})}),(function(e){return Object(_.b)({setDevices:ae.g,setDeviceStatus:ae.f,setDeviceHistory:ae.e,setActiveDevice:ae.c,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s},e)}))(cu),du=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){return E.a.createElement(C.a,{title:"Devices"},E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement(ou,null),E.a.createElement(uu,null)))}}]),t}(E.a.Component),pu=n(2032);function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var mu=function(e){function t(e){var n;return l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n)),n.state={otp_type:e.otpType||"",hasChanges:!1},n}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.otpType,a=t.setOtpType;n||X.a.get("/user/settings").then((function(t){var n=t.data.otp.otp_type;a(n),e.setState({otp_type:n})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.resetConfirmModal,n=e.confirmModal;n.state&&"setPreferredOtp"===n.key&&(this.submit(),t())}},{key:"setValue",value:function(e){var t=this;this.setState({otp_type:e},(function(){return t.validate()}))}},{key:"validate",value:function(){var e=this.props.otpType,t=!1;this.state.otp_type!==e&&(t=!0),this.setState({hasChanges:t})}},{key:"confirmSubmit",value:function(e){var t=this.props.openConfirmModal,n=1===e.otp_type?"SMS":"Soft Token";t("setPreferredOtp","Hang on","Are you sure you want to set ".concat(n," as your preferred OTP?"))}},{key:"submit",value:function(){var e=this,t=this.state.otp_type,n=this.props,a=n.setSuccessMessage,r=n.loadingOpen,i=n.loadingDismiss,o=n.setOtpType,s={otp_type:t};r(),X.a.put("user/settings/default-otp",s).then((function(){o(t),e.validate(),a("Congratulations!","You've successfully updated your preferred OTP."),i()})).catch((function(){i()}))}},{key:"render",value:function(){var e=this.state,t=e.otp_type,n=e.hasChanges;return E.a.createElement(C.a,{title:"Preferred OTP"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Manage Preferred OTP"},E.a.createElement("p",null,"Select your preferred way of getting OTP"),E.a.createElement("div",null,E.a.createElement("div",{className:"form-fieldset card p-3"},E.a.createElement("div",{className:"preferred-type"},E.a.createElement(pu.a,{name:"type",checked:1===t,label:"SMS/Call",className:"mr-0",onClick:this.setValue.bind(this,1)},"Receive 6-digit code via SMS / Call.")),E.a.createElement("div",{className:"preferred-type"},E.a.createElement(pu.a,{name:"type",checked:2===t,label:"OTP Generator",className:"mr-0",onClick:this.setValue.bind(this,2)},"Generate 6-digit code using your UnionBank Online app.",E.a.createElement(pu.a.Instructions,null,"For ",E.a.createElement("strong",null,"Trusted Devices"),", go to ",E.a.createElement("strong",null,"Dashboard")," >",E.a.createElement("strong",null," Generate OTP "))))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",className:"w-wide",disabled:!n,onClick:this.submit},"Save")))))))}}]),t}(E.a.Component),fu=Object(w.c)((function(e){var t=e.settings,n=e.page;return{otpType:t.otpType,confirmModal:n.confirmModal}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,setOtpType:ae.h},e))}))(mu),yu=n(1764);function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var vu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setDashboardSettings,n=e.setProfileLoading;0===e.dashboard.length&&(n(!0),X.a.get("/dashboard/settings").then((function(e){t(e.data),n(!1)})).catch((function(){n(!1)})))}},{key:"hasNoChanges",value:function(e){var t=this.props.dashboard,n=e.getFieldsValue();return!n.field||t.reduce((function(e,t){return e?t.visible===n.field[t.id]:e}),!0)}},{key:"submit",value:function(e){var t=this.props,n=t.dashboard,a=t.loadingOpen,r=t.loadingDismiss,i=t.setSuccessMessage,o=t.setDashboardSettings,s=[];A()(n,(function(t){s.push({id:t.id,visible:e.field[t.id]})})),a(),X.a.put("/dashboard/settings",s).then((function(t){var n=e.defaultItems,a=e.changedItems;ks()(a,n,"id");o(t.data),r(),i("Congratulations!","You successfully updated your dashboard settings.")})).catch((function(){r()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dashboard,a=t.loading;return E.a.createElement(C.a,{title:"Manage Dashboard"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Manage Dashboard Settings"},0===n.length&&!a&&E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"list-group-item text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"})))),n.length>0&&!a&&E.a.createElement(Je.b,{onSubmit:this.submit,formRef:function(t){e._form=t},formContent:function(t,a){return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush"},n.map((function(e,n){var a="field[".concat(e.id,"]");return E.a.createElement("div",{key:e.id,className:"list-group-item justify-content-between d-flex"},E.a.createElement("div",{className:"w-75"},E.a.createElement("div",{className:"font-weight-bold"},e.name),E.a.createElement("div",null,e.description)),E.a.createElement("div",{className:"d-flex align-self-center"},E.a.createElement(Je.a,{form:t,name:a,options:{preserve:!0,initialValue:e.visible,trigger:"onClick",getValueFromEvent:function(e){return!t.getFieldValue(a)}}},E.a.createElement(yu.a,{appearance:"eye"}))))})))),E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:e.hasNoChanges(t)},"Save")))}})))))}}]),t}(E.a.Component),bu=(Object(w.c)((function(e){var t=e.settings;return{dashboard:t.dashboard,loading:t.loading}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,setDashboardSettings:ae.d,setProfileLoading:ae.l},e))}))(vu),n(2033),n(2035),n(2040),n(2042),n(2043),n(2044),n(2045),n(2046),n(2047),n(2048),n(2049),n(2050),n(2051),n(2052),n(2053),n(2054),n(2055),n(2056),n(2057),n(2058),n(2059),n(2060),n(2061),n(2062),n(2063),n(2064)),Eu=n.n(bu);function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wu=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={file:null,fileSrc:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"savePhoto",value:function(e){var t=this.props,n=t.setProfilePhoto,a=t.loadingOpen,r=t.loadingDismiss,i=t.updatePhoto,o=new FormData;o.append("image",e),a(),X.a.post("user/image",o).then((function(e){i(!1),r(),n(e.data.profile_picture)})).catch((function(e){r()}))}},{key:"onDrop",value:function(e){e[0].size>1e6&&window.atob,this.resizeImage(e[0])}},{key:"resizeImage",value:function(e){var t=this,n=new Image;n.onload=function(e){var a=Eu.a.resize(n,200,200,Eu.a.PNG),r=t.dataURItoFile(a);t.setState({file:r,fileSrc:a})},n.src=e.preview}},{key:"dataURItoFile",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),r=n.toUpperCase().includes("PNG")?"file.png":"file.jpg",i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new File([a],r,{type:n})}},{key:"onUpdate",value:function(){var e=this.state.file;this.savePhoto(e)}},{key:"onCancel",value:function(){var e=this.props.updatePhoto;this.setState({file:null}),e(!1)}},{key:"render",value:function(){var e=this.props,t=e.profilePhoto,n=e.profilePhotoEdit,a=this.state,r=a.file,i=a.error,o=a.fileSrc,s=o||t;return E.a.createElement(B.a,{open:n,backdrop:"static",title:"Update Profile Photo",size:"small"},E.a.createElement("div",{className:"body update-profile"},E.a.createElement("div",{className:"d-flex justify-content-center"},E.a.createElement(Zn.a,{accept:"image/jpeg, image/png",multiple:!1,onDrop:this.onDrop},s&&!i?E.a.createElement("div",{style:{backgroundImage:"url(".concat(s,")")},className:"image-holder"}):E.a.createElement("div",{className:"image-placeholder"},E.a.createElement("span",{className:"icon"},E.a.createElement(Qn.a,null)),E.a.createElement("span",{className:"text"},i||"Upload Photo"))))),E.a.createElement("footer",{className:"footer"},E.a.createElement(Qe.a,null,E.a.createElement(F.a,{width:"full",onClick:this.onCancel},"Discard"),E.a.createElement(F.a,{disabled:!r,color:"primary",width:"full",onClick:this.onUpdate},"Update"))))}}]),t}(E.a.Component),_u=Object(w.c)((function(e){var t=e.page;return ku({},e.settings,{},t)}),(function(e){return ku({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setProfilePhoto:ae.m,updatePhoto:ae.n},e))}))(wu);function Pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Su=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.match;e.showDashboardSettings;return E.a.createElement("div",null,E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:"".concat(t.url),component:ac}),E.a.createElement(P.b,{path:"".concat(t.url,"/security"),component:Fc}),E.a.createElement(P.b,{path:"".concat(t.url,"/profile"),component:Ic}),E.a.createElement(P.b,{path:"".concat(t.url,"/notifications"),component:fc}),E.a.createElement(P.b,{path:"".concat(t.url,"/transaction-limits"),component:sc}),E.a.createElement(P.b,{path:"".concat(t.url,"/manage-otp"),component:qc}),E.a.createElement(P.b,{path:"".concat(t.url,"/password"),component:Xc}),E.a.createElement(P.b,{path:"".concat(t.url,"/manage-devices"),component:du}),E.a.createElement(P.b,{path:"".concat(t.url,"/preferred-otp"),component:fu})),E.a.createElement(_u,null))}}]),t}(b.Component),xu=Object(w.c)((function(e){var t=e.settings,n=e.page,a=t.dashboard,r=n.featureToggleRules,i=x()(r,{name:"GOALS"});return{dashboard:a,goalsRule:yr()(i,"status",-1)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setDashboardSettings:ae.d},e))}))(Su),Cu=n(657),Du=n.n(Cu),Mu=n(1711);function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nu=["credit",function(e){return"PHP"===e.currency}],ju=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createCase,n=e.selectedProduct,a=e.setCasesStatus,r=e.setCases,i=e.createCaseStatus,o=e.history;if(n.id){if(!t.promo_code&&n.id){a("loading");var s={product_id:n.id,promo_type_id:1};["loaded"].includes(i)||X.a.get("get-cash/"+n.id,s).then((function(e){r(e.data)})).catch((function(){a("failed"),o.replace("/")}))}}else o.replace("/")}},{key:"cancel",value:function(){(0,this.props.setCcGetCashStep)("review")}},{key:"submit",value:function(e){var t=this.props,n=t.setCcGetCashStep,a=t.setCcGetCashForm,r=t.getCashForm,i=e.terms,o=e.amount;e.monthly_payment=this.getMonthlyPayment(i,o),e.interest=this.getInterestRate(i),a(Au({},r,{values:e,review:!0})),n("review")}},{key:"getInterestRate",value:function(e){var t=this.props.createCase,n=null;if(e){var a=x()(t.rates,{term:e});a&&(n=a.interest)}return n}},{key:"getMonthlyPayment",value:function(e,t){var n=this.props.createCase,a=null;if(e&&t){var r=x()(n.rates,{term:e});a=Object(Vr.a)(t)*parseFloat(r.factor),a=la()(a).format("0,0.00")}return a}},{key:"filterAccount",value:function(e){if(Nu.length>0){var t=Nu.reduce((function(t,n){switch(Du()(n)){case"string":e[n]&&(t+=1);break;case"function":n(e)&&(t+=1)}return t}),0);return Nu.length===t}return!0}},{key:"renderPaymentFields",value:function(e){return"select"===e.input_type?E.a.createElement(bn.a,{placeholder:e.name},e.field_options.map((function(e){return E.a.createElement(bn.a.Option,{key:e.name,value:e.code},e.name)}))):"numeric|ubp"===e.input_type?E.a.createElement(Je.c,{name:"payment_fields_".concat(e.id),placeholder:"Click to select account",filters:Nu}):E.a.createElement(Ye.a,{placeholder:e.name})}},{key:"onChange",value:function(e,t,n){e.payment_mode&&setTimeout(n.validateFields,100)}},{key:"formContent",value:function(e,t){var n=this,a=this.props,r=a.currency,i=a.createCase,o=a.getCashStep,s=a.getCashForm,l=a.allProduct,c=e.getFieldsValue(),u=c.terms,d=c.amount,p=c.payment_mode,h=p?x()(i.payment_modes,{id:p}).payment_mode_fields:[];if("ubpAccount"===p){var m=l.filter(this.filterAccount),f="payment_fields_".concat(h[0].id);1!==m.length||s.values[f]||(s.values[f]=m[0].product_number)}return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,null,E.a.createElement("p",null,"Get cash from your available credit. Set the amount to request and know your monthly payment."),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{form:e,name:"amount",maxLength:12,hideLimit:!0,options:{initialValue:s.values.amount||null,normalize:function(e){return e?Object(Vr.d)(e):""},rules:[{validator:function(e,t,n){t?Object(Vr.a)(t)<=0?n("Amount is required"):Object(Vr.a)(t)>.8*i.balance?n("Amount must not exceed PHP "+.8*i.balance):n():n("Amount is required")}}]}},E.a.createElement(Ye.a,{placeholder:"Requested Amount",prefix:E.a.createElement(Br.a,null,r)})))),E.a.createElement("p",null,"Select payment terms"),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-6 col-md-3"},E.a.createElement(Je.a,{form:e,name:"terms",options:{initialValue:s.values.terms||null,rules:[{required:!0,message:"Loan duration is required"}]}},E.a.createElement(bn.a,{placeholder:"Months to Pay"},i.rates.map((function(e){return E.a.createElement(bn.a.Option,{key:e.term,value:e.term},"".concat(e.term," Months"))}))))),E.a.createElement("div",{className:"col-6 col-md-3"},E.a.createElement(Ye.a,{disabled:!0,placeholder:"Interest rate",value:this.getInterestRate(u),suffix:E.a.createElement("i",{className:"fa fa-percent"})})),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Ye.a,{disabled:!0,placeholder:"Monthly payment",value:this.getMonthlyPayment(u,d),prefix:E.a.createElement(Br.a,null,r)}))))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Receive funds by"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12"},E.a.createElement(Je.a,{form:e,name:"payment_mode",options:{initialValue:s.values.payment_mode||null,rules:[{required:!0,message:"Payment Mode is required"}]}},E.a.createElement(bn.a,{placeholder:"Select how you want to receive funds"},i.payment_modes.map((function(e){return E.a.createElement(bn.a.Option,{key:e.id,value:e.id},e.description)})))))),E.a.createElement("div",{className:"row"},h.map((function(t){return E.a.createElement("div",{key:t.id,className:j()("col-12",{"col-md-6":"otherBank"===p})},E.a.createElement(Je.a,{form:e,name:"payment_fields_".concat(t.id),maxLength:"select"!==t.input_type?12:null,options:{initialValue:s.values["payment_fields_".concat(t.id)]||null,rules:[{required:!0,message:"".concat(t.name," is required")}]}},n.renderPaymentFields(t)))}))))),E.a.createElement(Qe.a,{className:"my-5"},"edit"===o?E.a.createElement(He.a,{className:"w-wide w-100",onClick:this.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide w-100",disabled:t},"edit"!==o?"Next":"Update")))}},{key:"render",value:function(){var e=this.props,t=e.currency,n=e.createCase,a=e.createCaseStatus;e.getCashStep;return E.a.createElement("div",{className:"body"},"loaded"===a&&!!n.rates&&E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,null,E.a.createElement("div",null,"Get Cash Balance"),E.a.createElement("div",{className:"h3"},E.a.createElement(_a.a,{currency:t},n.balance))),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:this.formContent,onChange:this.onChange})),"loaded"!==a&&E.a.createElement("div",{className:"text-center display-4 p-5"},E.a.createElement("i",{className:"fa fa-spinner fa-pulse text-primary"})))}}]),t}(E.a.Component),Iu=Object(w.c)((function(e){var t=e.inhouseInstallment,n=e.page,a=e.product;return Au({},t,{},n,{selectedProduct:t.selectedProduct,allProduct:a.products,currency:"PHP"})}),(function(e){return Object(_.b)({setCases:Mu.e,setCasesStatus:Mu.f,setCcGetCashForm:Mu.g,setCcGetCashStep:Mu.h,selectAccountField:Mu.d,resetAccountField:Mu.c},e)}))(ju),Fu=n(2065);function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Lu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.history,n=e.confirmModal,a=e.confirmModalState;a.state&&"cancelInstallment"===a.key&&(n(!1),t.replace("/"))}},{key:"onEdit",value:function(){this.props.setCcGetCashStep("edit")}},{key:"onSubmit",value:function(){var e=this.props,t=e.createCase,n=e.loadingOpen,a=e.loadingDismiss,r=e.setSuccessMessage,i=e.getCashForm,o=e.selectedProduct,s=t.promo_code,l=t.request_id,c=t.rates,u=t.payment_modes,d=i.values,p=d.amount,h=d.terms,m=d.payment_mode,f=d.monthly_payment,y=x()(u,{id:m}),g=x()(c,{term:h}),v=y.payment_mode_fields.map((function(e){var t={id:e.id,code:i.values["payment_fields_"+e.id],name:""};return"select"===e.input_type&&(t.name=x()(e.field_options,{code:t.code}).name),t})),b={rate:g,promo_code:s,request_id:l,amount:la()(p).value(),monthly_payment:la()(f).value(),due_date:"",product_source:{product_id:o.id,product_type:o.product_name,product_alias:o.alias},payment_mode:{id:m,payment_mode_fields:v}};n(),X.a.post("/get-cash/applications",b).then((function(e){a(),r("Thank You!","We’ll let you know once your application is approved. In the meantime, please avoid using this credit card while we’re processing your application."),Object(Mu.b)()})).catch((function(e){a()}))}},{key:"cancelRequest",value:function(){(0,this.props.openConfirmModal)("cancelInstallment","Cancel Get Cash","Do you wish to cancel this request?")}},{key:"render",value:function(){var e=this,t=this.props,n=t.values,a=t.currency,r=t.createCase,i=t.paymentOption,o=t.selectedProduct;return r.rates?E.a.createElement(L.a,{title:"Review and Apply",actions:E.a.createElement(F.a,{size:"sm",type:"button",color:"primary",onClick:this.onEdit},"Edit")},E.a.createElement("div",{className:"card p-1 inhouse-installment-review"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement(wa.a,{label:"From Account"},E.a.createElement(pi.a,{account:o,toggleable:!0,masked:!0})),E.a.createElement(wa.a,{label:"Requested Amount"},E.a.createElement(_a.a,{currency:a},n.amount)),E.a.createElement(wa.a,{label:"Months to pay"},"".concat(n.terms," Months")),E.a.createElement(wa.a,{label:"Interest Rate"},"".concat(n.interest,"% per month")),E.a.createElement(wa.a,{label:"Your monthly due"},E.a.createElement(_a.a,{currency:a},n.monthly_payment)),E.a.createElement(wa.a,{label:"Receive funds by"},E.a.createElement("div",null,i.description),i.payment_mode_fields.map((function(e){return E.a.createElement("div",{key:e.id},"select"!==e.input_type&&n["payment_fields_".concat(e.id)],"select"===e.input_type&&x()(e.field_options,{code:n["payment_fields_".concat(e.id)]}).name)}))))),E.a.createElement(Fu.a,null),E.a.createElement(Je.b,{onSubmit:this.onSubmit,formContent:function(t,n){return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"my-5 px-5"},E.a.createElement(Je.a,{form:t,name:"accepted",options:{rules:[{validator:function(e,t,n){t?n():n(" ")}}]}},E.a.createElement(Bn.a,null,"I agree to the terms above."))),E.a.createElement(Qe.a,{className:"my-5 mt-5"},E.a.createElement(He.a,{className:"w-wide w-100",onClick:e.cancelRequest},"Cancel"),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide w-100",disabled:n},"Apply Now")))}})):null}}]),t}(E.a.Component),Bu=Object(w.c)((function(e){var t=e.page,n=(e.product,e.inhouseInstallment),a=n.getCashForm,i=n.createCase,o=n.selectedProduct,s=a.values,l=o?o.currency:"PHP",c=x()(i.payment_modes,{id:s.payment_mode});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{confirmModalState:t.confirmModal,selectedProduct:o,values:s,paymentOption:c,currency:l})}),(function(e){return Object(_.b)({clearCcGetCash:Mu.b,setCcGetCashStep:Mu.h,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,confirmModal:ee.d},e)}))(Lu);function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var qu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.props.clearCase()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedProduct,n=e.history;t.id||n.replace("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.match,r=t.getCashStep,i=t.location,o=t.successModal,s="".concat(a.url,"/").concat(r);s!==i.pathname&&i.pathname.includes(a.url)?n.replace(s):!o.message&&e.successModal.message&&n.replace("/")}},{key:"componentWillUnmount",value:function(){this.props.clearCcGetCash()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(C.a,{title:"Get Cash"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"p-4 p-lg-5"},E.a.createElement(P.b,{path:"".concat(e.url,"/(|form|edit)"),component:Iu}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:Bu}))))}}]),t}(E.a.Component),zu=Object(w.c)((function(e){var t=e.inhouseInstallment;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},e.page,{},e.router,{selectedProduct:t.selectedProduct})}),(function(e){return Object(_.b)({clearCcGetCash:Mu.b,clearCase:Mu.a},e)}))(qu),Uu=n(1806),Hu=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match;return E.a.createElement("div",null,K.a.creditCard.getCash&&E.a.createElement(P.b,{path:"".concat(e.url,"/get-cash"),component:zu}),K.a.creditCard.cardControl&&E.a.createElement(P.b,{path:"".concat(e.url,"/card-control"),component:Uu.b}))}}]),t}(E.a.Component),Gu=n(1557),Yu=n(1641),Wu=(n(1495),n(1496),n(1497));function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ku=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.profile,n=e.leaderboards,a=e.avatar;t&&a&&n||(this.getProfile(),this.getRanks())}},{key:"getProfile",value:function(){var e=this.props,t=e.loadMyProfile,n=e.setAvatar;X.a.get("/millennial/me").then((function(e){t(e.data),n(e.data.profile.avatar)}))}},{key:"getRanks",value:function(){var e=this.props.loadLeaderboards;X.a.get("/millennial/leaderboards/ranks").then((function(t){e(t.data)}))}},{key:"getPercentage",value:function(){var e=this.props.profile,t=e.current_points,n=e.target_points;return Math.floor(t/n*100)/100}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.leaderboards,a=e.avatar,r=e.toggleLeaderboard,i=1===r.status;return E.a.createElement(C.a,{title:"PlayEveryDay - Leaderboards"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},!i&&E.a.createElement("p",{className:"text-center"},r.message||"Leaderboards is currently unavailable"),!t||!n||!a&&i&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),t&&n&&a&&i&&E.a.createElement("div",{className:"container-fluid"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-12 col-md-8 "},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 mb-3"},E.a.createElement(L.a,{title:"PlayEveryday Profile"},E.a.createElement($e.a,{bg:E.a.createElement(Gu.a,{seed:66}),className:"p-4"},E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-50 d-flex flex-column justify-content-start"},E.a.createElement("div",{className:"pe-large-text my-3"},E.a.createElement("div",{className:"d-flex flex-row"},E.a.createElement("span",null,E.a.createElement("img",{className:"rank-badge",src:t.rank.url,alt:t.rank.title})),E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("span",{className:"ml-2"},t.nickname)))),E.a.createElement("div",{className:"my-3 d-flex"},E.a.createElement("div",{style:{width:"30%"}},E.a.createElement("span",{className:"pe-normal-text"},"Level"),E.a.createElement("div",{className:"pe-large-text text-primary"},t.level)),E.a.createElement("div",{style:{width:"70%"}},E.a.createElement("span",{className:"pe-normal-text"},"Rank"),E.a.createElement("div",{className:"pe-large-text text-primary"},t.rank.title))),E.a.createElement("div",{className:"my-3"},E.a.createElement("div",{className:"pe-small-text text-uppercase"},"Points to Next Level"),E.a.createElement(Yu.a,{size:"small",value:t.current_points/t.target_points}),E.a.createElement("div",{className:"d-flex justify-content-between"},E.a.createElement("div",{className:"pe-small-text"},Object(Vr.d)(t.current_points),"/","".concat(Object(Vr.d)(t.target_points))),E.a.createElement("div",{className:"pe-small-text text-primary"},la()(this.getPercentage()).format("0%")))),t&&t.total_accumulated_points&&E.a.createElement("div",{className:"mt-5"},E.a.createElement("div",{className:"pe-small-text text-uppercase"},"Total Accumulated Points"),E.a.createElement("div",{className:"pe-large-text text-primary"},"".concat(Object(Vr.d)(t.total_accumulated_points))))),E.a.createElement("div",{className:"w-50 d-flex flex-column justify-content-between align-items-between"},E.a.createElement("img",{src:a.url,alt:t.avatar.title,className:"w-100"}),E.a.createElement("div",{className:"mt-3 text-center"},E.a.createElement(F.a,{href:"/play-everyday/leaderboards/profile-details",color:"primary",width:"auto",size:"sm",style:{font:"inherit",color:"inherit"}},"Update Profile"))))))),E.a.createElement("div",{className:"col-12 mb-3"},E.a.createElement(L.a,{title:"Rankings"},E.a.createElement($e.a,{bg:E.a.createElement(Gu.a,{seed:"3"}),className:"p-4"},E.a.createElement("div",{className:"nav flex-column mt-4"},E.a.createElement("div",{className:"d-flex flex-row"},E.a.createElement("div",{style:{height:"2em",width:"2em"}},E.a.createElement(Wu.a,{className:"d-block w-100 h-100"})),E.a.createElement("div",{className:"ml-4"},"Check out how you rank against everyone else!",E.a.createElement("div",{className:"pe-small-text"},"Updates every Thursday"))),E.a.createElement("div",{className:"d-flex flex-row"},n.map((function(e,t){return E.a.createElement("div",{key:"pe-rank-items-".concat(t),className:"d-flex flex-column justify-content-between mx-4 my-2 text-center"},E.a.createElement("div",{className:"mb-2"},e.rank>0?E.a.createElement("div",{className:"pe-large-text text-primary"},e.rank,E.a.createElement("sup",null,Object(Ne.m)(e.rank))):E.a.createElement("div",{className:"pe-large-text text-primary"},"---"),E.a.createElement("div",{className:"pe-small-text"},e.name)),E.a.createElement(F.a,{key:t,href:"/play-everyday/leaderboards/rankings/".concat(e.id)},"View"))}))))))))),E.a.createElement("div",{className:"col-sm-12 col-md-4 mb-3"},E.a.createElement(L.a,{title:"Learn More"},E.a.createElement("div",{className:"mt-4 d-sm-block text-uppercase text-left"},E.a.createElement(F.a,{href:"/play-everyday/leaderboards/ranks",posticon:E.a.createElement(lr.a,null),square:!0,width:"full",size:"lg",text:"left"},"About Ranks"),E.a.createElement(F.a,{href:"/play-everyday/leaderboards/playpoints",posticon:E.a.createElement(lr.a,null),square:!0,width:"full",size:"lg",text:"left"},"How to Earn Points"))))))))))}}]),t}(E.a.Component),$u=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadMyProfile:$.k,loadLeaderboards:$.g,setAvatar:$.z},e)}))(Ku),Zu=n(1687),Qu=n(1269),Ju=n(1586),ed=n(1765),td=n(1766);function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ad=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"closeAvatarSelection",value:function(){(0,this.props.showAvatarSelection)(!1)}},{key:"closeCardSelection",value:function(){(0,this.props.showCardSelection)(!1)}},{key:"render",value:function(){var e=this.props,t=e.avatarSelectionShown,n=e.cardSelectionShown;return E.a.createElement("div",null,t&&E.a.createElement(Yo.a,{direction:"right",open:t,title:"Select your Avatar",onDismiss:this.closeAvatarSelection},E.a.createElement("div",{className:"content px-4"},E.a.createElement(ed.a,{onClickAvatar:this.props.onClickAvatar}))),n&&E.a.createElement(Yo.a,{direction:"right",open:n,title:"Select Card",onDismiss:this.closeCardSelection},E.a.createElement("div",{className:"content px-4"},E.a.createElement(td.a,{onClickCard:this.props.onClickCard}))))}}]),t}(E.a.Component),rd=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadAvatars:$.e,showAvatarSelection:$.U,showCardSelection:$.V},e)}))(ad);function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var od=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={copied:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadMyProfile,n=e.setAvatar,a=e.setNickName,r=e.setPrimaryCard,i=e.setConsent,o=e.showCardSelection,s=e.showAvatarSelection,l=e.profile,c=e.history,u=e.userProducts;e.products;u?(this.closeModal(),o(!1),s(!1),l?(a(l.nickname),n(l.avatar),r(x()(u,{primary:!0})||u[0]),i(l.leaderboard_consented)):X.a.get("/millennial/me").then((function(e){t(e.data),a(e.data.profile.nickname),n(e.data.profile.avatar),i(e.data.profile.leaderboard_consented),r(x()(u,{primary:!0})||u[0])}))):c.replace("/dashboard")}},{key:"onChangeConsent",value:function(){var e=this.props,t=e.setTempConsent,n=e.consent,a=e.showConfirmationModal;!0===n?(t(!n),a({isOpen:!0,isUpdatingConsent:!0,isUpdatingCard:!1,title:"Update Leaderboard Consent",message:"Are you sure? You won't be able to see yourself on the leaderboards."})):this.updateConsent(!n)}},{key:"onClickCard",value:function(e){var t=this.props,n=t.setTempPrimaryCard,a=t.showConfirmationModal;n(e),a({isOpen:!0,isUpdatingConsent:!1,isUpdatingCard:!0,title:"Update Main Card",message:"Are you sure? Points earned from UnionBank Online Activities will be reflected to the new main card."})}},{key:"closeModal",value:function(){var e=this.props,t=e.showConfirmationModal,n=e.setTempConsent,a=e.setTempPrimaryCard;t({isOpen:!1,isUpdatingConsent:!1,isUpdatingCard:!1,title:null,message:null}),n(null),a(null)}},{key:"handleCopyReferralCode",value:function(){var e=this.props.profile,t=document.createElement("input");t.style="position: absolute; left: -1000px; top: -1000px",t.value=e.referral_code,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.setState({copied:!0})}},{key:"handleConfirm",value:function(e){var t=this.props,n=t.tempConsent,a=t.tempMainCard;switch(e){case"Update Leaderboard Consent":this.updateConsent(n);break;case"Update Main Card":this.updatePrimaryCard(a)}this.closeModal()}},{key:"updatePrimaryCard",value:function(e){var t=this.props,n=t.showCardSelection,a=t.setPrimaryCard,r=t.loadingOpen,i=t.loadingDismiss;r(),n(!1),X.a.patch("/millennial/me",{primary_account:e.id}).then((function(){a(e),i()}),(function(){i()}))}},{key:"updateAvatar",value:function(e){var t=this.props,n=t.showAvatarSelection,a=t.setAvatar,r=t.loadingOpen,i=t.loadingDismiss;r(),n(!1),X.a.patch("/millennial/me",{avatar_id:e.id}).then((function(){a(e),i()}),(function(){i()}))}},{key:"updateConsent",value:function(e){var t=this.props,n=t.setConsent,a=t.loadingOpen,r=t.loadingDismiss;a(),X.a.patch("/millennial/me",{leaderboard_consented:e}).then((function(){n(e),r()}),(function(){r()}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.nickname,a=e.avatar,r=e.mainCard,i=e.consent,o=e.avatarSelectionShown,s=e.cardSelectionShown,l=e.showAvatarSelection,c=e.showCardSelection,u=e.showModal,d=e.modalTitle,p=e.modalMessage,h=e.userProducts,m=this.state.copied;return E.a.createElement(C.a,{title:"Leaderboards - Profile Details"},(o||s)&&E.a.createElement(rd,{onClickAvatar:this.updateAvatar,onClickCard:this.onClickCard}),E.a.createElement(Zu.a,{open:u,onDismiss:this.closeModal.bind(this),handleProceed:this.handleConfirm.bind(this,d),handleCancel:this.closeModal.bind(this),title:d,message:p}),E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"PlayEveryday Profile"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-8"},E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement($e.a,{bg:E.a.createElement(Gu.a,{seed:132}),className:"p-4"},(!t||!a||null===n||!r||null===i)&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),t&&a&&null!==n&&r&&null!==i&&E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"w-50"},E.a.createElement("div",{className:"pe-large-text"},n),E.a.createElement("div",{className:"text-primary pe-normal-text"},t.rank.title),E.a.createElement("div",{className:"text-muted mt-4 pe-normal-text"},"Main Card"),E.a.createElement("div",{className:"pe-normal-text"},r.product_name),h.length>1&&E.a.createElement("div",{className:"pe-small-text text-primary clickable pe-font-sm mt-4",onClick:function(){l(!1),c(!s)}},"CHANGE")),E.a.createElement("div",{className:"w-50"},E.a.createElement("div",null,E.a.createElement("img",{src:a.url,alt:a.title,className:"w-100"})),E.a.createElement("div",{className:"text-primary text-center pe-small-text clickable mt-4",onClick:function(){c(!1),l(!o)}},"CHANGE")))),t&&t.referral_code&&E.a.createElement($e.a,{bg:E.a.createElement(Gu.a,{seed:87}),className:"mt-4 p-4"},E.a.createElement("div",{className:"text-muted pe-normal-text"},"My Referral Code"),E.a.createElement("div",{className:"pe-large-text text-primary my-3 ",style:{cursor:"pointer"},onClick:this.handleCopyReferralCode},E.a.createElement(Hn.a,{title:m?"Copied!":"Copy!",placement:"right"},E.a.createElement("span",{className:"text-uppercase",id:"referralCode"},t.referral_code,"  ",E.a.createElement(Qu.a,null)))),E.a.createElement("div",{className:"font-weight-light"},E.a.createElement("p",{className:"m-0"},"Share this to earn an extra 300 points!"))))),E.a.createElement("div",{className:"col-12 col-md-4"},E.a.createElement($e.a,{className:"p-4 my-4 my-md-0"},E.a.createElement("div",{className:"row mb-4"},E.a.createElement("div",{className:"col-6 font-weight-bold text-left pl-0"},"Show My Profile"),E.a.createElement("div",{className:"col-6 text-right pr-0"},E.a.createElement(Rc.a,{appearance:"switch",hiddenLabel:!0,standalone:!0,label:"Show My Profile",name:"showProfile",value:i,onChange:this.onChangeConsent.bind(this)}))),E.a.createElement("div",{className:"font-weight-light row"},E.a.createElement("p",{className:"m-0"},"You have the option to show or hide your profile on the Leaderboard. Current rank will also be hidden.")))))))))}}]),t}(E.a.Component),sd=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.product,{},e.playEveryday)}),(function(e){return Object(_.b)({loadMyProfile:$.k,setAvatar:$.z,setNickName:$.F,setPrimaryCard:$.L,setConsent:$.B,showAvatarSelection:$.U,showCardSelection:$.V,setTempConsent:$.R,setTempPrimaryCard:$.S,showConfirmationModal:$.W,loadingOpen:ee.i,loadingDismiss:ee.h},e)}))(od),ld=n(1259),cd=n.n(ld),ud=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){return E.a.createElement(C.a,{title:"Leaderboards - Earn Points"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Earn Points"},E.a.createElement("div",null,E.a.createElement("div",{className:"text-center mb-4"},E.a.createElement("div",{className:"d-inline-block",style:{width:300,height:50,backgroundImage:"url('".concat(cd.a,"')"),backgroundSize:"200%",backgroundPosition:"left"}}),E.a.createElement("div",null,"Earn more play points from your UnionBank Online Transactions!")),E.a.createElement($e.a,{className:"my-5 p-0"},E.a.createElement("table",{className:"table border-0 m-0"},E.a.createElement("thead",{className:"text-muted"},E.a.createElement("tr",null,E.a.createElement("th",{className:"border-0 font-weight-normal"},"Ways To Earn Points"),E.a.createElement("th",{className:"border-0 font-weight-normal"},"Debit"),E.a.createElement("th",{className:"border-0 font-weight-normal"},"Credit"))),E.a.createElement("tbody",null,[{step:"Set up your PlayEveryday profile",debitPoints:500,creditPoints:500},{step:"Set up your 2nd PlayEveryday card",debitPoints:500,creditPoints:500},{step:"Reach 50% of your Goal",debitPoints:100,creditPoints:null},{step:"Reach 100% of your Goal",debitPoints:300,creditPoints:null},{step:"First 3 bills payment",debitPoints:100,creditPoints:null},{step:"Deposit or transfer atleast P10,000 in your PlayEveryday savings account",debitPoints:100,creditPoints:null}].map((function(e,t){return E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"w-75"},e.step),E.a.createElement("td",null,e.debitPoints,E.a.createElement("p",{className:"text-muted pe-font-sm"},"Points")),e.creditPoints&&E.a.createElement("td",null,e.creditPoints,E.a.createElement("p",{className:"text-muted pe-font-sm"},"Points")),!e.creditPoints&&E.a.createElement("td",null,"N/A"))}))))),E.a.createElement("p",{className:"ml-2 text-center"},"For more information on how you can earn points, visit"," ",E.a.createElement("a",{href:"https://playeveryday.unionbankph.com/play-points",target:"_blank",rel:"noopener noreferrer"},"https://playeveryday.unionbankph.com/play-points"),".")))))))}}]),t}(E.a.Component),dd=n(1498);function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var hd=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.levels||this.getLevels()}},{key:"getLevels",value:function(){var e=this.props.loadLevels;Object(Ju.e)().then((function(t){e(t.data)}))}},{key:"render",value:function(){var e=this.props,t=e.levels,n=e.profile;return E.a.createElement(C.a,{title:"Leaderboards - Ranks"},E.a.createElement(I.a,null,!(t&&n)&&E.a.createElement("div",{className:"text-center mt-3"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),t&&n&&E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Ranks"},E.a.createElement($e.a,{className:"p-0"},E.a.createElement("table",{className:"table border-0 m-0"},E.a.createElement("thead",{className:"text-uppercase text-muted"},E.a.createElement("tr",null,E.a.createElement("th",{className:"border-0 font-weight-normal"},"Rank"),E.a.createElement("th",{className:"border-0 font-weight-normal text-center"},"Points Needed"),E.a.createElement("th",{className:"border-0 font-weight-normal text-right"},"Rewards"))),E.a.createElement("tbody",null,t.map((function(e,t){return E.a.createElement("tr",{className:j()({"bg-primary":n.rank.id===e.id,"text-light":n.rank.id===e.id}),key:e.id},E.a.createElement("td",{className:"align-middle"},e.name,0===e.max_level?E.a.createElement("div",{className:"pe-font-xs"},"Level ",e.min_level," and up"):E.a.createElement("div",{className:"pe-font-xs"},"Level ",e.min_level,"–",e.max_level)),E.a.createElement("td",{className:"align-middle text-center"},la()(e.min_points).format("0,0"),E.a.createElement("div",{className:"pe-font-xs"},"Points")),E.a.createElement("td",{className:"text-right"},null===e.incentives&&E.a.createElement(dd.a,null),null!==e.incentives&&0!==e.min_level&&E.a.createElement("div",null,e.incentives.map((function(e){return E.a.createElement("div",null,"rewards"===e.type&&E.a.createElement("div",null,e.value,E.a.createElement("div",{className:"pe-font-xs"},"iStudio"===e.value?"Voucher":"Vouchers")),"points"===e.type&&E.a.createElement("div",null,"+","rankup"===e.trigger&&la()(e.value).format("0,0"),"transaction"===e.trigger&&e.value,E.a.createElement("div",{className:"pe-font-xs"},"Points")),"points"!==e.type&&"rewards"!==e.type&&E.a.createElement("div",null,e.value))})))))}))))))))))}}]),t}(E.a.Component),md=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadLevels:$.h,loadMyProfile:$.k},e)}))(hd),fd=n(351),yd=n.n(fd);function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var vd=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={loading:!1,error:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.leaderboards,n=e.history;t?this.loadRankings():n.replace("/play-everyday/leaderboards")}},{key:"loadRankings",value:function(){var e=this,t=this.props,n=t.loadRankings,a=t.selectWeek,r=t.loadSelectedWeekRanking,i=t.match.params.index;n(null),a(null),r(null),this.setState({loading:!0,error:!1}),Object(Ju.b)(i).then((function(t){var i=t.data.top_players,o=i.reduce((function(e,t,n){return t.current_week?n:e}),null);null===o&&(o=0),n(t.data),a(o),r(i[o].rankings),e.setState({loading:!1,error:!1})}),(function(){e.setState({loading:!1,error:!0})}))}},{key:"handleSelectWeek",value:function(e,t,n){var a=this.props,r=a.selectWeek,i=a.loadSelectedWeekRanking;e.preventDefault(),r(n),i(t)}},{key:"createRankingsTable",value:function(){for(var e=this.props.selectedWeekRanking,t=[],n=0;n<10;n++)t.push(E.a.createElement("div",{className:j()("d-flex flex-row list-group-item",{"bg-primary":e[n]&&e[n].me,"text-light":e[n]&&e[n].me}),style:{minHeight:"80px"},key:n},E.a.createElement("div",{className:"pe-table-column-large"},e[n]?E.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-md-center"},E.a.createElement("div",null,E.a.createElement("img",{className:"rounded-circle",style:{backgroundColor:"#f9f9f9",height:64},src:e[n].profile.avatar.url_small,alt:e[n].profile.avatar.title})),E.a.createElement("div",{className:"ml-md-3 mt-3 mt-md-0"},e[n].profile.nickname)):E.a.createElement("div",{className:"d-flex flex-row h-100 align-items-center"},"----")),E.a.createElement("div",{className:"d-flex flex-row align-items-center pe-table-column-small"},E.a.createElement("div",{className:"pe-table-column-large"},e[n]?e[n].profile.rank.title:"----"),E.a.createElement("div",{className:"pe-table-column-small leaderboard-position"},e[n]?"# ".concat(e[n].position):"--"))));return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedWeek,a=t.selectedWeekRanking,r=t.rankings,i=t.leaderboards,o=t.match,s=this.state,l=s.loading,c=s.error,u=o.params.index;if(!i)return null;var d=i.filter((function(e){return parseInt(u)===parseInt(e.id)})),p=yd()(d,1)[0],h=void 0===p?null:p;return E.a.createElement(C.a,{title:"Leaderboards",subtitle:h?h.name:null},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,null,l&&!c&&E.a.createElement("div",{className:"text-center p-3 display-4"},E.a.createElement("i",{className:"text-primary fa fa-spinner fa-pulse"})),!l&&c&&E.a.createElement("div",{className:"p-3 text-center"},E.a.createElement("p",null,"Rankings not loaded."),E.a.createElement("div",null,E.a.createElement(F.a,{width:"wide",onClick:this.loadRankings},"Tap to Retry"))),!l&&!c&&r&&a&&h&&E.a.createElement("section",null,E.a.createElement("div",{className:"font-weight-bold py-4 d-flex justify-content-between"},E.a.createElement("div",{className:"text-left"},h.name),E.a.createElement("div",{className:"text-right"},r.month)),E.a.createElement("ul",{className:"nav nav-tabs nav-fill text-uppercase",style:{backgroundColor:"transparent"}},r.top_players.map((function(t,a){return E.a.createElement("li",{key:"".concat(t.start,"-").concat(t.end),className:"nav-item"},E.a.createElement("a",{onClick:function(n){e.handleSelectWeek(n,t.rankings,a)},className:j()("nav-link","px-0",{active:n===a,"text-primary":n===a})},"Week ",a+1))}))),E.a.createElement($e.a,{className:"mt-5 p-0"},E.a.createElement("div",{className:"list-group list-group-flush"},E.a.createElement("div",{className:"d-flex flex-row text-muted list-group-item"},E.a.createElement("div",{className:"pe-table-column-large"},"Players"),E.a.createElement("div",{className:"d-flex flex-row pe-table-column-small"},E.a.createElement("div",{className:"pe-table-column-large"},"Rank"),E.a.createElement("div",{className:"pe-table-column-small leaderboard-position"},"Standing"))),this.createRankingsTable()))))))))}}]),t}(E.a.Component),bd=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({selectLeaderboard:$.u,selectWeek:$.y,loadRankings:$.n,loadSelectedWeekRanking:$.o},e)}))(vd),Ed=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:"".concat(e,"/"),component:$u}),E.a.createElement(P.b,{path:"".concat(e,"/profile-details"),component:sd}),E.a.createElement(P.b,{path:"".concat(e,"/playpoints"),component:ud}),E.a.createElement(P.b,{path:"".concat(e,"/ranks"),component:md}),E.a.createElement(P.b,{path:"".concat(e,"/rankings/:index?"),component:bd}))}}]),t}(E.a.Component),Od=n(1541),kd=n(1227),wd=n(1561),_d=n(1656),Pd=n(2066);function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var xd={position:"sticky",top:"44px",zIndex:"4"},Cd={backgroundColor:"#f2f5f6",position:"relative",overflowX:"auto"},Dd=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={selectedCategory:null,showQuantityModal:!1,quantityModalMessage:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadPoints;e.points||Object(Ju.d)({noError:!0}).then((function(e){t(e.data)}))}},{key:"onClickProductCard",value:function(e,t){var n=this,a=this.props,r=a.cartItems,i=a.history,o=a.setRemainingQuantity,s=t.max_quantity;r.forEach((function(e){e.id===t.id&&(s-=e.quantity)})),o(s),s>0||null===s?i.push("/play-everyday/redeem/merchants/".concat(e.id,"/products/").concat(t.id)):this.setState({quantityModalMessage:"You've reached the maximum limit of adding ".concat(t.name)},(function(){n.showQuantityModalFunc(!0)}))}},{key:"showQuantityModalFunc",value:function(e){this.setState({showQuantityModal:e})}},{key:"selectCategory",value:function(e){this.setState({selectedCategory:e})}},{key:"goBack",value:function(){(0,this.props.setReviewPageVisible)(!1),this.setState({selectedCategory:null})}},{key:"goToReview",value:function(e){(0,this.props.setReviewPageVisible)(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.merchants,a=t.unionBankProducts,r=t.cartItems,i=t.points,o=t.toggleRedeem,s=t.toggleAsset,l=this.state,c=l.selectedCategory,u=l.showQuantityModal,d=l.quantityModalMessage,p=null,h=null,m=null;if(n){p=n.reduce((function(e,t){return e.includes(t.category)?e:[].concat(ci()(e),[t.category])}),[]),h=n.filter((function(e){return null===c||("featured"===c?e.featured||"unionbank"===e.category:e.category.toLowerCase()===c)}));var f=n.filter((function(e){return"unionbank"===e.category.toLowerCase()})),y=yd()(f,1)[0];m=void 0===y?null:y}var g=1===o.status,v=s&&1!==s.status;return E.a.createElement(C.a,{title:"PlayEveryDay - Redeem"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Merchants",stickyHeader:!0,actions:E.a.createElement("div",{className:"m-2"},i&&E.a.createElement("strong",{className:"mr-3"},E.a.createElement(wd.a,{value:i.amount,currency:i.currency})),E.a.createElement(F.a,{size:"sm",href:"/play-everyday/redeem/review-page"},E.a.createElement(kd.a,null)," ","Cart",r&&r.length>0&&E.a.createElement("span",{className:"badge badge-primary ml-2"},r.length)))},!g&&E.a.createElement("p",{className:"text-center"},o.message||"Redeem feature is currently unavailable."),!n&&g&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),n&&g&&E.a.createElement("div",{style:xd},E.a.createElement("div",{className:"d-flex py-1",style:Cd},E.a.createElement("div",{className:"mr-3 mb-2"},E.a.createElement(F.a,{size:"sm",color:null===c?"primary":null,onClick:function(){return e.selectCategory(null)}},"All")),E.a.createElement("div",{className:"mr-3 mb-2"},E.a.createElement(F.a,{size:"sm",color:"unionbank"===c?"primary":null,onClick:function(){return e.selectCategory("unionbank")}},"UnionBank")),E.a.createElement("div",{className:"mr-3 mb-2"},E.a.createElement(F.a,{size:"sm",color:"featured"===c?"primary":null,onClick:function(){return e.selectCategory("featured")}},"Featured")),p.filter((function(e){return"unionbank"!==e.toLowerCase()})).map((function(t){return E.a.createElement("div",{className:"mb-2 mr-3",key:t.toLowerCase()},E.a.createElement(F.a,{size:"sm",color:c===t.toLowerCase()?"primary":null,onClick:function(){e.selectCategory(t.toLowerCase())}},t))})))),n&&"unionbank"===c&&g&&E.a.createElement("div",null,a&&E.a.createElement("div",null,a.map((function(t){return E.a.createElement("div",{role:"presentation",key:t.id,className:"my-3 pe-product-card",onClick:function(){e.onClickProductCard(m,t)}},E.a.createElement(_d.a,{product:t,merchant:m,enablePlaceholder:v}))}))),!a&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"}))),n&&"unionbank"!==c&&g&&E.a.createElement("div",{className:"row px-2"},h.map((function(e){return E.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 col-xl-2",key:e.id},E.a.createElement(Od.a,{to:"/play-everyday/redeem/merchants/".concat(e.id,"/products"),className:"d-block my-3"},E.a.createElement(Pd.a,{merchant:e})))})))),E.a.createElement(B.a,{open:u,backdrop:"static",title:"Error",size:"small",alternate:!0,onDismiss:function(){return e.showQuantityModalFunc(!1)},dismissLabel:"OK"},E.a.createElement("div",{className:"body error-modal"},E.a.createElement("div",{className:"content"},E.a.createElement("p",null,d)))))))}}]),t}(E.a.Component),Md=Object(P.g)(Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadMerchants:$.j,loadPoints:$.m,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,loadMerchantProducts:$.i,selectRecipient:$.w,loadUnionBankProducts:$.q,setReviewPageVisible:$.O,setCartItems:$.A,setRemainingQuantity:$.N},e)}))(Dd)),Td=(n(1583),n(1594),n(200),n(2)),Ad=n.n(Td),Nd=n(1208),jd=n.n(Nd),Id=n(1575),Fd=n(1603),Rd=n(1591);function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e,t){var n=e.filter((function(e){return parseInt(e.id)===parseInt(t)})),a=yd()(n,1)[0];return void 0===a?null:a}function qd(e){var t=e.match,n=e.loadMerchantProducts,a=e.playEverydayCards;return new Promise((function(r,i){n(null),t.params.merchantId?Object(Ju.f)(t.params.merchantId,{cards:a}).then((function(t){var a=t.data.products;n(a),r(Bd({},e,{selectedMerchantProducts:a}))}),(function(e){i(e)})):r(e)}))}var zd=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={showQuantityModal:!1,quantityModalMessage:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.points,a=t.playEverydayCards;n||this.getPoints(),a&&qd(this.props).then((function(t){e.updateProductForm(t)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.accountSelected,a=e.match,r=e.selectedMerchantProducts,i=e.saveProductForm;a.params.merchantId!==this.props.match.params.merchantId&&qd(e).then((function(e){t.updateProductForm(e)})),a.params.productId!==this.props.match.params.productId&&r&&this.updateProductForm({selectedMerchantProducts:r,match:a,saveProductForm:i}),!n||!n.id||this.props.accountSelected&&this.props.accountSelected.id===n.id||this._form.setValue("source_account",n)}},{key:"componentDidUpdate",value:function(e){var t=this,n=e.playEverydayCards,a=this.props.playEverydayCards;!n&&a&&qd(this.props).then((function(e){t.updateProductForm(e)}))}},{key:"onClickProductCard",value:function(e,t){var n=this,a=this.props,r=a.cartItems,i=a.history,o=a.setRemainingQuantity,s=t.max_quantity||100;r.forEach((function(e){e.id===t.id&&s&&(s-=e.quantity)})),o(s),s>0||null===s?i.push("/play-everyday/redeem/merchants/".concat(e.id,"/products/").concat(t.id)):this.setState({quantityModalMessage:"You've reached the maximum limit of adding ".concat(t.name)},(function(){return n.showQuantityModalFunc(!0)}))}},{key:"getPoints",value:function(){var e=this.props.loadPoints;Object(Ju.d)({noError:!0}).then((function(t){e(t.data)}))}},{key:"getTitle",value:function(){var e,t,n=this.props,a=n.merchants,r=n.match,i=n.selectedMerchantProducts;return a?(a&&(e=Vd(a,r.params.merchantId)),e?(i&&(t=Vd(i,r.params.productId)),t?"".concat(e.name," - ").concat(t.name):e.name):""):""}},{key:"showQuantityModalFunc",value:function(e){this.setState({showQuantityModal:e})}},{key:"updateProductForm",value:function(e){var t=this,n=e.selectedMerchantProducts,a=e.match,r=e.saveProductForm,i=Vd(n,a.params.productId),o={quantity:1,option:!!(i&&null===i.value)&&1};this._form&&Object.keys(o).forEach((function(e){t._form.setValue(e,o[e])})),r(o)}},{key:"addToCart",value:function(e){var t,n=e.quantity,a=void 0===n?1:n,r=e.option,i=void 0===r?1:r,o=e.amount,s=void 0===o?null:o,l=e.points,c=e.send_to_option_field_values,u=e.source_account,d=this.props,p=d.history,h=d.addCartItem,m=d.selectedMerchantProducts,f=d.match,y=d.merchants,g=Vd(m,f.params.productId),v=s?la()(s).value():null,b=parseInt(a),E=g.name,O=g.id,k=g.value,w=void 0===k?l:k,_=g.multiplier;t=!0===i?2:!1===i?1:i;var P=null;y&&(P=Vd(y,f.params.merchantId)),h({key:jd()(),id:O,merchant_id:P.id,name:E,quantity:b,points:l,amount:v,value:w,multiplier:_,merchantName:P.name,send_to_option_id:t,send_to_option_field_values:c,source_account:u}),p.push("/play-everyday/redeem/merchants")}},{key:"selectAccount",value:function(){(0,this.props.toggleAccountSelect)(!0,["play_everyday"])}},{key:"preValidate",value:function(e){var t,n=e.points,a=Ad()(e,["points"]),r=this.props,i=r.selectedMerchantProducts,o=r.match,s=r.remainingQuantity,l=n,c=i.filter((function(e){return parseInt(e.id)===parseInt(o.params.productId)})),u=yd()(c,1)[0],d=void 0===u?null:u,p=a,h=d?d.min_points:0;p.send_to_option_id=!0===p.option?2:p.option,l&&(l="".concat(l).replace(/[^0-9]/g,"")),p.quantity&&(p.quantity="".concat(p.quantity).replace(/[^0-9]/g,""));var m=d?la()(Number(l)/d.multiplier).format("0.00"):null;if(p.amount=isNaN(m)||l<h?"":m,d){var f=d.send_to_options.filter((function(e){return e.id===p.send_to_option_id})),y=yd()(f,1)[0];t=void 0===y?null:y,1!==d.max_quantity&&1!==s||(p.quantity=1)}return 2!==p.send_to_option_id||p.send_to_option_field_values||(p.send_to_option_field_values=[],t&&(p.send_to_option_field_values=t.fields.map((function(e,t){return{id:e.id,value:p.send_to_option_field_values[t]?p.send_to_option_field_values[t].value:null}})))),Bd({points:l},p)}},{key:"goBack",value:function(){this.props.history.replace("/play-everyday/redeem/merchants")}},{key:"validate",value:function(e){var t,n=e.option,a=e.points,r=e.send_to_option_field_values,i=e.quantity,o=void 0===i?0:i,s=this.props,l=s.selectedMerchantProducts,c=s.match,u=s.remainingQuantity,d=s.accountSelected,p=Vd(l,c.params.productId),h=p&&null===p.value,m=2===(!0===n?2:n),f=p?p.min_points:0,y={};if(h&&(a||(y.points=""),a<f&&(y.points=""),1!==n||d.id||(y.account="Target account is required.")),o&&o>u&&null!==u&&(y.quantity="Quantity should not exceed ".concat(u,".")),p){var g=p.send_to_options.filter((function(t){return t.id===e.send_to_option_id})),v=yd()(g,1)[0];t=void 0===v?null:v}return m&&t&&t.fields.forEach((function(e,t){if(e.required&&!r[t].value&&(y.send_to_option_field_values=y.send_to_option_field_values||[],y.send_to_option_field_values[t]={value:"".concat(e.name," is required.")}),"email"!==e.input_type||Rd.a.test(r[t].value)||(y.send_to_option_field_values=y.send_to_option_field_values||[],y.send_to_option_field_values[t]={value:"Invalid email address"}),"mobile_no"===e.input_type){var n=r[t].value;r[t].value&&(r[t].value=r[t].value.replace(/[^0-9]/g,"").substr(0,11),n.length<11?(y.send_to_option_field_values=y.send_to_option_field_values||[],y.send_to_option_field_values[t]={value:"Mobile number must have 11 digits"}):"09"!==n.substr(0,2)&&(y.send_to_option_field_values=y.send_to_option_field_values||[],y.send_to_option_field_values[t]={value:"Invalid mobile number"}))}})),Number.isNaN(o)?y.quantity="Quantity is required.":o<1&&(y.quantity="Please enter a quantity."),y}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.cartItems,i=a.match,o=a.merchants,s=a.selectedMerchantProducts,l=a.points,c=a.remainingQuantity,u=a.toggleAsset,d=this.state,p=d.showQuantityModal,h=d.quantityModalMessage;o&&(e=Vd(o,i.params.merchantId)),s&&(t=Vd(s,i.params.productId));var m=u&&1!==u.status;return E.a.createElement(C.a,{title:"PlayEveryDay - Redeem"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},!o&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),E.a.createElement("div",{hidden:!o},E.a.createElement(L.a,{title:this.getTitle(),actions:E.a.createElement("div",null,l&&E.a.createElement("strong",{className:"mr-3"},E.a.createElement(wd.a,{value:l.amount,currency:l.currency})),E.a.createElement(Od.a,{to:"/play-everyday/redeem/review-page"},E.a.createElement(F.a,{size:"sm"},E.a.createElement(kd.a,null)," ","Cart",r&&r.length>0&&E.a.createElement("span",{className:"badge badge-primary ml-2"},r.length))))},!(e&&s)&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),s&&E.a.createElement("div",{hidden:!!t},s.map((function(t){return E.a.createElement("div",{role:"presentation",key:"".concat(t,"_").concat(t.id),className:"pe-product-card mt-3",onClick:function(){n.onClickProductCard(e,t)}},E.a.createElement(_d.a,{product:t,merchant:e,enablePlaceholder:m}))})),E.a.createElement("div",{className:"my-4"},E.a.createElement(F.a,{size:"sm",type:"button",onClick:this.goBack},"Back"))),E.a.createElement(Id.Form,{validate:this.validate,preValidate:this.preValidate,onSubmit:this.addToCart,ref:function(e){n._form=e}},(function(a){var r=a.submitForm,i=a.values;if(!t)return null;var o=t,s=o.value,l=o.multiplier,u=null===s,d=i?i.quantity*s*l:0;Number.isNaN(d)&&(d=0);var p,h=n.validate(i),f=!h||Object.keys(h).length<1,y=null;if(i&&(p=u?i.option:!0===i.option?2:1),i&&t){var g=t.send_to_options.filter((function(e){return e.id===p})),v=yd()(g,1)[0];y=void 0===v?null:v}return E.a.createElement("form",{onSubmit:r,className:"my-3"},E.a.createElement("div",{className:"mb-3"},E.a.createElement(_d.a,{product:t,merchant:e,enablePlaceholder:m})),s&&(null===t.max_quantity||t.max_quantity>1&&c>1)&&E.a.createElement("div",{className:"d-flex justify-content-between my-3"},E.a.createElement("div",null,E.a.createElement("div",{className:"form-group"},E.a.createElement(Fd.a,{name:"quantity",label:"Quantity",hideLimit:!0,maxLength:3}))),E.a.createElement("div",null,E.a.createElement("div",{className:"form-group"},E.a.createElement("div",{className:"text-primary",style:{fontSize:"1.5rem"}},E.a.createElement(wd.a,{type:1,value:d}))))),!s&&E.a.createElement("div",{className:"my-3"},E.a.createElement("div",{className:"d-flex justify-content-center"},E.a.createElement("div",{className:"w-50 mr-5"},E.a.createElement(Fd.a,{name:"points",label:"Enter points*",type:"text"})),E.a.createElement("div",{className:"w-50 ml-5"},E.a.createElement(Fd.a,{name:"amount",addon:E.a.createElement(Br.a,null,"PHP"),disabled:!0}))),E.a.createElement("div",{className:j()("mb-3",{"text-danger":i.points<t.min_points,"text-muted":i.points>=t.min_points})},"Minimum of ",la()(t.min_points).format("0,0")," points to avail cashback")),t.send_to_options.length>0&&E.a.createElement("div",{className:"d-flex my-3"},t.send_to_options.map((function(n){return E.a.createElement("div",{key:"".concat(e.id,"-").concat(t.id,"-").concat(n.id),className:"w-50"},E.a.createElement(Rc.a,{type:t.send_to_options.length>1?"radio":"checkbox",appearance:t.send_to_options.length>1?"radio":"checkbox",name:"option",value:n.id,label:n.name}))}))),u&&1===i.option&&E.a.createElement("div",null,E.a.createElement(Be.a,{item:i.source_account,onClick:n.selectAccount,unmasked:!1,placeholder:"Click to select account"}),E.a.createElement("div",{className:"mt-4"},"Redeem your cashback points to your own UnionBank account")),!(u&&1===i.option)&&y&&E.a.createElement("div",{className:"mt-3"},y.fields.map((function(n,a){return E.a.createElement("div",null,E.a.createElement(Fd.a,{key:"".concat(e.id,"-").concat(t.id,"-").concat(n.id,"-").concat(a),name:"send_to_option_field_values[".concat(a,"].value"),label:n.required?"".concat(n.name,"*"):n.name,maxLength:"mobile_no"===n.input_type?11:null}))}))),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{width:"wide",type:"button",onClick:n.goBack},"Cancel"),E.a.createElement(F.a,{width:"wide",type:"submit",color:"primary",disabled:!f},"Add to Cart")))}))),E.a.createElement(B.a,{open:p,backdrop:"static",title:"Error",size:"small",alternate:!0,onDismiss:function(){return n.showQuantityModalFunc(!1)},dismissLabel:"OK"},E.a.createElement("div",{className:"body error-modal"},E.a.createElement("div",{className:"content"},E.a.createElement("p",null,h))))))))}}]),t}(b.Component),Ud=Object(P.g)(Object(w.c)((function(e){return Bd({},e.playEveryday,{},e.page,{products:e.product.products})}),(function(e){return Object(_.b)({loadMerchantProducts:$.i,setAccountSelect:ee.u,toggleAccountSelect:ee.P,selectRecipient:$.w,saveProductForm:$.t,addCartItem:$.a,setRemainingQuantity:$.N,loadPoints:$.m},e)}))(zd)),Hd=n(2067),Gd=n.n(Hd);function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xd=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={showModal:null,modalMessage:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.successModal,r=t.setCartItems;if(!e.successModal.status&&a.status)switch(a.status){default:case"Go To Dashboard":r([]),n.replace("/dashboard");break;case"View Request":r([]),n.replace("/play-everyday/orders")}}},{key:"submit",value:function(){var e=this.props,t=e.setSuccessMessage,n=e.loadingOpen,a=e.loadingDismiss,r=e.cartItems,i=e.loadOrders,o=e.selectOrder,s=e.playEverydayCards,l=this.prepareItems(r);n(),Object(Ju.h)({products:l,cards:s}).then((function(){Object(Ju.a)().then((function(e){var n=Gd()(e.data),r=n[0],s=n.slice(1);i([r].concat(ci()(s))),a(),t("Thank you for your request!","We will notify you once redemption is successful. Confirmation will be sent to your registered mobile number and email address",null,"View Request","Go To Dashboard"),o(r)}))}),(function(){a()}))}},{key:"prepareItems",value:function(e){return e.map((function(e){var t=e.send_to_option_field_values;return e.source_account&&(t=[{id:1,value:e.source_account.product_number}]),{merchant_id:e.merchant_id,product_id:e.id,quantity:e.quantity,amount:e.points?e.points:null,send_to_option_id:e.send_to_option_id,send_to_option_field_values:t||[]}}))}},{key:"handleCancel",value:function(){this.setState({modalMessage:"You have items in your cart. Do you wish to cancel this transaction?"}),this.showModalFunc(!0)}},{key:"showModalFunc",value:function(e){this.setState({showModal:e})}},{key:"handleRemoveCartItem",value:function(e){var t=this.props,n=t.cartItems,a=t.removeCartItem;n&&n.length>1?a(e):(this.setState({modalMessage:"There’s only 1 item in the cart. You are about to cancel this checkout, Do you want to continue?"}),this.showModalFunc(!0))}},{key:"removeAllCartItems",value:function(){var e=this.props,t=e.setCartItems,n=e.history;t([]),n.push("/play-everyday/redeem/merchants")}},{key:"validate",value:function(e){var t={};return this.props.cartItems.reduce((function(e,t){return e||2===t.send_to_option_id}),!1)&&!e.consent&&(t.consent="You must consent to the Terms of Use first."),t}},{key:"renderItem",value:function(e,t){var n=this,a=e.merchantName,r=e.name,i=e.quantity,o=e.displayAmount,s=e.send_to_option_id,l=e.send_to_option_field_values,c=e.source_account;return E.a.createElement("div",{key:"".concat(t,"_").concat(e.id)},E.a.createElement("div",{className:"d-flex flex-row py-2",key:JSON.stringify(e)},E.a.createElement("div",{className:"w-50"},E.a.createElement("div",null,"UnionBank"===a?r:"".concat(a," - ").concat(r)," ","(×",i,")")),E.a.createElement("div",{className:"w-50 text-right"},E.a.createElement(wd.a,{type:1,value:o}),E.a.createElement("button",{style:{borderRadius:"50%",color:"#6f6d6d",backgroundColor:"lightGray",border:"none",width:"25px",height:"25px",marginLeft:"10px",cursor:"pointer"},onClick:function(t){t.preventDefault(),n.handleRemoveCartItem(e)}},"×"))),c&&E.a.createElement("section",null,E.a.createElement("div",{className:"p-3 w-50 d-none d-md-block justify-content-between",style:{backgroundColor:"#e0dfdf"}},E.a.createElement("div",null,E.a.createElement("div",null,c.account_name),E.a.createElement("div",null,c.product_name),E.a.createElement("div",null,Object(Ne.y)(c.product_number)))),E.a.createElement("div",{className:"p-3 d-md-none",style:{backgroundColor:"#e0dfdf"}},E.a.createElement("div",null,E.a.createElement("div",null,c.account_name),E.a.createElement("div",null,c.product_name),E.a.createElement("div",null,Object(Ne.y)(c.product_number))))),2===s&&E.a.createElement("section",null,E.a.createElement("div",{className:"p-3 w-50 d-none d-md-block",style:{backgroundColor:"#e0dfdf"}},l.map((function(e,t){return e.value&&E.a.createElement("div",{key:t,style:{backgroundColor:"#e0dfdf"}},e.value)}))),E.a.createElement("div",{className:"p-3 d-md-none",style:{backgroundColor:"#e0dfdf"}},l.map((function(e,t){return e.value&&E.a.createElement("div",{key:t,style:{backgroundColor:"#e0dfdf"}},e.value)})))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.points,a=t.cartItems,r=t.termsOpen,i=this.state,o=i.showModal,s=i.modalMessage,l=a.reduce((function(e,t){return e||2===t.send_to_option_id}),!1),c=a.map((function(e){var t=e.value,n=e.points,a=(e.amount,e.multiplier),r=e.quantity,i=Ad()(e,["value","points","amount","multiplier","quantity"]);return Wd({},i,null===t?{quantity:r,displayAmount:parseInt(n)}:{quantity:r,displayAmount:parseInt(t)*a*r})})),u=c.reduce((function(e,t){return e+t.displayAmount}),0)-0;return E.a.createElement(C.a,{title:"PlayEveryDay - Redeem"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},a.length>0&&E.a.createElement(L.a,{title:"Review"},E.a.createElement(Id.Form,{onSubmit:this.submit,validate:this.validate},(function(t){var a=t.submitForm,i=t.errors;return E.a.createElement("form",{onSubmit:a,className:"my-3"},E.a.createElement($e.a,{className:"p-0"},E.a.createElement("div",{className:j()("single-transaction","list-group","list-group-flush")},E.a.createElement("div",{className:"d-flex justify-content-between",style:{padding:"1.25rem"}},E.a.createElement("div",null,"Available Points"),E.a.createElement("div",{className:"pe-font-lg font-weight-bold"},E.a.createElement(wd.a,{type:1,currency:n.currency,value:n.amount}))),E.a.createElement(wa.a,{label:c.length>1?"Items":"Item",name:"items"},c.map((function(t,n){return e.renderItem(t,n)}))),E.a.createElement("div",{className:"d-flex justify-content-between",style:{padding:"1.25rem"}},E.a.createElement("div",null,"Total"),E.a.createElement("div",{className:"text-right pe-font-lg font-weight-bold"},E.a.createElement(wd.a,{type:1,value:u}))),E.a.createElement("div",{className:"text-muted text-center",style:{padding:"1.25rem"}},"Make sure the details are correct before you redeem."))),l&&E.a.createElement("div",{className:"mt-5"},E.a.createElement(Rc.a,{type:"checkbox",appearance:"checkbox",name:"consent",value:1,label:E.a.createElement("span",null,"I consent to the processing and use of the name, phone number and/or email address that I provided in this request, subject to "," ",E.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r()}},"UnionBank Online Terms & Conditions"),","," including ",E.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r("privacy")}},"UnionBank’s Privacy Policy"),".")})),E.a.createElement("div",{className:"d-lg-flex justify-content-between text-center my-5"},E.a.createElement("div",{className:"my-3"},E.a.createElement(F.a,{width:"wide",type:"button",onClick:e.handleCancel},"Cancel")),E.a.createElement("div",{className:"my-3"},E.a.createElement(F.a,{width:"wide",type:"submit",color:"primary",disabled:!!l&&!!i},"Redeem Now"))))}))),a.length<1&&E.a.createElement("div",null,E.a.createElement("div",{className:"my-5 text-center"},E.a.createElement("div",{className:"mb-4"},E.a.createElement(kd.a,{width:80,height:68})),E.a.createElement("div",null,"Your cart is empty!")),E.a.createElement("div",{className:"text-center my-5"},E.a.createElement(F.a,{width:"wide",type:"button",onClick:function(){window.history.back()}},"Go Back")))),E.a.createElement(Zu.a,{open:o,onDismiss:this.showModalFunc,handleProceed:function(){return e.removeAllCartItems()},handleCancel:function(){return e.showModalFunc(!1)},title:"Hang on",message:s})))}}]),t}(b.Component),Kd=Object(w.c)((function(e){var t=e.playEveryday;return Wd({},e.page,{},t)}),(function(e){return Object(_.b)({removeCartItem:$.s,setCartItems:$.A,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,termsOpen:ee.M,selectOrder:$.v,loadOrders:$.l},e)}))(Xd);function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Zd=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loadMerchantProducts,n=e.merchants;t(null),n||this.getMerchants()}},{key:"getMerchants",value:function(){var e=this,t=this.props.loadMerchants;Object(Ju.c)().then((function(n){var a=n.data.reduce((function(e,t){return"UnionBank"===t.category?[t].concat(ci()(e)):[].concat(ci()(e),[t])}),[]),r=yd()(a,1)[0];t(a),e.getUnionBankProducts(r)}))}},{key:"getUnionBankProducts",value:function(e){var t=this.props,n=t.loadUnionBankProducts,a=t.playEverydayCards;Object(Ju.g)(e.id,{cards:a}).then((function(e){n(e.data)}))}},{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(P.d,null,E.a.createElement(P.b,{path:"".concat(e,"/merchants/:merchantId/products/:productId?"),component:Ud}),E.a.createElement(P.b,{path:"".concat(e,"/merchants"),component:Md}),E.a.createElement(P.b,{path:"".concat(e,"/review-page"),component:Kd}))}}]),t}(E.a.Component),Qd=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$d(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadMerchants:$.j,loadMerchantProducts:$.i,loadUnionBankProducts:$.q},e)}))(Object(P.g)(Zd)),Jd=n(2133);function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var tp=[{label:"Name",width:"25%",data:function(e){var t=e.product_name,n=e.merchant_name;return"UnionBank"===n?t:"".concat(n," - ").concat(t)}},{label:"Order",width:"25%",data:function(e){var t=e.id;return"ORDER #".concat(la()(t).format("0000000000"))}},{label:"Date",width:"25%",data:function(e){var t=e.created_at;return Le()(t).format("MMMM D, YYYY")}},{label:"Status",width:"25%",data:function(e){return function(e){switch(e){case 0:return"Verified your request";case 1:return"Processing your reward";case 2:case 5:return"Reward redeemed";case 3:case 4:return"Failed to redeem reward"}return null}(e.status)}}],np=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getOrders(),Object($.v)(null)}},{key:"componentWillUnmount",value:function(){(0,this.props.selectOrder)(null)}},{key:"getOrders",value:function(){var e=this.props.loadOrders;Object(Ju.a)().then((function(t){e(t.data)}))}},{key:"render",value:function(){var e=this.props,t=e.orders,n=e.selectOrder,a=e.selectedOrder;return E.a.createElement("div",null,E.a.createElement(C.a,{title:"PlayEveryDay - Orders"},E.a.createElement(I.a,null,E.a.createElement("div",{className:j()("body","px-4 px-lg-5 my-5")},E.a.createElement(L.a,{title:"My Orders"},!t&&E.a.createElement("div",{className:"text-center display-4 p-5"},E.a.createElement("i",{className:"fa fa-spinner fa-pulse text-primary"})),t&&E.a.createElement(di.a,{items:t,tableFields:tp,selectAction:n,selected:a,emptyMessage:"No orders or reward items to display yet. Keep earning points to redeem more items!"}))))),E.a.createElement(Jd.a,null))}}]),t}(E.a.Component),ap=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.playEveryday)}),(function(e){return Object(_.b)({loadOrders:$.l,selectOrder:$.v},e)}))(np),rp=(n(2068),function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products,n=e.loadListOfProducts;t&&0!==t.length||n()}},{key:"componentDidUpdate",value:function(e){var t=e.products,n=this.props,a=n.products,r=n.playEverydayCards,i=n.setPlayEverydayCards;0===t.length&&a.length>0&&!r&&i(M()(a,{play_everyday:!0}))}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.toggleRedeem,a=e.toggleLeaderboard,r=t.url,i=n&&2===n.status,o=a&&2===a.status;return E.a.createElement(P.d,null,a&&!o&&E.a.createElement(P.b,{path:"".concat(r,"/leaderboards"),component:Ed}),n&&!i&&E.a.createElement(P.b,{path:"".concat(r,"/redeem"),component:Qd}),E.a.createElement(P.b,{path:"".concat(r,"/orders"),component:ap}),(!n||!a||o||i)&&E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component)),ip=Object(w.c)((function(e){var t=e.product,n=e.playEveryday;return{products:t.products,playEverydayCards:n.playEverydayCards,toggleRedeem:n.toggleRedeem,toggleLeaderboard:n.toggleLeaderboard}}),(function(e){return Object(_.b)({setPlayEverydayCards:$.G,loadListOfProducts:Q.loadListOfProducts},e)}))(rp),op=n(2069),sp=n(1192),lp=n.n(sp);function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={loading:!0,error:!1,selectedGoalType:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.setGoalTypes;t.goalTypes;X.a.get("/goals/types").then((function(t){n(t.data),e.setState({loading:!1,error:!1,selectedGoalType:t.data[0]})})).catch((function(){return e.setState({loading:!1,error:!0})}))}},{key:"handleGoalTypeChange",value:function(e){this.setState({selectedGoalType:e})}},{key:"handleClickSelectBtn",value:function(){var e=this.props,t=e.setCreateForm,n=e.createForm,a=e.history,r=this.state.selectedGoalType;r&&(t(up({},n,{goalType:r})),a.push("new/target"))}},{key:"render",value:function(){var e=this.props.goalTypes,t=this.state,n=t.loading,a=t.error;return E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"My Goal",actions:!n&&!a&&e&&E.a.createElement(He.a,{type:"primary",className:"d-block d-md-none",onClick:this.handleClickSelectBtn},"Select this Goal")},a&&E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:lp.a,alt:"",height:"200"}),E.a.createElement("p",{className:"py-3 mt-4 px-5"},"An error was encountered while loading the Goals.")),n&&!a&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"})),!n&&!a&&E.a.createElement("div",null,E.a.createElement("p",null,"Choose a goal you want to save up for. "),e&&E.a.createElement(op.a,{goalTypes:e,onChange:this.handleGoalTypeChange}),E.a.createElement("div",{className:"row d-none d-md-block"},E.a.createElement("div",{className:"col-md-6 offset-md-6 my-2"},E.a.createElement(F.a,{size:"lg",color:"primary",onClick:this.handleClickSelectBtn},"Select this Goal"))))))}}]),t}(E.a.Component),pp=Object(w.c)((function(e){var t=e.page,n=e.goals,a=e.product.products;return up({},t,{},n,{products:a=M()(a,{debit:!0,credit:!0,currency:"PHP"})||[]})}),(function(e){return Object(_.b)({setGoalsStep:Z.j,setGoalTypes:Z.h,setCreateForm:Z.e,toggleAccountSelect:ee.P,setAccountSelect:ee.u,setFrequencies:Q.setFrequencies},e)}))(Object(P.g)(dp)),hp=n(1600),mp=n(1619);function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={targetGoal:0},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createForm,n=e.history;if(t){if(!t.goalType)return void n.push("/goals/new");this.setState({targetGoal:t.target_amount||t.goalType.default_value})}}},{key:"handleAdjustBtnClick",value:function(e){this.setState({targetGoal:e})}},{key:"handleSubmitBtnClick",value:function(e){var t=this.props,n=t.history,a=t.createForm;(0,t.setCreateForm)(yp({},a,{target_amount:this.state.targetGoal,goal_name:e.goal_name})),n.push("schedule")}},{key:"render",value:function(){var e=this,t=this.props.createForm,n=this.state.targetGoal;return E.a.createElement(Je.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(a,r){return e.redeemForm=a,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"My Goal",actions:t.goalType&&E.a.createElement(He.a,{type:"primary",htmlType:"submit",disabled:r||n<=0},"Next")},t.goalType&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"text-center p-0"},Object(hp.a)(t.goalType))),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement($e.a,{className:"p-4"},E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"my-2"},E.a.createElement("h4",{className:"text-uppercase"},t.goalType.display_name),E.a.createElement("p",null,t.goalType.description)),E.a.createElement(Ke.a,{className:"my-2"},E.a.createElement(Je.a,{name:"goal_name",form:a,options:{initialValue:t.goal_name,rules:[{max:30,message:"Goal name must not exceed 30 characters in length"},{required:!0,message:"Goal name is required"}]}},E.a.createElement(Ye.a,{name:"goal_name",autoComplete:"off",placeholder:"Set goal name",type:"text"}))),E.a.createElement(mp.a,{onChange:e.handleAdjustBtnClick,defaultAmount:t.target_amount||t.goalType.default_value,adjustAmount:500,minAmount:5e3,className:"my-2"})))))))}})}}]),t}(E.a.Component),vp=Object(w.c)((function(e){return yp({},e.goals)}),(function(e){return Object(_.b)({setGoalsStep:Z.j,setGoalTypes:Z.h,setCreateForm:Z.e,setCompletionYearThreshold:Z.d,toggleAccountSelect:ee.P,setAccountSelect:ee.u,setFrequencies:Q.setFrequencies},e)}))(Object(P.g)(gp)),bp=n(1203),Ep=n.n(bp);function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={scheduledDebitAmount:500,frequency:"7",nextTransferDate:Le()(),productNumber:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createForm,n=e.history;if(t){if(!t.goalType)return void n.push("/goals/new");this.setState({nextTransferDate:t.next_transfer_date,frequency:t.frequency_id||7,scheduledDebitAmount:t.scheduledDebitAmount||500})}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.confirmModal,i=t.setCreateForm,o=t.createForm,s=this.state,l=s.scheduledDebitAmount,c=s.frequency,u=s.nextTransferDate,d=s.productNumber;"KICKSTART_CONFIRMATION_KEY"===r.key&&!r.message&&e.confirmModal.message&&(i(kp({},o,{kickstart:r.state,scheduledDebitAmount:l,frequency_id:c,next_transfer_date:u,product_number:d})),a.push("review"),n())}},{key:"handleScheduleChange",value:function(e){this.setState({frequency:e.target.value})}},{key:"handleAdjustBtnClick",value:function(e){this.setState({scheduledDebitAmount:e})}},{key:"handleDateChange",value:function(e){this.setState({nextTransferDate:e})}},{key:"handleSubmitBtnClick",value:function(e){var t=this.props.openConfirmModal;this.setState({productNumber:e.product_number,nextTransferDate:e.next_transfer_date,frequency:e.frequency}),t("KICKSTART_CONFIRMATION_KEY","Let's Kickstart Your Goal","To confirm this goal, let's fund it with P500 to start things off! This amount will be transferred from your selected funding account.","Ok, Deposit PHP 500","Maybe Later")}},{key:"render",value:function(){var e=this,t=this.props,n=t.createForm,a=t.products,r=this.state,i=r.scheduledDebitAmount,o=r.frequency,s=r.nextTransferDate,l=M()(a,{debit:!0});return E.a.createElement(Je.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(t,a){return e.redeemForm=t,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"My Goal",actions:n.goalType&&E.a.createElement(He.a,{type:"primary",htmlType:"submit",disabled:a},"Next")},n.goalType&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"text-left p-0"},Object(hp.a)(n.goalType),E.a.createElement("h5",{className:"p-4"},n.goal_name))),E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"p-4"},E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"my-2"},E.a.createElement("h4",{className:"text-uppercase"},"Save Frequency"),E.a.createElement("p",null,"How often do you want to save up?")),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{name:"frequency",form:t,options:{initialValue:"7"}},E.a.createElement(Ep.a.Group,{onChange:e.handleScheduleChange.bind(e),size:"large"},E.a.createElement(Ep.a.Button,{value:"7"},"Weekly"),E.a.createElement(Ep.a.Button,{value:"30"},"Monthly"),E.a.createElement(Ep.a.Button,{value:"90"},"Quarterly")))),E.a.createElement(mp.a,{onChange:e.handleAdjustBtnClick,defaultAmount:i||500,adjustAmount:500,maxAmount:Object(Vr.a)(n.target_amount),className:"my-4"}),E.a.createElement("div",{className:"my-4"},E.a.createElement(Je.a,{form:t,name:"next_transfer_date",options:{initialValue:n.next_transfer_date||null,rules:[{required:!0,message:"Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"Saving Start Date",onChange:e.handleDateChange,disabledDate:function(e){return e.isBefore(Le()().add(1,"days"),"day")}}))),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{form:t,name:"product_number",label:"Get Funds from",options:{initialValue:l.length>1?null:l[0]&&l[0].product_number,rules:[{required:!0,message:"Account is required"}]}},E.a.createElement(Je.c,{placeholder:"Click to select account",filters:["credit",function(e){var t=e.currency,n=e.debit;return"PHP"===t&&n}]}))),E.a.createElement("div",{className:"my-2"},E.a.createElement("h5",{className:"text-uppercase"},"Estimated Goal Completion Date"),s&&Object(Ne.g)(n.target_amount,i,100,o,s,!0),!s&&E.a.createElement("div",null,"Select ",E.a.createElement("b",null,"Saving Start Date")," to compute your ",E.a.createElement("b",null,"Goal's Estimated Completion Date")))))))))}})}}]),t}(E.a.Component),_p=Object(w.c)((function(e){var t=e.goals;return kp({},e.page,{},t,{},e.product)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setCreateForm:Z.e},e)}))(Object(P.g)(wp)),Pp=n(2070),Sp=n(2071),xp=n(2072);function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mp=E.a.createElement(Pp.a,null),Tp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={agreeTerms:!1,editSelectedProduct:!1,openEditGoalName:!1,openEditTargetGoalAmount:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createForm,n=e.history;t&&(t.goalType||n.push("/goals/new"))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.confirmModal,i=t.successModal;"CANCEL_GOAL_CREATE_KEY"===r.key&&r.state&&!e.confirmModal.state&&(a.push("/dashboard"),n()),!i.message&&e.successModal.message&&a.replace("/dashboard")}},{key:"handleTermsChange",value:function(){var e=this.state.agreeTerms;this.setState({agreeTerms:!e})}},{key:"handleEditGoalName",value:function(){this.setState({openEditGoalName:!0})}},{key:"handleEditTargetAmount",value:function(){this.setState({openEditTargetGoalAmount:!0})}},{key:"handleEditFromAcct",value:function(){var e=this.state.editSelectedProduct;this.setState({editSelectedProduct:!e})}},{key:"handleEditSelectedFromAcct",value:function(e){var t=this.state.editSelectedProduct,n=this.props,a=n.createForm,r=n.setCreateForm;this.setState({editSelectedProduct:!t}),r(Dp({},a,{product_number:e}))}},{key:"handleCancelBtnClick",value:function(){(0,this.props.openConfirmModal)("CANCEL_GOAL_CREATE_KEY","Cancel Goal","Do you wish to cancel the creation of Goal?","Yes","No")}},{key:"handleOpenTermsClick",value:function(){(0,this.props.openAlertModal)(Mp,{title:"Terms and Conditions",buttonLabel:"",size:"medium"})}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.setSuccessMessage,n=e.createForm,a=e.products,r=e.loadingOpen,i=e.loadingDismiss,o=n.frequency_id,s=n.goalType,l=n.goal_name,c=n.kickstart,u=n.next_transfer_date,d=n.product_number,p=n.scheduledDebitAmount,h=n.target_amount,m=x()(a,{product_number:d});r(),X.a.post("goals/",{product_id:m.id,type_id:s.id,scheduled_amount:p,target_amount:h,frequency_id:o,start_transfer_date:Le()(u).toDate(),kickstart:c,name:l}).then((function(e){i();var n=e.data,a=n.message,r=n.description;t(a,r,null,"Back to Dashboard")})).catch((function(){return i()}))}},{key:"handleCloseModals",value:function(){this.setState({openEditGoalName:!1,openEditTargetGoalAmount:!1})}},{key:"handleOnSaveNewGoalName",value:function(e){var t=this.props;(0,t.setCreateForm)(Dp({},t.createForm,{goal_name:e})),this.handleCloseModals()}},{key:"handleOnSaveNewTargetAmount",value:function(e){var t=this.props;(0,t.setCreateForm)(Dp({},t.createForm,{target_amount:e})),this.handleCloseModals()}},{key:"render",value:function(){var e=this.state,t=e.agreeTerms,n=e.editSelectedProduct,a=e.openEditGoalName,r=e.openEditTargetGoalAmount,i=this.props,o=i.createForm,s=i.products,l=o.frequency_id,c=o.goalType,u=o.goal_name,d=o.kickstart,p=o.next_transfer_date,h=o.product_number,m=o.scheduledDebitAmount,f=o.target_amount,y=x()(s,{product_number:h}),g=M()(s,{debit:!0});return E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Review and Set Goal"},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"transaction-review list-group list-group-flush "},E.a.createElement(wa.a,{name:"goal_type",label:"Goal Type"},c&&c.display_name),E.a.createElement(wa.a,{name:"goal_name",label:"Goal Name",editable:!0,onEdit:this.handleEditGoalName},u),E.a.createElement(wa.a,{name:"target_amount",label:"Target Amount",editable:!0,onEdit:this.handleEditTargetAmount},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},f)),y&&E.a.createElement(wa.a,{name:"Account",label:"From Account",editable:g&&g.length>1,onEdit:this.handleEditFromAcct},n&&E.a.createElement(Je.c,{onChange:this.handleEditSelectedFromAcct,placeholder:"Click to select account",filters:["credit",function(e){var t=e.currency,n=e.debit;return"PHP"===t&&n}]}),!n&&E.a.createElement(pi.a,{number:y.product_number,description:y.product_name,masked:!0,toggleable:!0},E.a.createElement("div",{className:"d-flex flex-column"},y.alias||y.account_name))),d&&E.a.createElement(wa.a,{name:"kickstart",label:"Initial Deposit"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},"500")),E.a.createElement(wa.a,{name:"amount_to_save",label:"Amount to Save"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},m)),E.a.createElement(wa.a,{name:"frequency",label:"Frequency"},"Save ",Object(Ne.i)(l,p)," ",E.a.createElement("br",null),E.a.createElement("p",{className:"font-weight-light"},"Starting ",Le()(p).format("MMMM DD, YYYY"))))),E.a.createElement("div",{className:"mt-3"},E.a.createElement(Rc.a,{name:"consent_box",label:E.a.createElement("span",null,"I agree to the terms. Read the terms and conditions ",E.a.createElement(Od.a,{to:"#",onClick:this.handleOpenTermsClick},"here")),appearance:"checkbox",type:"checkbox",standalone:!0,value:t,onChange:this.handleTermsChange})),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,{className:"mt-3"},E.a.createElement(He.a,{className:"w-wide",type:"reset",onClick:this.handleCancelBtnClick},"Cancel"),E.a.createElement(He.a,{className:"w-wide",type:"primary",onClick:this.handleOnFormSubmit,disabled:!t},"START SAVING")))),E.a.createElement(Sp.a,{open:a,title:"Edit Goal Name",initialGoalName:o.goal_name,onSave:this.handleOnSaveNewGoalName,onDismiss:this.handleCloseModals}),E.a.createElement(xp.a,{open:r,onDismiss:this.handleCloseModals,title:"Edit Target Amount",initialValue:o.target_amount,onSave:this.handleOnSaveNewTargetAmount,minAmount:5e3}))}}]),t}(E.a.Component),Ap=Object(w.c)((function(e){var t=e.goals,n=e.product;return Dp({},e.page,{},n,{},t)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,termsOpen:ee.M,openAlertModal:ee.n,setCreateForm:Z.e},e)}))(Object(P.g)(Tp)),Np=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(I.a,null,E.a.createElement(P.b,{path:"".concat(e,"/"),component:pp,exact:!0}),E.a.createElement(P.b,{path:"".concat(e,"/target"),component:vp}),E.a.createElement(P.b,{path:"".concat(e,"/schedule"),component:_p}),E.a.createElement(P.b,{path:"".concat(e,"/review"),component:Ap}))}}]),t}(E.a.Component),jp=Object(P.g)(Np);function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={scheduledDebitAmount:500,frequency:"7",nextTransferDate:Le()(),productNumber:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=e.history;t?this.setState({scheduledDebitAmount:parseFloat(t.scheduled_amount),frequency:t.frequency.id.toString(),nextTransferDate:Le()(t.next_transfer_date)}):n.push("/")}},{key:"handleScheduleChange",value:function(e){this.setState({frequency:e.target.value})}},{key:"handleAdjustBtnClick",value:function(e){this.setState({scheduledDebitAmount:e})}},{key:"handleDateChange",value:function(e){this.setState({nextTransferDate:e})}},{key:"handleSubmitBtnClick",value:function(e){var t=this.props,n=t.history,a=t.confirmModal,r=t.setEditForm,i=t.editForm,o=this.state.scheduledDebitAmount;r(Fp({},i,{kickstart:a.state,scheduled_amount:o,frequency_id:e.frequency,next_transfer_date:e.next_transfer_date,product_number:e.product_number})),n.push("edit/review")}},{key:"render",value:function(){var e=this,t=this.props.selectedGoal,n=this.state,a=n.scheduledDebitAmount,r=n.frequency,i=n.nextTransferDate;return E.a.createElement(Je.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(n,o){return e.redeemForm=n,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Edit My Goal",actions:t&&t.type&&E.a.createElement(He.a,{type:"primary",htmlType:"submit",disabled:o},"Next")},t.type&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"text-left p-0"},Object(hp.a)(t.type),E.a.createElement("h5",{className:"p-4"},t.name))),E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"p-4"},E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"my-2"},E.a.createElement("h4",{className:"text-uppercase"},"Save Frequency"),E.a.createElement("p",null,"How often do you want to save up?")),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{name:"frequency",form:n,options:{initialValue:""+t.frequency.id||"7"}},E.a.createElement(Ep.a.Group,{onChange:e.handleScheduleChange.bind(e),size:"large"},E.a.createElement(Ep.a.Button,{value:"7"},"Weekly"),E.a.createElement(Ep.a.Button,{value:"30"},"Monthly"),E.a.createElement(Ep.a.Button,{value:"90"},"Quarterly")))),E.a.createElement(mp.a,{onChange:e.handleAdjustBtnClick,defaultAmount:parseFloat(t.scheduled_amount),adjustAmount:500,maxAmount:t.remaining_amount,className:"my-4"}),E.a.createElement("div",{className:"my-4"},E.a.createElement(Je.a,{form:n,name:"next_transfer_date",options:{initialValue:Le()(t.next_transfer_date),rules:[{required:!0,message:"Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"Saving Start Date",onChange:e.handleDateChange,disabledDate:function(e){return e.isBefore(Le()().add(1,"days"),"day")}}))),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{form:n,name:"product_number",label:"Get Funds from",options:{initialValue:t.source_account.product_number,rules:[{required:!0,message:"Account is required"}]}},E.a.createElement(Je.c,{placeholder:"Click to select account",filters:["credit",function(e){var t=e.currency,n=e.debit;return"PHP"===t&&n}]}))),E.a.createElement("div",{className:"my-2"},E.a.createElement("h5",{className:"text-uppercase"},"Estimated Goal Completion Date"),i&&Object(Ne.g)(t.target_amount-t.value,a,100,r,i,!0),!i&&E.a.createElement("div",null,"Select ",E.a.createElement("b",null,"Saving Start Date")," to compute your ",E.a.createElement("b",null,"Goal's Estimated Completion Date")))))))))}})}}]),t}(E.a.Component),Lp=Object(w.c)((function(e){var t=e.goals;return Fp({},e.page,{},t,{},e.product)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setEditForm:Z.f},e)}))(Object(P.g)(Rp));function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Vp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={agreeTerms:!1,editSelectedProduct:!1,openEditSavedAmount:!1,openEditTargetGoalAmount:!1,openEditGoalName:!1},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=e.history,a=e.editForm;t&&a||n.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.confirmModal,i=t.successModal;"CANCEL_GOAL_RESUME_KEY"===r.key&&r.state&&!e.confirmModal.state&&(a.push("/dashboard"),n()),!i.message&&e.successModal.message&&a.replace("/dashboard")}},{key:"handleCancelBtnClick",value:function(){(0,this.props.openConfirmModal)("CANCEL_GOAL_RESUME_KEY","Cancel Goal","Do you wish to cancel the edit of Goal?","Yes","No")}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.setSuccessMessage,n=e.editForm,a=e.products,r=e.loadingOpen,i=e.loadingDismiss,o=e.selectedGoal,s=n.frequency_id,l=n.next_transfer_date,c=n.product_number,u=n.scheduled_amount,d=x()(a,{product_number:c});r(),X.a.put("goals/".concat(o.id,"/detail"),{product_id:d.id,scheduled_amount:u,frequency_id:s,next_transfer_date:Le()(l).toDate()}).then((function(e){i();var n=e.data,a=n.message,r=n.description;t(a,r||" ",null,"Back to Dashboard")})).catch((function(){return i()}))}},{key:"handleCloseModals",value:function(){this.setState({openEditGoalName:!1,openEditSavedAmount:!1})}},{key:"render",value:function(){var e=this.props,t=e.editForm,n=e.products,a=e.selectedGoal,r=t.frequency_id,i=t.kickstart,o=t.next_transfer_date,s=t.product_number,l=t.scheduled_amount,c=x()(n,{product_number:s});return E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Review and Edit Goal"},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"transaction-review list-group list-group-flush "},E.a.createElement(wa.a,{name:"goal_type",label:"Goal Type"},a&&a.type.display_name),E.a.createElement(wa.a,{name:"goal_name",label:"Goal Name"},a&&a.name),E.a.createElement(wa.a,{name:"target_amount",label:"Target Amount"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},a&&a.target_amount)),c&&E.a.createElement(wa.a,{name:"Account",label:"From Account"},E.a.createElement(pi.a,{number:c.product_number,description:c.product_name,masked:!0,toggleable:!0},E.a.createElement("div",{className:"d-flex flex-column"},c.alias||c.account_name))),i&&E.a.createElement(wa.a,{name:"kickstart",label:"Initial Deposit"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},"500")),E.a.createElement(wa.a,{name:"amount_to_save",label:"Amount to Save"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},l)),E.a.createElement(wa.a,{name:"frequency",label:"Frequency"},"Save ",Object(Ne.i)(r,o)," ",E.a.createElement("br",null),E.a.createElement("p",{className:"font-weight-light"},"Next transfer date is on ",Le()(o).format("MMMM DD, YYYY")," ",E.a.createElement("br",null),"Estimated Completion Date is on ",a&&Object(Ne.f)(a.remaining_amount,l,r,o))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,{className:"mt-3"},E.a.createElement(He.a,{className:"w-wide",type:"reset",onClick:this.handleCancelBtnClick},"Cancel"),E.a.createElement(He.a,{className:"w-wide",type:"primary",onClick:this.handleOnFormSubmit},"SAVE")))))}}]),t}(E.a.Component),qp=Object(w.c)((function(e){var t=e.goals,n=e.product;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},n,{},t)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,setEditForm:Z.f},e)}))(Object(P.g)(Vp)),zp=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(I.a,null,E.a.createElement(P.b,{path:"".concat(e,"/"),component:Lp,exact:!0}),E.a.createElement(P.b,{path:"".concat(e,"/review"),component:qp}))}}]),t}(E.a.Component),Up=Object(P.g)(zp);function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yp=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={scheduledDebitAmount:500,frequency:"7",nextTransferDate:Le()().add("days",1),productNumber:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=e.history;t?this.setState({scheduledDebitAmount:parseFloat(t.scheduled_amount),frequency:t.frequency.id.toString()}):n.push("/")}},{key:"handleScheduleChange",value:function(e){this.setState({frequency:e.target.value})}},{key:"handleAdjustBtnClick",value:function(e){this.setState({scheduledDebitAmount:e})}},{key:"handleDateChange",value:function(e){this.setState({nextTransferDate:e})}},{key:"handleSubmitBtnClick",value:function(e){var t=this.props,n=t.history,a=t.confirmModal,r=t.setResumeForm,i=t.resumeForm,o=this.state.scheduledDebitAmount;r(Gp({},i,{kickstart:a.state,scheduled_amount:o,frequency_id:e.frequency,next_transfer_date:e.next_transfer_date,product_number:e.product_number})),n.push("resume/review")}},{key:"render",value:function(){var e=this,t=this.props.selectedGoal,n=this.state,a=n.scheduledDebitAmount,r=n.frequency,i=n.nextTransferDate;return E.a.createElement(Je.b,{onSubmit:this.handleSubmitBtnClick,formContent:function(n,o){return e.redeemForm=n,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Resume My Goal",actions:t&&t.type&&E.a.createElement(He.a,{type:"primary",htmlType:"submit",disabled:o},"Next")},t.type&&E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"text-left p-0"},Object(hp.a)(t.type),E.a.createElement("h5",{className:"p-4"},t.name))),E.a.createElement("div",{className:"col-12 col-md-6 mb-3"},E.a.createElement($e.a,{className:"p-4"},E.a.createElement("div",{className:"d-flex flex-column"},E.a.createElement("div",{className:"my-2"},E.a.createElement("h4",{className:"text-uppercase"},"Save Frequency"),E.a.createElement("p",null,"How often do you want to save up?")),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{name:"frequency",form:n,options:{initialValue:""+t.frequency.id||"7"}},E.a.createElement(Ep.a.Group,{onChange:e.handleScheduleChange.bind(e),size:"large"},E.a.createElement(Ep.a.Button,{value:"7"},"Weekly"),E.a.createElement(Ep.a.Button,{value:"30"},"Monthly"),E.a.createElement(Ep.a.Button,{value:"90"},"Quarterly")))),E.a.createElement(mp.a,{onChange:e.handleAdjustBtnClick,defaultAmount:parseFloat(t.scheduled_amount),adjustAmount:500,maxAmount:t.remaining_amount,className:"my-4"}),E.a.createElement("div",{className:"my-4"},E.a.createElement(Je.a,{form:n,name:"next_transfer_date",options:{initialValue:Le()().add("days",1),rules:[{required:!0,message:"Date is Required"}]}},E.a.createElement(gn.a,{format:"MMMM DD, YYYY",placeholder:"Saving Start Date",onChange:e.handleDateChange,disabledDate:function(e){return e.isBefore(Le()().add(1,"days"),"day")}}))),E.a.createElement("div",{className:"my-2"},E.a.createElement(Je.a,{form:n,name:"product_number",label:"Get Funds from",options:{initialValue:t.source_account.product_number,rules:[{required:!0,message:"Account is required"}]}},E.a.createElement(Je.c,{placeholder:"Click to select account",filters:["credit",function(e){var t=e.currency,n=e.debit;return"PHP"===t&&n}]}))),E.a.createElement("div",{className:"my-2"},E.a.createElement("h5",{className:"text-uppercase"},"Estimated Goal Completion Date"),i&&Object(Ne.g)(t.target_amount-t.value,a,100,r,i,!0),!i&&E.a.createElement("div",null,"Select ",E.a.createElement("b",null,"Saving Start Date")," to compute your ",E.a.createElement("b",null,"Goal's Estimated Completion Date")))))))))}})}}]),t}(E.a.Component),Wp=Object(w.c)((function(e){var t=e.goals;return Gp({},e.page,{},t)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setResumeForm:Z.r},e)}))(Object(P.g)(Yp));function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Kp=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedGoal,n=(e.resumeForm,e.history);t||n.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.confirmModal,i=t.successModal;"CANCEL_GOAL_RESUME_KEY"===r.key&&r.state&&!e.confirmModal.state&&(a.push("/dashboard"),n()),!i.message&&e.successModal.message&&a.replace("/dashboard")}},{key:"handleCancelBtnClick",value:function(){(0,this.props.openConfirmModal)("CANCEL_GOAL_RESUME_KEY","Cancel Goal","Do you wish to cancel the resume of Goal?","Yes","No")}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.setSuccessMessage,n=e.resumeForm,a=e.products,r=e.loadingOpen,i=e.loadingDismiss,o=e.selectedGoal,s=n.frequency_id,l=n.next_transfer_date,c=n.product_number,u=n.scheduled_amount,d=x()(a,{product_number:c});r(),X.a.patch("goals/".concat(o.id,"/resume"),{product_id:d.id,scheduled_amount:u,frequency_id:s,next_transfer_date:Le()(l).toDate()}).then((function(e){i();var n=e.data,a=n.message,r=n.description;t(a,r||" ",null,"Back to Dashboard")})).catch((function(){return i()}))}},{key:"handleCloseModals",value:function(){this.setState({openEditGoalName:!1,openEditSavedAmount:!1})}},{key:"render",value:function(){var e=this.props,t=e.resumeForm,n=e.products,a=e.selectedGoal,r=t.frequency_id,i=t.kickstart,o=t.next_transfer_date,s=t.product_number,l=t.scheduled_amount,c=x()(n,{product_number:s});return E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"Review and Resume Goal"},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"transaction-review list-group list-group-flush "},E.a.createElement(wa.a,{name:"goal_type",label:"Goal Type"},a&&a.type.display_name),E.a.createElement(wa.a,{name:"goal_name",label:"Goal Name"},a&&a.name),E.a.createElement(wa.a,{name:"target_amount",label:"Target Amount"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},a&&a.target_amount)),c&&E.a.createElement(wa.a,{name:"Account",label:"From Account"},E.a.createElement(pi.a,{number:c.product_number,description:c.product_name,masked:!0,toggleable:!0},E.a.createElement("div",{className:"d-flex flex-column"},c.alias||c.account_name))),i&&E.a.createElement(wa.a,{name:"kickstart",label:"Initial Deposit"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},"500")),E.a.createElement(wa.a,{name:"amount_to_save",label:"Amount to Save"},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},l)),E.a.createElement(wa.a,{name:"frequency",label:"Frequency"},"Save ",Object(Ne.i)(r,o)," ",E.a.createElement("br",null),E.a.createElement("p",{className:"font-weight-light"},"Next transfer date is on ",Le()(o).format("MMMM DD, YYYY")," ",E.a.createElement("br",null),"Estimated Completion Date is on ",a&&Object(Ne.f)(a.remaining_amount,l,r,o))))),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,{className:"mt-3"},E.a.createElement(He.a,{className:"w-wide",type:"reset",onClick:this.handleCancelBtnClick},"Cancel"),E.a.createElement(He.a,{className:"w-wide",type:"primary",onClick:this.handleOnFormSubmit},"RESUME")))))}}]),t}(E.a.Component),$p=Object(w.c)((function(e){var t=e.goals,n=e.product;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page,{},n,{},t)}),(function(e){return Object(_.b)({openConfirmModal:ee.o,resetConfirmModal:ee.s,setSuccessMessage:ee.H,loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n,setResumeForm:Z.r},e)}))(Object(P.g)(Kp)),Zp=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(I.a,null,E.a.createElement(P.b,{path:"".concat(e,"/"),component:Wp,exact:!0}),E.a.createElement(P.b,{path:"".concat(e,"/review"),component:$p}))}}]),t}(E.a.Component),Qp=Object(P.g)(Zp);function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var th=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.products,a=e.loadListOfProducts;t&&0===n.length&&a()}},{key:"componentWillUnmount",value:function(){this.props.clearGoals()}},{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(C.a,{title:"Goals",className:"goals"},E.a.createElement(P.b,{path:"".concat(e,"/new"),component:jp}),E.a.createElement(P.b,{path:"".concat(e,"/edit"),component:Up}),E.a.createElement(P.b,{path:"".concat(e,"/resume"),component:Qp}))}}]),t}(E.a.Component),nh=Object(w.c)((function(e){return eh({},e.goals,{},e.page,{},e.router,{products:e.product.products})}),(function(e){return eh({},Object(_.b)({clearGoals:Z.a,loadListOfProducts:Q.loadListOfProducts},e))}))(th),ah=n(1500),rh=n.n(ah),ih=n(1657);function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lh=la()(999999999).format("0,0.00").length,ch=["PHP"],uh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.products,e.setFormDenominations);0===e.denominations.length&&X.a.get("/cardless-withdrawals/denominations").then((function(e){t(Rt()(e.data,"amount"))}))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.accountSelected,n=e.setAccountSelect;t.id&&(n({}),this._form.setValue("source_account",t,!1))}},{key:"accountFilters",value:function(){return["debit",function(e){return ch.includes(e.currency)}]}},{key:"selectAccount",value:function(){(0,this.props.toggleAccountSelect)("true",this.accountFilters())}},{key:"onSubmit",value:function(e){var t=this.props,n=t.setCreateForm,a=t.setWithdrawStep;n({values:e}),a("review")}},{key:"loadState",value:function(){var e=this.props,t=e.step,n=e.createForm,a=rh()(n);return"form"===t&&(a.errors={changed:"initial"},a.values.denominations=[]),a}},{key:"manage",value:function(){this.props.setWithdrawStep("manage")}},{key:"onDiscard",value:function(){this.props.setWithdrawStep("review")}},{key:"getDefaultValues",value:function(e){var t=this.props,n=(t.step,t.createForm.values);return yr()(n,e,null)}},{key:"formContent",value:function(e,t){var n=this.props,a=n.products,r=n.step,i=n.denominations,o=la()(2e4).format("0,0"),s=la()(500).format("0,0"),l=e.getFieldsValue(),c=x()(a,{product_number:l.source_account});return console.log(l,c,a,x.a),E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Withdraw From",actions:a.length>1&&l.source_account&&E.a.createElement(F.a,{size:"sm",onClick:this.selectAccount},"Select Account")},E.a.createElement(Je.a,{form:e,name:"source_account",placeholder:"Click to select account",type:"account",filters:this.accountFilters(),options:{initialValue:this.getDefaultValues("source_account"),rules:[{required:!0,message:"Please select source account."}]}}))),E.a.createElement($e.a,{className:"mb-3"},E.a.createElement(L.a,{title:"Amount"},E.a.createElement(Je.a,{form:e,name:"amount",maxLength:lh,hideLimit:!0,options:{initialValue:this.getDefaultValues("amount"),normalize:function(e){return e?Object(Vr.d)(e):""},rules:[{validator:function(e,t,n){var a="",r=la()(t).value(),i=la()(500).format("0,0"),o=la()(2e4).format("0,0"),s=la()(100).format("0,0");!t||r<500||r>2e4?a="Please enter an amount between PHP ".concat(i," and PHP ").concat(o,"."):r%100>0&&(a="Please enter an amount in multiples of PHP ".concat(s,".")),c&&r>la()(c.balance).value()&&(a="Please enter an amount that is not greater than your current balance."),console.log(a),a?n(a):n()}}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,"PHP")})),E.a.createElement("p",null,"Enter an amount between PHP ".concat(s," - PHP ").concat(o,"\n                            or choose from any of the denominations below. ")),E.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},i.map((function(t){return E.a.createElement("div",{key:t,className:"col-4 my-3 mx-auto"},E.a.createElement(F.a,{square:!0,className:"w-100 mx-auto",color:la()(t).value()===la()(l.amount).value()?"primary":"secondary",onClick:function(){return e.setFieldsValue({amount:t})}},la()(t).format("0,0")))})),0===i.length&&E.a.createElement("div",{className:"text-center w-100 p-5"},E.a.createElement("i",{className:"text-primary fa fa-pulse fa-spinner fa-2x"}))))),E.a.createElement(Qe.a,{className:"mt-5"},"edit"===r?E.a.createElement(F.a,{width:"wide",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(F.a,{width:"wide",color:"primary",type:"submit",disabled:!!t},"edit"===r?"Update":"Next")))}},{key:"render",value:function(){return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Cardless Withdrawal"},E.a.createElement(Je.b,{onSubmit:this.onSubmit,formContent:this.formContent}))),E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Manage"},E.a.createElement(Yl.a,null,E.a.createElement(F.a,{onClick:this.manage},"Manage Withdrawal Requests"))))))}}]),t}(E.a.Component),dh=Object(w.c)((function(e){var t=e.page,n=e.product,a=e.withdraw,r=n.products;return sh({},t,{},a,{products:r=M()(r,{debit:!0,currency:"PHP"})||[]})}),(function(e){return sh({},Object(_.b)({setFormDenominations:ih.c,toggleAccountSelect:ee.P,setAccountSelect:ee.u,setWithdrawStep:ih.i,setCreateForm:ih.b},e))}))(uh);function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.confirmModal,n=e.resetConfirmModal;t.state&&(n(),"cardlessCancel"===t.key&&this.displayDashboard())}},{key:"displayDashboard",value:function(){this.props.history.replace("/dashboard")}},{key:"editForm",value:function(){this.props.setWithdrawStep("edit")}},{key:"confirmCancel",value:function(){this.props.openConfirmModal("cardlessCancel","Cancel Withdrawal","Are you sure you want to cancel this withdrawal?")}},{key:"manage",value:function(){this.props.setWithdrawStep("manage")}},{key:"submit",value:function(){var e=this.props,t=e.loadingOpen,n=e.loadingDismiss,a=e.setWithdrawStep,r=e.setSelectedItem,i=e.updateCreateForm,o=e.values,s=o.source_account,l=o.amount,c={account_number:s.product_number,amount:la()(l).format("0")};t(),X.a.post("/cardless-withdrawals",c).then((function(e){var t=e.data,s=t.cash_code,l=t.status,c=t.expiry_date;i({values:hh({},o,{cash_code:s,status:l,expiry_date:c})}),n(),r(e.data),a("success")})).catch((function(){n()}))}},{key:"render",value:function(){var e=this.props,t=e.values,n=e.step,a=e.selectedItem,r=e.products;if(!t.source_account)return null;var i=find(r,{product_number:t.source_account}),o=la()(t.amount).format("0,0.00");return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(L.a,{title:"review"===n?"Review and Withdraw":"Request Successful"},"success"===n&&E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card text-center"},E.a.createElement("div",{className:"pt-4"},E.a.createElement("h4",{className:"font-weight-bold text-primary"},"PIN1: ".concat(a.cash_code))),E.a.createElement("div",{className:"p-4"},"On a UnionBank ATM, input PIN1 above followed by PIN2 sent to your mobile number to start your cardless withdrawal."))),E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush"},"success"===n&&E.a.createElement(wa.a,{label:"Request Date"},Le()(a.created_at).format("MMM DD, YYYY hh:mm A z")),E.a.createElement(wa.a,{label:"From Account",onEdit:this.editForm,editable:"review"===n},E.a.createElement(pi.a,{masked:!0,toggleable:!0,number:i.product_number},E.a.createElement("div",null,i.alias),E.a.createElement("div",null,i.product_name))),E.a.createElement(wa.a,{label:"Amount"},E.a.createElement(_a.a,{currency:"PHP"},t.amount)),"success"===n&&E.a.createElement("div",null,E.a.createElement(wa.a,{label:"Validity"},Le()(a.expiry_date).format("MMM DD, YYYY hh:mm A z")),E.a.createElement(wa.a,{label:"Status"},"Active")),E.a.createElement("div",{className:"list-group-item review-item"},"For your security, cardless withdrawal requests are only valid for ".concat("30 minutes",".\n                                    PIN1 will be displayed on your app, while PIN2 is going to be sent to your mobile number.")))),"review"===n&&E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{width:"wide",onClick:this.confirmCancel},"Cancel"),E.a.createElement(F.a,{width:"wide",color:"primary",onClick:this.submit},"Withdraw PHP ".concat(o))),"success"===n&&E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement("div",null),E.a.createElement(F.a,{width:"wide",color:"primary",onClick:this.manage},"Manage Withdrawal Requests")))))}}]),t}(E.a.Component),fh=Object(w.c)((function(e){var t=e.page,n=e.product,a=e.withdraw,r=a.createForm.values;return hh({},t,{},a,{products:n.products,values:r})}),(function(e){return hh({},Object(_.b)({setWithdrawStep:ih.i,updateCreateForm:ih.j,setSelectedItem:ih.g,loadingOpen:ee.i,loadingDismiss:ee.h,openConfirmModal:ee.o,resetConfirmModal:ee.s},e))}))(mh);function yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vh=1,bh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={searchText:""},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getFetchData()}},{key:"componentWillUnmount",value:function(){this.props.setTransactions([])}},{key:"onPaginate",value:function(e){var t=this.props,n=t.transactions,a=t.hasMore,r=t.loading,i=e.target,o=i.scrollHeight,s=i.scrollTop,l=i.offsetHeight;if(!r&&a&&o-(s+l)<50){var c=n[n.length-1];c&&a&&this.getFetchData(c.id)}}},{key:"onSearch",value:function(e){this.props.setTransactions([]),this.setState({searchText:e},this.getFetchData)}},{key:"onSelect",value:function(e){this.closeNotificationSidebar(),this.props.setSelectedId(e.id)}},{key:"getFetchData",value:function(e){var t=this.props,n=t.transactions,a=t.setTransactions,r=t.setLoading,i=t.setHasMore,o={limit:10,q:this.state.searchText};e&&(o.offset_id=e),r(!0),X.a.get("/cardless-withdrawals",{params:o}).then((function(e){var t=e.data,s=t.length;s>0?(a([].concat(ci()(n),ci()(t))),i(s>=o.limit)):i(!1),r(!1)})).catch((function(){r(!1)}))}},{key:"tableFields",value:function(){return[{label:"Request Date",width:"30%",data:function(e){return Le()(e.created_at).format("MMM DD, YYYY")}},{label:"Amount",width:"30%",data:function(e){return E.a.createElement(_a.a,{currency:"PHP"},e.amount)}},{label:"Valid Until",width:"20%",data:function(e){if(e.status===vh){var t=Le()(e.created_at).format("YYYY-MM-DD")===Le()(e.expiry_date).format("YYYY-MM-DD");return E.a.createElement("span",null,E.a.createElement("span",{className:"d-inline d-lg-none text-muted"},"Until "),Le()(e.expiry_date).format(t?"hh:mm A z":"".concat("MMM DD, YYYY"," ").concat("hh:mm A z")))}}},{label:"Status",width:"20%",data:function(e){return e.status===vh?"Active":"Expired"}}]}},{key:"closeNotificationSidebar",value:function(){var e=this.props,t=e.closeNotifItem,n=e.closeNotifs;t(),n()}},{key:"render",value:function(){var e=this.props,t=e.transactions,n=e.loading,a=e.selectedId,r=x()(t,{id:a});return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Cardless Withdrawals"},E.a.createElement(di.a,{loading:n,items:t,selected:r,tableFields:this.tableFields(),paginateAction:this.onPaginate,searchAction:this.onSearch,selectAction:this.onSelect,emptyMessage:"No requests available"})))))}}]),t}(E.a.Component),Eh=Object(w.c)((function(e){return gh({},e.withdraw)}),(function(e){return gh({},Object(_.b)({setTransactions:ih.h,setLoading:ih.e,setHasMore:ih.d,setWithdrawStep:ih.i,setSelectedId:ih.f,updateCreateForm:ih.j,loadingOpen:ee.i,loadingDismiss:ee.h,closeNotifItem:tr.b,closeNotifs:tr.c},e))}))(bh);function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props.history;K.a.cardlessWithdraw||e.replace("not-found")}},{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.products,a=e.loadListOfProducts;t&&0===n.length&&a()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.history,n=e.match,a=e.location,r=e.step,i="".concat(n.url,"/").concat(r);i!==a.pathname&&a.pathname.includes(n.url)&&t.replace(i)}},{key:"componentWillUnmount",value:function(){this.props.resetWithdraw()}},{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(C.a,{title:"Withdraw",className:"withdraw"},E.a.createElement(P.b,{path:"".concat(e,"/(form|edit)"),component:dh,exact:!0}),E.a.createElement(P.b,{path:"".concat(e,"/(review|success)"),component:fh}),E.a.createElement(P.b,{path:"".concat(e,"/manage"),component:Eh}))}}]),t}(E.a.Component),_h=Object(w.c)((function(e){return kh({},e.page,{},e.router,{},e.product,{},e.withdraw)}),(function(e){return kh({},Object(_.b)({resetWithdraw:ih.a,loadListOfProducts:Q.loadListOfProducts},e))}))(wh),Ph=n(2073),Sh=(n(251),n(37)),xh=n.n(Sh),Ch=n(1682),Dh=n(1556),Mh=n(195);function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.currentAppointment,n=e.match,a=e.history;t.date||a.replace(n.url.replace("/review",""))}},{key:"componentDidMount",value:function(){this.defaultValues()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.successModal,i=t.confirmModal;"cancelAppointmentSave"===i.key&&i.state&&!e.confirmModal.state&&(this.cancelAppointment(),n()),!r.message&&e.successModal.message&&("View Visits"===r.status?a.replace("/mobile-branch-banking"):"Go to Dashboard"===r.status&&a.replace("/dashboard"))}},{key:"onSubmit",value:function(){var e=this,t=this.props,n=t.currentAppointment,a=t.loadingOpen,r=t.loadingDismiss,i=(t.setFeatureToggleRules,n.id),o=n.date,s=n.branch,l=n.cash_transactions,c=n.check_encashment_transactions,u=n.check_deposit_transactions,d="/branch-appointments",p={date:o,sol_id:s.sol_id};l.length>0&&(l=l.map(this.cleanTransaction),p.cash_transactions=l),u.length>0&&(u=u.map(this.cleanTransaction),p.check_deposit_transactions=u),c.length>0&&(c=c.map(this.cleanTransaction),p.check_encashment_transactions=c),a(),i?X.a.put("".concat(d,"/").concat(i),p).then((function(t){e.getNotifCountUnseen(),r(),e.displaySuccess(t.data,!0)})).catch((function(){r()})):X.a.post(d,p).then((function(t){e.getNotifCountUnseen(),r(),e.displaySuccess(t.data,!1)})).catch((function(){r()}))}},{key:"getNotifCountUnseen",value:function(){var e=this.props.updateNotificationsCount;X.a.get("/notifications/count-unseen").then((function(t){e(t.data)}))}},{key:"cleanTransaction",value:function(e){var t=Object.assign({},e);return"0000"===t.id.toString().substr(0,4)&&delete t.id,t.amount=parseFloat(t.amount.replace(/,/gi,"")),t}},{key:"defaultValues",value:function(){var e=this.props,t=e.currentAppointment,n=e.cashDeposit,a=e.cashWithdraw,r=e.checkDeposit,i={};n.forEach((function(e){e.amount=la()(e.amount).format("0,0.00"),i["id_".concat(e.id)]=e})),a.forEach((function(e){e.amount=la()(e.amount).format("0,0.00"),i["id_".concat(e.id)]=e})),r.forEach((function(e){e.amount=la()(e.amount).format("0,0.00"),i["id_".concat(e.id)]=e})),this._form&&this._form.setAllValues(xh()({date:Le()(t.date).format(Object(Ne.h)()),transaction:i}),!0)}},{key:"edit",value:function(){var e=this.props,t=e.history,n=e.match;(0,e.setFromEdit)(!0),t.replace(n.url.replace("/review","/process"))}},{key:"confirmCancel",value:function(){(0,this.props.openConfirmModal)("cancelAppointmentSave","Hang On","Do you wish to cancel the update for this visit? If you want to change something, just click EDIT.")}},{key:"cancelAppointment",value:function(){var e=this.props,t=e.match;e.history.replace(t.url.replace("/review",""))}},{key:"sumAmmount",value:function(e){return e?[].concat(ci()(e.cash_transactions),ci()(e.check_deposit_transactions)).reduce((function(e,t){return e+parseFloat(t.amount.replace(/,/g,""))}),0):null}},{key:"displaySuccess",value:function(e,t){var n=this.props,a=n.setSuccessMessage,r=n.setHasReminder;e.date===Le()().format("YYYY-MM-DD")&&r(!0),a("Thank you!","You successfully ".concat(t?"updated":"booked"," a visit. Looking forward to see you!"),"","Go to Dashboard","View Visits")}},{key:"loadState",value:function(){return this.props.form}},{key:"render",value:function(){var e=this,t=this.props.currentAppointment;if(!t)return null;var n=t.date,a=t.branch;return a?E.a.createElement(C.a,{title:"Branch Visit",subtitle:"Review Visit"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Id.Form,{onSubmit:this.onSubmit,ref:function(t){e._form=t}},(function(r){var i=r.submitForm;return E.a.createElement("form",{onSubmit:i},E.a.createElement("div",{className:"appointment-review"},E.a.createElement(L.a,{title:"Review and Book Visit",actions:E.a.createElement(F.a,{size:"sm",type:"button",color:"primary",onClick:e.edit},"edit")},E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"list-group list-group-flush branch-banking"},E.a.createElement("div",{className:"list-group-item"},E.a.createElement("div",{className:"branch-name font-weight-bold mb-3"},a.name),E.a.createElement("div",null,a.address)),E.a.createElement(wa.a,{name:"date",label:"Date"},Object(Ne.c)(n))))),E.a.createElement(Ch.a,{appointment:t}),E.a.createElement(Qe.a,{className:"mt-5"},E.a.createElement(F.a,{width:"wide",onClick:e.confirmCancel},"Cancel"),E.a.createElement(F.a,{color:"primary",width:"wide",type:"submit"},t.id?"Update Visit":"Book Visit"))))}))))):null}}]),t}(E.a.Component),jh=Object(w.c)((function(e){var t=e.page,n=e.branch,a=n.currentAppointment,r=a.cash_transactions,i=a.check_deposit_transactions,o=t.confirmModal,s=t.successModal,l=r.length+i.length,c=[],u=[],d=i||[];return r&&(c=r.filter((function(e){return e.type===Mh.k.DEPOSIT}))),r&&(u=r.filter((function(e){return e.type===Mh.k.WITHDRAWAL}))),Ah({},n,{transactionsItems:[],transactionsLength:l,cashDeposit:c,cashWithdraw:u,checkDeposit:d,confirmModal:o,successModal:s})}),(function(e){return Ah({},Object(_.b)({loadingOpen:ee.i,loadingDismiss:ee.h,setSuccessMessage:ee.H,openConfirmModal:ee.o,resetConfirmModal:ee.s,setFromEdit:Dh.n,setHasReminder:ne.e,updateNotificationsCount:tr.s,setFeatureToggleRules:ee.z},e))}))(Nh),Ih=n(1272),Fh=n.n(Ih),Rh=n(2132),Lh=n(1273);function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qh=function(e){function t(e){var n,a=e.currentAppointment,r=e.products;l()(this,t),n=p()(this,m()(t).call(this));var i={};return A()(r,(function(e){i[e.id]=e.currency})),n.state={initialValues:n.getInitialVisit(a),transactionTypeToCancel:null,validatedInputs:i},k()(y()(n)),n}return v()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.match,n=e.history;e.currentAppointment.date||n.replace(t.url.replace("/process",""))}},{key:"componentDidMount",value:function(){this.defaultValues(),this.getExistingAppointments()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.removeTransactionByType,a=t.resetConfirmModal,r=t.confirmModal;"transactionCancel"===e.confirmModal.key&&e.confirmModal.state&&(n(this.state.transactionTypeToCancel),this.setState({transactionTypeToCancel:null}),a()),"appointmentEdit"===e.confirmModal.key&&r.message&&e.confirmModal.state&&(this.setExistingAppointment(),a())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.appointmentDates,a=t.openConfirmModal,r=t.accountSelected,i=t.transactionsLength,o=t.currentAppointment,s=t.lastAddedTransaction,l=t.lineId,c=t.form,u=o.branch;if(!e.accountSelected.product_number&&r.product_number){var d="transaction.id_".concat(l,".account_number");this._form.setValue(d,r.product_number)}e.transactionsLength!==i&&(this._form.setValue("transaction.id_".concat(s.id,".ubp"),!0),this._form.setValue("nonce",Le()().unix())),u&&e.currentAppointment.branch!==u&&this._form.setValue("branchName",u.name);var p=c.values.date,h=x()(n,{date:Le()(p).format("YYYY-MM-DD")});p&&h&&h.status===Mh.h.NEW&&h.id!==o.id&&e.form.values.date&&e.form.values.date!==p&&a("appointmentEdit","Hang on","There is existing branch visit on ".concat(p,"\n                at ").concat(h.name,". Would you like to edit it?"))}},{key:"onSubmit",value:function(e){var t=this.props,n=t.saveTransaction,a=t.setSidebar,r=t.match,i=t.history;a(null),n(e),i.replace(r.url.replace("/process","/review"))}},{key:"onChange",value:function(e,t,n,a){var r=this,i=e.values,o=this.state.validatedInputs,s=i.transaction;Object.keys(s).forEach((function(e){var t=s[e];if(t.account_number){t.account_number=t.account_number.replace(/[^0-9]/g,"");var n=t.account_number;n&&n.length>=12&&!o[n]&&(o[n]="PHP",r.setState({validatedInputs:o}),X.a.post("/branch-appointments/currency",{account_number:n},{noError:!0}).then((function(e){t.currency=e.data.currency;var i=r.state.validatedInputs;i[n]=t.currency,r.setState({validatedInputs:i},(function(){a.setValue("account_number",a.getValue("account_number"))}))})))}}))}},{key:"getExistingAppointments",value:function(){var e=this.props.setAppointmentDates;X.a.get("/branch-appointments/upcoming-week").then((function(t){e(t.data)}))}},{key:"setExistingAppointment",value:function(){var e=this,t=this.props,n=t.loadingOpen,a=t.loadingDismiss,r=t.appointmentDates,i=t.form,o=t.editAppointment,s=Le()(i.values.date).format("YYYY-MM-DD"),l=x()(r,{date:s}).id;n(),X.a.get("/branch-appointments/".concat(l)).then((function(t){o(t.data),e.defaultValues(),a()})).catch((function(){a()}))}},{key:"getWeekEnds",value:function(){for(var e=Le()(),t=Le()().add(1,"year"),n=[];e<t;){var a=e.isoWeekday();6===a&&n.push(Le()(e)),7===a?(n.push(Le()(e)),e.add(6,"day")):e.add(1,"day")}return n}},{key:"defaultValues",value:function(){var e=this.props,t=e.currentAppointment,n=e.cashDeposit,a=e.cashWithdraw,r=e.checkDeposit,i=t.date,o=t.branch,s={},l={};n.forEach((function(e){s["id_".concat(e.id)]=e})),a.forEach((function(e){s["id_".concat(e.id)]=e})),r.forEach((function(e){s["id_".concat(e.id)]=e})),l.date=Le()(i).format(Object(Ne.h)()),l.transaction=s,l.branchName=o?o.name:"",this._form&&this._form.setAllValues(xh()(l),!0)}},{key:"saveState",value:function(e){this.props.saveForm(xh()(e))}},{key:"loadState",value:function(){return this.props.form}},{key:"validate",value:function(e){var t=this,n={transaction:{}},a=e.date,r=e.transaction,i=e.branchName,o=this.props,s=o.fromEdit,l=o.transactionsLength,c=o.currentAppointment,u=o.appointmentDates,d=c.cash_transactions,p=c.check_deposit_transactions,h=[];if(a)if(Le()(a).startOf("day").unix()<Le()().startOf("day").unix())n.date="Invalid date";else{a=Le()(a).format("YYYY-MM-DD");var m=x()(u,{date:a});m&&m.id!==c.id&&(m.status===Mh.h.NEW?n.date="An existing visit already exist on this date. Please select another date or edit the existing.":n.date="An existing visit already exist on this date. Please book a new one on a different date.")}else n.date="Date is required";if(i||(n.branchName="Branch is required"),d.length>0&&(r?d.forEach((function(e){var a="id_".concat(e.id),i=r[a];i&&(n.transaction=t.validateCashTransaction(a,i,n.transaction),h.push(i))})):n.global="Transaction details are required"),p.length>0&&(r?p.forEach((function(e){var a="id_".concat(e.id),i=r[a];i&&(n.transaction=t.validateCheckTransaction(a,i,n.transaction),h.push(i))})):n.global="Transaction details are required"),l===h.length&&0!==l||(n.global="Transaction details are required"),Object.keys(n).length<2&&0===Object.keys(n.transaction).length&&!s){var f=this.getTransformedVisit(e);Rn()(f,this.state.initialValues)&&(n.noChange=!0)}return n}},{key:"getInitialVisit",value:function(e){var t=e.cash_transactions,n=e.check_deposit_transactions,a=e.date,r=e.branch,i={};return i.date=a,i.sol_id=r&&r.sol_id,i.cash_transactions=[],i.check_deposit_transactions=[],t.forEach((function(e){i.cash_transactions.push({account_number:e.account_number,amount:e.amount,type:e.type})})),n.forEach((function(e){i.check_deposit_transactions.push({account_number:e.account_number,amount:e.amount,check_number:e.check_number,ubp:e.ubp})})),i}},{key:"getTransformedVisit",value:function(e){var t=this.props.currentAppointment,n={},a=t.cash_transactions,r=t.check_deposit_transactions,i=t.branch;return n.sol_id=i&&i.sol_id,n.date=Le()(e.date).format("YYYY-MM-DD"),n.cash_transactions=[],n.check_deposit_transactions=[],a.forEach((function(t){var a=e.transaction["id_".concat(t.id)];a&&n.cash_transactions.push({account_number:a.account_number,amount:a.amount,type:t.type})})),r.forEach((function(t){var a=e.transaction["id_".concat(t.id)];a&&n.check_deposit_transactions.push({account_number:a.account_number,amount:a.amount,check_number:a.check_number,ubp:a.ubp})})),n}},{key:"preValidate",value:function(e){var t=e.transaction,n=this.state.validatedInputs;return Object.keys(t).forEach((function(e){var a=t[e];if(a.check_number&&(a.check_number=a.check_number.replace(/[^0-9]/g,"")),a.account_number){a.account_number=a.account_number.replace(/[^0-9]/g,"");var r=a.account_number;if(r.length>=12){var i=n[r];i&&(a.currency=i)}}if(a.amount){var o=Object(Vr.d)(a.amount);o.length>Mh.f&&(o=Fh()(o.substr(0,Mh.f),[","])),a.amount=o}})),e}},{key:"validateCashTransaction",value:function(e,t,n){var a=n;if(t){var i={},o=t.account_number,s=t.amount,l=la()(s).value(),c=la()(Mh.e).format("0,0.00");o?o.length<12&&(i.account_number="Invalid account number"):i.account_number="Account number is required",s?s&&(Number.isNaN(parseFloat(s))||parseFloat(s)<=0)?i.amount="Invalid amount":l>Mh.e&&(i.amount="Target Amount must not exceed ".concat(c)):i.amount="Amount is required",Object.keys(i).length>0&&(a=Vh({},n,r()({},e,i)))}return a}},{key:"validateCheckTransaction",value:function(e,t,n){var a=n;if(t){var i={},o=t.check_number,s=t.account_number,l=t.amount,c=la()(l).value(),u=la()(Mh.e).format("0,0.00");o||(i.check_number="Check number is required"),s?s.length<12&&(i.account_number="Invalid account number"):i.account_number="Account number is required",l?l&&(Number.isNaN(parseFloat(l))||parseFloat(l)<=0)?i.amount="Invalid amount":c>Mh.e&&(i.amount="Target Amount must not exceed ".concat(u)):i.amount="Amount is required",Object.keys(i).length>0&&(a=Vh({},n,r()({},e,i)))}return a}},{key:"addLines",value:function(e){this.props.addTransaction(e)}},{key:"removeAll",value:function(e){this.setState({transactionTypeToCancel:e}),this.props.openConfirmModal("transactionCancel","Cancel Transaction","Do you wish to cancel this transaction?")}},{key:"removeLine",value:function(e,t){this.props.removeTransaction(e,t)}},{key:"addTransaction",value:function(){this.props.setSidebar("transaction")}},{key:"cancel",value:function(){var e=this.props,t=e.history,n=e.match;t.replace(n.url.replace("/process","/review"))}},{key:"selectBranch",value:function(){this.props.setSidebar("branch")}},{key:"render",value:function(){var e=this,t=this.props,n=t.cashDeposit,a=t.cashWithdraw,r=t.checkDeposit,i=t.transactionOrder,o=t.fromEdit;return E.a.createElement(C.a,{title:"Branch Visit",subtitle:"Visit Details"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement(Id.Form,{onSubmit:this.onSubmit,onChange:this.onChange,preValidate:this.preValidate,validate:this.validate,loadState:this.loadState,saveState:this.saveState,ref:function(t){e._form=t}},(function(t){var s=t.errors,l=t.submitForm,c=t.values;return E.a.createElement("form",{onSubmit:l},E.a.createElement(L.a,{title:"Book Visit",actions:E.a.createElement("div",null,E.a.createElement(F.a,{size:"sm",type:"button",onClick:e.addTransaction},"Add Transaction"))},E.a.createElement("div",{className:"card p-3 mb-3"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Fd.a,{name:"branchName",type:"text",showLabel:!0,label:"Branch",placeholder:"Select Branch",readOnly:!0,posticon:E.a.createElement("a",{role:"presentation",onClick:e.selectBranch},E.a.createElement(Lh.a,null)),onFocus:e.selectBranch})),E.a.createElement("div",{className:"col-12 col-md-6"},E.a.createElement(Fd.a,{showLabel:!0,label:"Date",placeholder:"Select  ",name:"date",type:"date",dateProps:{excludeDates:ci()(e.getWeekEnds()),minDate:Le()(),maxDate:Le()().add(13,"day"),ref:function(t){e._date=t}}}))))),E.a.createElement("div",{className:"branch-banking",style:{display:"flex",width:"100%",flexDirection:"column"}},n&&n.length>0&&E.a.createElement("div",{className:"mb-3",style:{order:lo()(i,Mh.l)}},E.a.createElement(Rh.a,mr()({title:"Cash Deposit",items:n,values:c,removeAll:e.removeAll,onRemove:e.removeLine,onAdd:e.addLines},Mh.l))),r&&r.length>0&&E.a.createElement("div",{className:"mb-3",style:{order:lo()(i,Mh.n)}},E.a.createElement(Rh.a,mr()({title:"Check Deposit",items:r,values:c,removeAll:e.removeAll,onRemove:e.removeLine,onAdd:e.addLines},Mh.n))),a&&a.length>0&&E.a.createElement("div",{className:"mb-3",style:{order:lo()(i,Mh.m)}},E.a.createElement(Rh.a,mr()({title:"Cash Withdrawal",items:a,values:c,removeAll:e.removeAll,onRemove:e.removeLine,onAdd:e.addLines},Mh.m)))),E.a.createElement(Qe.a,{className:"mt-5"},o?E.a.createElement(F.a,{width:"wide",onClick:e.cancel},"Back"):E.a.createElement("div",null),E.a.createElement(F.a,{width:"wide",color:"primary",type:"submit",disabled:!!s},o?"Update":"Next")))})))))}}]),t}(b.Component),zh=Object(w.c)((function(e){var t=e.branch,n=e.page,a=e.product,r=t.currentAppointment,i=r.cash_transactions,o=r.check_deposit_transactions,s=i.length+o.length,l=[],c=[],u=o||[],d=a.products;return d=M()(d,{debit:!0,credit:!0}),i&&(l=i.filter((function(e){return e.type===Mh.k.DEPOSIT}))),i&&(c=i.filter((function(e){return e.type===Mh.k.WITHDRAWAL}))),Vh({},n,{},t,{transactionsItems:[],transactionsLength:s,cashDeposit:l,cashWithdraw:c,checkDeposit:u,products:d})}),(function(e){return Vh({},Object(_.b)({addTransaction:Dh.a,removeTransaction:Dh.f,removeTransactionByType:Dh.g,saveTransaction:Dh.j,saveForm:Dh.h,setSidebar:Dh.t,setLoading:Dh.q,setAppointmentDates:Dh.k,editAppointment:Dh.d,openConfirmModal:ee.o,resetConfirmModal:ee.s,loadingOpen:ee.i,loadingDismiss:ee.h},e))}))(qh),Uh=n(2137),Hh=n(2106),Gh=n(2107),Yh=n(2108),Wh=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){return E.a.createElement(C.a,{title:"Branch Visit"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5 my-5"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-12 col-md-8 col-lg-12 col-xl-8 mb-sm-3"},E.a.createElement(Uh.a,null)),E.a.createElement("div",{className:"col-12 col-md-4 col-lg-12 col-xl-4"},E.a.createElement(Hh.a,null),E.a.createElement(Gh.a,null),E.a.createElement(Yh.a,null))))))}}]),t}(E.a.Component),Xh=n(2109),Kh=n(2110);function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Zh=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products,n=e.productFetch;0===t.length&&n()}},{key:"componentWillUnmount",value:function(){this.props.clearAppointment()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(Ph.a,{className:"branch-banking"},E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,path:"".concat(e.url),component:Wh}),E.a.createElement(P.b,{path:"".concat(e.url,"/process"),component:zh}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:jh})),E.a.createElement(Xh.a,null),E.a.createElement(Kh.a,null))}}]),t}(E.a.Component);var Qh=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.branch,{products:e.product.products})}),(function(e){return Object(_.b)({clearAppointment:Dh.b,productFetch:J.b},e)}))(Zh),Jh=la()(999999999).format("0,0.00").length,em=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,n=e.availableCashback,a=e.history;t&&n||a.replace("/dashboard")}},{key:"handleSubmitForm",value:function(e){var t=this.props,n=t.history;(0,t.setLoyaltyRedeemAmount)(e.amount),n.push("cashback/review")}},{key:"handleCancel",value:function(){var e=this.props.history;Object(re.i)(0),e.push("/dashboard")}},{key:"preValidate",value:function(e){return Object(Vr.d)(e)}},{key:"validate",value:function(e,t,n){var a=null,r=this.props.availableCashback,i=Object(Vr.a)(t);return i&&0!==i.length?t<100?a="Minimum redemption amount is PHP 100":i&&Number.isNaN(i)?a="Minimum redemption amount is PHP 100":i>r?a="The amount you entered is greater than your available CashBack":(i>99&&i%100!=0||i<100)&&(a="Please enter an amount in increments of Php 100"):a="Minimum redemption amount is PHP 100",a?n(a):n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.redeemAmount,a=t.availableCashback,r=t.product;return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Redeem CashBack"},E.a.createElement(Je.b,{onSubmit:this.handleSubmitForm,preValidate:this.preValidate,validate:this.validate,onChange:this.onChange,formContent:function(t,i){return E.a.createElement("div",null,E.a.createElement("div",{className:"card mb-3"},E.a.createElement("div",{className:"card-body p-4"},E.a.createElement("div",{className:"my-2"},E.a.createElement("small",{style:{whiteSpace:"pre"}},"Available CashBack"),E.a.createElement("h5",null,E.a.createElement("strong",null,"PHP ",a&&Object(Vr.d)(a))),E.a.createElement("p",null,"Please enter the amount you want to redeem. You can only redeem in increments of 100s.")),E.a.createElement(Ke.a,null,E.a.createElement(Je.a,{name:"amount",maxLength:Jh,form:t,hideLimit:!0,options:{initialValue:n||"",normalize:e.preValidate,rules:[{required:!0,message:"Amount is required"},{validator:e.validate}]}},E.a.createElement(Ye.a,{name:"amount",label:"0*",autoComplete:"off",prefix:E.a.createElement(Br.a,null,"PHP"),placeholder:"0*"}))),"Credit to:",E.a.createElement(Be.a,{item:r}))),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,null,E.a.createElement(He.a,{className:"w-wide",onClick:e.handleCancel},"Cancel"),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:i},"Next"))))}})))))}}]),t}(E.a.Component),tm=Object(w.c)((function(e){var t=e.loyalty;return{redeemAmount:t.redeemAmount,product:t.product,availableCashback:t.availableCashback,remainingCashback:t.remainingCashback}}),(function(e){return Object(_.b)({setLoyaltyRedeemAmount:re.i},e)}))(Object(P.g)(em));function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rm=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,n=e.history;t||n.replace("/dashboard")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetConfirmModal,a=t.history,r=t.successModal,i=t.confirmModal,o=t.setLoyaltyRedeemAmount;"LOYALTY_CONFIRMATION_CANCEL_KEY"===i.key&&i.state&&!e.confirmModal.state&&(this.cancelRedeem(),n()),"LOYALTY_CONFIRMATION_REDEEM_CASHBACK_KEY"===i.key&&i.state&&!e.confirmModal.state&&this.submitRedemption(),!r.message&&e.successModal.message&&(a.replace("/dashboard"),o(0))}},{key:"handleOnFormSubmit",value:function(){var e=this.props,t=e.openConfirmModal,n=e.redeemAmount,a=Object(Vr.d)(n);t("LOYALTY_CONFIRMATION_REDEEM_CASHBACK_KEY","Confirm Redemption","Kindly review your redemption request before submission.","Redeem PHP ".concat(a),"Cancel")}},{key:"handleCancelRedeem",value:function(){(0,this.props.openConfirmModal)("LOYALTY_CONFIRMATION_CANCEL_KEY","Hang On","Do you wish to cancel this redemption?","Cancel Redemption")}},{key:"cancelRedeem",value:function(){var e=this.props,t=e.history,n=e.setLoyaltyRedeemProduct,a=e.setLoyaltyRedeemAmount;n(null),a(0),t.replace("/")}},{key:"submitRedemption",value:function(){var e=this.props,t=e.redeemAmount,n=e.product,a=e.loadingDismiss,r=e.loadingOpen,i=e.setSuccessMessage,o=e.resetConfirmModal,s=n.id;o(),r(),X.a.post("loyalty/cashback",{product_id:s,points:Object(Vr.a)(t)}).then((function(e){var t=e.data,n=t.message,r=t.description;a(),i(n,r,null,"Back to Dashboard")})).catch((function(){a()}))}},{key:"handleEditRedeemAmount",value:function(){this.props.history.replace("/loyalty/redeem/cashback")}},{key:"render",value:function(){var e=this.props,t=e.redeemAmount,n=e.availableCashback,a=e.product;if(!a)return null;var r=a.product_number,i=a.account_name,o=a.product_name,s=a.alias,l=n-Object(Vr.a)(t);return E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Review and Redeem"},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"transaction-review list-group list-group-flush "},E.a.createElement(wa.a,{name:"amount",label:"CashBack to Redeem",editable:!0,onEdit:this.handleEditRedeemAmount},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},t)),E.a.createElement(wa.a,{name:"Account",label:"Credit to"},E.a.createElement(pi.a,{number:r,description:o,masked:!0,toggleable:!0},E.a.createElement("div",{className:"d-flex flex-column"},s||i))),E.a.createElement(wa.a,{name:"Remaining CashBack",label:E.a.createElement("div",null,"Remaining CashBack",E.a.createElement("br",null)," Balance")},E.a.createElement(_a.a,{noDecimal:!0,currency:"PHP"},l))),E.a.createElement("p",{className:"m-4"},"Your Redeemed CashBack will be reflected on your next statement of account.")),E.a.createElement("div",{className:"my-5"},E.a.createElement(Qe.a,{className:"mt-3"},E.a.createElement(He.a,{className:"w-wide",type:"reset",onClick:this.handleCancelRedeem},"Cancel"),E.a.createElement(He.a,{className:"w-wide",type:"primary",onClick:this.handleOnFormSubmit},"Redeem PHP ".concat(t))))))))}}]),t}(E.a.Component),im=Object(w.c)((function(e){var t=e.loyalty,n=e.settings,a=e.page;return am({redeemAmount:t.redeemAmount,availableCashback:t.availableCashback,product:t.product,profile:n.profile},a)}),(function(e){return am({},Object(_.b)({setSuccessMessage:ee.H,loadingDismiss:ee.h,loadingOpen:ee.i,setLoyaltyRedeemProduct:re.l,setLoyaltyRedeemAmount:re.i,openConfirmModal:ee.o,resetConfirmModal:ee.s,clearSuccessMessage:ee.b,setError:ee.y},e))}))(Object(P.g)(rm)),om=n(688),sm=n.n(om),lm=n(689),cm=n.n(lm),um=n(2136),dm=n(2126),pm=n(2111);function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var mm={position:"sticky",top:"40px",zIndex:"4"},fm={backgroundColor:"#f2f5f6",position:"relative",overflowX:"auto"},ym=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={selectedCategory:null,errorLoading:!1},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setOpenRedeemAddToCartSidebar,n=e.setOpenRedeemItemsSidebar,a=e.history;e.product||a.push("/"),t(!1),n(!1),this.getLoyaltyMerchantsAndCategories()}},{key:"getLoyaltyMerchantsAndCategories",value:function(){var e=this,t=this.props,n=t.setLoyaltyProductCategories,a=t.setLoyaltyMerchants,r=t.product;a(null),this.setState({errorLoading:!1}),X.a.post("/loyalty/catalog",{product_id:r.id}).then((function(e){var t=e.data,r=t.categories,i=t.merchants;n(r),a(i)})).catch((function(){e.setState({errorLoading:!0})}))}},{key:"selectCategory",value:function(e){this.setState({selectedCategory:e})}},{key:"handleMerchantCardClick",value:function(e,t){t.preventDefault();var n=this.props,a=n.setOpenRedeemItemsSidebar,r=n.setSelectedMerchant,i=n.setSelectedMerchantProducts,o=n.setOpenRedeemAddToCartSidebar,s=n.setError,l=n.product;o(!1),a(!1),e&&(a(!0),r(e),i(null),X.a.post("loyalty/catalog/".concat(e.id),{product_id:l.id},{noError:!0}).then((function(e){var t=e.data;i(t)})).catch((function(){s("An error was encountered while retrieving the merchant's products."),a(!1)})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedCategory,a=t.errorLoading,r=this.props,i=r.loyaltyProductsCategories,o=r.availablePoints,s=r.loyaltyMerchants,l=null;return s&&(l=s.filter((function(e){return null===n||e.category===n}))),E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Redeem Rewards",stickyHeader:!0,actions:E.a.createElement("div",{className:"mb-2"},E.a.createElement("div",{className:"d-flex justify-content-end"},E.a.createElement("strong",{className:"m-3"},E.a.createElement(wd.a,{className:"mt-2",value:o||0}))))},a&&E.a.createElement("div",{className:"text-center"},E.a.createElement("img",{src:lp.a,alt:"",height:"200"}),E.a.createElement("p",{className:"py-3 mt-4 px-5"},"An error was encountered while loading the Merchants."),E.a.createElement(F.a,{size:"sm",width:"auto",color:"primary",onClick:this.getLoyaltyMerchantsAndCategories.bind(this)},"Retry")),!s&&!a&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),s&&!a&&E.a.createElement("div",{style:mm},E.a.createElement("div",{className:"d-flex pt-3 pb-2",style:fm},E.a.createElement("div",{className:"mr-3 mb-3"},E.a.createElement(F.a,{size:"sm",width:"auto",color:n?null:"primary",onClick:this.selectCategory.bind(this,null)},"All")),i.map((function(t){return E.a.createElement("div",{className:"mb-3 mr-3",key:t},E.a.createElement(F.a,{size:"sm",width:"auto",color:n===t?"primary":null,onClick:e.selectCategory.bind(e,t)},t))})))),l&&!a&&E.a.createElement(sm.a,{justify:"start"},l.map((function(t,n){return E.a.createElement(cm.a,{xs:12,sm:8,md:8,lg:6,xl:6,xxl:4,key:"".concat(n,"_").concat(t.id,"_").concat(t.name),className:"px-2 mb-2"},E.a.createElement(Od.a,{to:"/",onClick:e.handleMerchantCardClick.bind(e,t),className:"d-block my-3"},E.a.createElement(pm.a,{merchant:t})))})))))),E.a.createElement(um.a,null),E.a.createElement(dm.a,null))}}]),t}(E.a.Component),gm=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.loyalty)}),(function(e){return Object(_.b)({setOpenRedeemItemsSidebar:re.q,setSelectedMerchant:re.u,setSelectedMerchantProducts:re.v,setOpenRedeemAddToCartSidebar:re.p,setLoyaltyProductCategories:re.h,setLoyaltyMerchants:re.g,setError:ee.y},e)}))(Object(P.g)(ym)),vm=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return[E.a.createElement(P.d,null,E.a.createElement(P.b,{exact:!0,component:tm,path:"".concat(e,"/cashback")}),E.a.createElement(P.b,{exact:!0,component:im,path:"".concat(e,"/cashback/review")}),E.a.createElement(P.b,{exact:!0,component:gm,path:"".concat(e,"/items")}))]}}]),t}(E.a.Component),bm=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return[E.a.createElement(C.a,{title:"Rewards"},E.a.createElement(P.b,{path:"".concat(e,"/redeem"),component:vm}))]}}]),t}(E.a.Component),Em=(n(1767),n(2130)),Om=n(2124),km=(n(1225),n(1274)),wm=n.n(km),_m=n(1508),Pm=n.n(_m),Sm=n(1509);function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dm=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={voucherList:null,allVouchers:null,active:"available",loading:!0,error:!1,voucherToDelete:null},k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.voucherToggleStatus,n=e.history;t&&1===t||n.replace("/"),this.getVouchers()}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.confirmModal,r=n.reloadVoucherWallet,i=n.loadingOpen,o=n.loadingDismiss,s=this.state.voucherToDelete;"CONFIRM_DELETE_VOUCHER"===a.key&&a.state&&!e.confirmModal.state&&(i(),X.a.delete("/vouchers/".concat(s.voucher_code),{}).then((function(){o(),t.getVouchers(),t.setState({active:"available"})})).catch((function(){return o()}))),r&&!e.reloadVoucherWallet&&this.getVouchers()}},{key:"getVouchers",value:function(){var e=this,t=this.props,n=t.setRewards,a=t.reloadVouchers;n(null),this.setState({loading:!0,voucherList:null}),X.a.get("/vouchers").then((function(t){var r=t.data;e.setState({allVouchers:r});var i=r.map((function(e){return Cm({merchant_product:e.merchant_name+"_"+e.product_name+"_"+e.status},e,{logo:"GMOVIES"===e.source.toUpperCase()?wm.a:"ISTUDIO"===e.source.toUpperCase()?Pm.a:e.logo,date_used:e.date_redeemed||e.date_expiry})})),o=ji()(i,"merchant_product"),s=[];Object.keys(o).map((function(e,t){if(0===o[e][0].status){var n=Bt()(o[e],"date_expiry")[0];s.push(Cm({},n,{quantity:o[e].length}))}else s.push.apply(s,ci()(o[e]))})),n(s),e.setState({voucherList:Bt()(M()(s,{status:0}),"date_received").reverse(),loading:!1,error:!1}),a(!1)})).catch((function(){return e.setState({error:!0,loading:!1})}))}},{key:"setActiveList",value:function(e){var t=this.props.rewards,n=M()(t,(function(t){return"available"===e?0===t.status:0!==t.status}));this.setState({active:e,voucherList:Bt()(n,"available"===e?"date_received":"date_used").reverse()})}},{key:"handleDeleteVoucher",value:function(e){var t=this.props.openConfirmModal;this.setState({voucherToDelete:e}),t("CONFIRM_DELETE_VOUCHER","Hang On","Are you sure you want to delete this voucher?","Delete","Cancel")}},{key:"render",value:function(){var e=this,t=this.state,n=t.allVouchers,a=t.active,r=t.voucherList,i=t.loading,o=t.error;return E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"My Vouchers"},E.a.createElement($e.a,null,!r&&i&&E.a.createElement("div",{className:"text-center"},E.a.createElement("i",{className:"loader fa fa-spinner fa-pulse"})),!i&&o&&!r&&E.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},E.a.createElement("img",{src:lp.a,alt:"",height:"300"}),E.a.createElement("p",{className:"my-3"},"Sorry, an error was encountered while loading your vouchers")),n&&n.length<=0&&E.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},E.a.createElement(Sm.a,{width:"300",height:"300",className:"my-5"}),E.a.createElement("p",{className:"my-3"},"Watch out for exciting promos when you use your UnionBank debit or credit cards!"),E.a.createElement("p",{className:"my-3"},"Visit our ",E.a.createElement("a",{target:"_blank",href:"https://www.unionbankph.com/cards/credit-card/discounts-and-promos",className:"text-primary"},"website")," to know more!")),!i&&!o&&n&&n.length>0&&E.a.createElement("div",{className:"pb-3"},E.a.createElement("ul",{className:"nav nav-tabs nav-fill rounded-top bg-transparent"},E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{className:"nav-link ".concat("available"===a?"active":""),onClick:this.setActiveList.bind(this,"available")},"Available")),E.a.createElement("li",{className:"nav-item"},E.a.createElement("a",{className:"nav-link ".concat("used"===a?"active":""),onClick:this.setActiveList.bind(this,"used")},"Used"))),E.a.createElement("div",{className:"content"},(!r||0===r.length)&&"available"===a&&E.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},E.a.createElement(Sm.a,null),E.a.createElement("p",{className:"my-3"},"You don't have any more available vouchers. Continue using your UnionBank debit or credit cards for more exciting promos!")),(!r||0===r.length)&&"used"===a&&E.a.createElement("div",{className:"text-center py-3 px-3 mt-3"},E.a.createElement(Sm.a,null),E.a.createElement("p",{className:"my-3"},"It looks like you haven't used your vouchers yet. Don't forget to claim your vouchers and enjoy your reward!")),r&&r.length>0&&r.map((function(t,n){return E.a.createElement("div",{className:"my-4",key:"voucher_".concat(n,"_").concat(t.voucher_id,"_").concat(t.product_name)},E.a.createElement(Em.a,{voucher:t,onDelete:e.handleDeleteVoucher}))}))))))),E.a.createElement(Om.a,null))}}]),t}(E.a.Component),Mm=Object(w.c)((function(e){var t=e.playEveryday,n=e.page,a=n.featureToggleRules,r=x()(a,{name:"VOUCHER_WALLET"}),i=null;return r&&(i=r.status),Cm({voucherToggleStatus:i},n,{},t)}),(function(e){return Object(_.b)({setRewards:$.P,openConfirmModal:ee.o,resetConfirmModal:ee.s,loadingOpen:ee.i,loadingDismiss:ee.h,reloadVouchers:$.r},e)}))(Object(P.g)(Dm)),Tm=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match.url;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"Voucher Wallet"},E.a.createElement(P.b,{path:"".concat(e,"/"),component:Mm})))}}]),t}(E.a.Component),Am=n(1588);function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Im=function(e){function t(e){var n,a=e.redeem;return l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n)),n.state={minimumMaintaining:a.minimumMaintaining||0,maximumRedeemedUnits:999999999,isLoading:!0},n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.uitfProduct,a=t.loadingOpen,r=t.loadingDismiss,i=t.updateRedeemData;void 0===t.redeem.minimumMaintaining&&(a(),X.a.get("/uitf/products/".concat(n.product_code)).then((function(t){var n=yr()(t,"data.minimum_maintaining_participation")||0;r(),e.setState({isLoading:!1,minimumMaintaining:n}),i({minimumMaintaining:n})})).catch((function(t){e.setState({isLoading:!1}),r()})))}},{key:"getNavpu",value:function(){var e=this.props.uitfProduct;return x()(yr()(e,"balances"),{name:"NAVPU"})}},{key:"getUnits",value:function(){var e=this.props.uitfProduct;return x()(yr()(e,"balances"),{name:"Outstanding Units"})}},{key:"getProduct",value:function(e){var t=this.props.products;return x()(t,{product_number:e})}},{key:"getDefaultValues",value:function(e){var t=this.props,n=t.redeem,a=t.products,r=t.uitfProduct,i=jm({},n);if(!n.target){var o=M()(a,{credit:!0,currency:r.currency});1===o.length&&(i.target=yr()(o,"[0].product_number"))}return e?yr()(i,e,null):i}},{key:"onDiscard",value:function(){var e=this.props;(0,e.setRedeemData)(e.redeem)}},{key:"onSubmit",value:function(e){var t=this.props,n=t.setRedeemData,a=t.uitfProduct,r=t.openAlertModal,i=t.redeem,o=jm({},i,{},e,{currency:"UNITS",targetProduct:this.getProduct(e.target),sourceProduct:a});Object(Vr.a)(a.balance)-Object(Vr.a)(e.amount)<Object(Vr.a)(i.minimumMaintaining)?r(E.a.createElement(E.a.Fragment,null,E.a.createElement("p",null,"Your request may not proccessed because your UITF account will be bellow the required minimum maintaining balance of",a.currency," ",Object(Vr.d)(minimumMaintaining),"."),E.a.createElement("p",null,"You are required to redeem all of your units if your order will go beyond the minimum maintaining balance after redemption"))):n(o)}},{key:"onFormChange",value:function(e,t,n){var a=Object.keys(e);if(1===a.length&&"units"===a[0]){var r=this.getNavpu(),i=e.units?parseFloat(e.units.replace(/[^0-9.]/g,"")):0,o=Object(Vr.d)(i*parseFloat(r.amount));n.setFieldsValue({amount:o})}}},{key:"formContent",value:function(e,t){var n=this.props,a=n.uitfProduct,r=n.subscribe,i=this.state.maximumRedeemedUnits,o=this.getUnits(),s=this.getNavpu();return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-5"},E.a.createElement(L.a,null,o&&E.a.createElement("div",{className:"py-3"},E.a.createElement("div",null,"Available Units"),E.a.createElement("div",{style:{fontSize:"1.5em"}},o.currency," ",o.amount)),s&&E.a.createElement("div",{className:"py-3"},E.a.createElement("div",null,s.name," ",s.subtext),E.a.createElement("div",{style:{fontSize:"1.5em"}},s.currency," ",s.amount)),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"units",label:"Units",maxLength:20,hideLimit:!0,options:{initialValue:this.getDefaultValues("units"),normalize:function(e){return e?Object(Vr.d)(e,6):""},rules:[{validator:function(e,t,n){var a=Object(Vr.a)(t);t?a<=0?n("Invalid Units."):o.amount&&a>parseFloat(o.amount.replace(/[^0-9.]/g,""))?n("Requested units is greater than your available units."):a>i?n("Requested units exceeds limit of ".concat(Object(Vr.d)(i,6)," Units.")):n():n("Units is required.")}}]}},E.a.createElement(Ye.a,{placeholder:"0.00"}))),E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"amount",label:"Estimated Amount",options:{initialValue:this.getDefaultValues("amount")}},E.a.createElement(Ye.a,{placeholder:"0",disabled:!0,prefix:E.a.createElement(Br.a,null,a.currency)})))),E.a.createElement("p",null,"The displayed NAVPU is for reference only. Actual NAVPU of the transaction is based on the end of the day value.")),E.a.createElement(L.a,{title:"Redeem To"},E.a.createElement(Je.a,{form:e,name:"target",type:"account",placeholder:"Click to select account",filters:["credit",function(e){return a.currency===e.currency}],options:{initialValue:this.getDefaultValues("target"),rules:[{required:!0,message:"Target account is required"}]}}))),E.a.createElement(Qe.a,{className:"my-5"},r.amount?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},r.amount?"Update":"Next")))}},{key:"render",value:function(){this.props.match;var e=this.getNavpu();return E.a.createElement(C.a,{title:"Redemption Details"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Redemption Details"},e&&E.a.createElement(Je.b,{onSubmit:this.onSubmit,onChange:this.onFormChange,formContent:this.formContent}),!e&&this.state.isLoading&&E.a.createElement($e.a,{className:"mb-5"},E.a.createElement(Xi.a,{className:"display-4 p-5"})))))))}}]),t}(E.a.Component),Fm=Object(w.c)((function(e){return jm({},e.uitf,{},e.product)}),(function(e){return Object(_.b)({setProductData:Am.b,setRedeemData:Am.d,updateRedeemData:Am.j,loadingOpen:ee.i,loadingDismiss:ee.h,openAlertModal:ee.n},e)}))(Im),Rm=(n(1572),n(1649)),Lm=n(1223);function Bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bm(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qm=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.resetConfirmModal,r=t.confirmModal,i=t.successModal,o=t.clearSuccessMessage,s=t.uitfClearData,l=t.otp,c=t.otpClear;"REDEEM_CANCEL"===r.key&&r.state&&(a(),n.replace("/dashboard")),"go to dashboard"===i.status&&(o(),s(),n.replace("/dashboard")),"REDEEM_OTP"===l.key&&l.status&&!e.otp.status&&(this.onSubmit({"X-Grant-Token":yr()(l,"response.token",null)}),c())}},{key:"showTerms",value:function(e){e.stopPropagation(),(0,this.props.openAlertModal)(E.a.createElement(Rm.a,null),{title:"Terms and Conditions"})}},{key:"getNavpu",value:function(){var e=this.props.uitfProduct;return x()(yr()(e,"balances"),{name:"NAVPU"})}},{key:"onDiscard",value:function(){(0,this.props.openConfirmModal)("REDEEM_CANCEL","Hang On","Do you wish to cancel this Redemption?","Cancel Redemption")}},{key:"onSubmit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.redeem,a=t.setSuccessModal,r=t.loadingOpen,i=t.loadingDismiss,o=t.setOtp,s=(t.otp,n.targetProduct),l=n.sourceProduct,c={source:{number:l.product_number,type:l.product_name,name:l.alias||l.account_name},target:{number:s.product_number,type:s.product_name,name:s.alias||s.account_name},amount:la()(n.units).format("0.000000"),currency:n.currency};r(),X.a.post("uitf/redemptions",c,e).then((function(e){var t=e.data,n=e.status;i(),202===n?o(Vm({key:"REDEEM_OTP",verifyUrl:"/otp/".concat(t.id,"/grant")},t)):a({title:"Thank you for your request!",message:t.message,closeButton:"go to dashboard",image:E.a.createElement(Lm.a,null)})})).catch((function(e){i()}))}},{key:"onEdit",value:function(){this.props.setRedeemStep("edit")}},{key:"render",value:function(){var e=this,t=this.props.redeem;return E.a.createElement(C.a,{title:"Review and Redeem"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Review and Redeem",actions:E.a.createElement(He.a,{size:"small",className:"w-auto px-4",onClick:this.onEdit},"Edit")},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush transaction-review"},E.a.createElement(wa.a,{label:"From UITF"},E.a.createElement(pi.a,{account:t.sourceProduct})),E.a.createElement(wa.a,{label:"To Account"},E.a.createElement(pi.a,{account:t.targetProduct})),E.a.createElement(wa.a,{label:"Units to Redeem"},Object(Vr.d)(t.units,6)),E.a.createElement(wa.a,{label:"Transaction Date"},Le()().calendar(null,{sameDay:"[Today]"})))),E.a.createElement(Je.b,{onSubmit:this.onSubmit,formContent:function(n,a){return E.a.createElement(E.a.Fragment,null,E.a.createElement("p",{className:"mt-5"},"Transaction ",E.a.createElement("strong",null,"after the 2.30 PM cut-off")," are processed ",E.a.createElement("strong",null,"the next banking day.")),E.a.createElement("div",null,E.a.createElement(Je.a,{form:n,name:"terms",hideErrors:!0,options:{rules:[{validator:function(e,t,n){t?n():n("Please accept the Terms and Conditions")}}]}},E.a.createElement(Bn.a,null,"I have read and agree to the  ",E.a.createElement(He.a,{type:"link",className:"p-0 color-primary",onClick:e.showTerms},"UnionBank UITF Terms and Conditions")))),E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement(He.a,{className:"w-wide",onClick:e.onDiscard},"Cancel"),E.a.createElement(He.a,{type:"primary",className:"w-wide",htmlType:"submit",disabled:a},"Redeem ".concat(Object(Vr.d)(t.units,6)," units"))))}}))))))}}]),t}(E.a.Component),zm=Object(w.c)((function(e){var t=e.uitf,n=e.product;return Vm({},e.page,{},t,{},n,{otp:e.otp})}),(function(e){return Object(_.b)({setProductData:Am.b,setRedeemData:Am.d,setRedeemStep:Am.e,openConfirmModal:ee.o,resetConfirmModal:ee.s,openAlertModal:ee.n,setSuccessModal:ee.I,clearSuccessMessage:ee.b,uitfClearData:Am.i,setOtp:te.b,otpClear:te.a,loadingOpen:ee.i,loadingDismiss:ee.h},e)}))(qm);function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Hm=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.uitfProduct,n=e.redeemStep,a=e.history,r=e.match,i="".concat(r.url,"/").concat(n);t.id?a.replace(i):a.replace("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.redeemStep,a=t.history,r=t.match,i=t.location;n!==e.redeemStep&&a.replace();var o="".concat(r.url,"/").concat(n);o!==i.pathname&&a.replace(o)}},{key:"componentWillUnmount",value:function(){this.props.uitfClearData()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(P.d,null,E.a.createElement(P.b,{path:"".concat(e.url,"/(edit|form)"),component:Fm}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:zm}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),Gm=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.uitf)}),(function(e){return Object(_.b)({uitfClearData:Am.i},e)}))(Hm);function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xm=function(e){function t(e){var n,a=e.subscribe;return l()(this,t),n=p()(this,m()(t).call(this)),k()(y()(n)),n.state={minimumLimit:a.minimumLimit||0,maximumLimit:999999999,isLoading:!0},n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.uitfProduct,a=t.loadingOpen,r=t.loadingDismiss,i=t.updateSubcribeData,o=t.subscribe;void 0===o.minimumLimit&&(a(),X.a.get("/uitf/products/".concat(n.product_code)).then((function(t){var n=yr()(t,"data.minimum_additional_participation")||0;r(),e.setState({isLoading:!1,minimumLimit:n}),i(Wm({},o,{minimumLimit:n}))})).catch((function(t){e.setState({isLoading:!1}),r()})))}},{key:"getNavpu",value:function(){var e=this.props.uitfProduct;return x()(yr()(e,"balances"),{name:"NAVPU"})}},{key:"getProduct",value:function(e){var t=this.props.products;return x()(t,{product_number:e})}},{key:"getDefaultValues",value:function(e){var t=this.props,n=t.subscribe,a=t.products,r=t.uitfProduct,i=Wm({},n);if(!n.source){var o=M()(a,{debit:!0,currency:r.currency});1===o.length&&(i.source=yr()(o,"[0].product_number"))}return e?yr()(i,e,null):i}},{key:"onDiscard",value:function(){var e=this.props;(0,e.setSubcribeData)(e.subscribe)}},{key:"onSubmit",value:function(e){var t=this.props,n=t.setSubcribeData,a=t.uitfProduct;n(Wm({},t.subscribe,{},e,{currency:a.currency,targetProduct:a,sourceProduct:this.getProduct(e.source)}))}},{key:"onFormChange",value:function(e,t,n){var a=Object.keys(e);if(1===a.length&&"amount"===a[0]){var r=this.getNavpu(),i=e.amount?Object(Vr.a)(e.amount.replace(/[^0-9.]/g,"")):0,o=Object(Vr.d)(i/parseFloat(r.amount),6);n.setFieldsValue({units:o})}}},{key:"formContent",value:function(e,t){var n=this.props,a=n.uitfProduct,r=n.subscribe,i=this.state,o=i.minimumLimit,s=i.maximumLimit,l=(i.productDetails,e.getFieldsValue()),c=this.getNavpu(),u=this.getProduct(l.source),d=a.currency;return E.a.createElement(E.a.Fragment,null,E.a.createElement($e.a,{className:"mb-5"},E.a.createElement(L.a,{title:"Subscription amount"},c&&E.a.createElement("div",{className:"py-3"},E.a.createElement("div",null,c.name," ",c.subtext),E.a.createElement("div",{style:{fontSize:"1.5em"}},c.currency," ",c.amount)),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"amount",label:"Amount",maxLength:16,hideLimit:!0,options:{initialValue:this.getDefaultValues("amount"),normalize:function(e){return e?Object(Vr.d)(e):""},rules:[{required:!0,message:"Amount is required."},{validator:function(e,t,n){var a=Object(Vr.a)(t);a<=0?n("Invalid Amount."):l.source&&u.balance&&a>parseFloat(u.balance)?n("Amount is greater than your current balance."):a<o?n("Amount should be at least ".concat(d," ").concat(la()(o).format("0,0.00"),".")):a>s?n("Amount exceeds limit of ".concat(d," ").concat(la()(s).format("0,0.00"),".")):n()}}]}},E.a.createElement(Ye.a,{placeholder:"0.00",prefix:E.a.createElement(Br.a,null,a.currency)}))),E.a.createElement("div",{className:"col col-12 col-lg-6"},E.a.createElement(Je.a,{form:e,name:"units",label:"Estimated Units",options:{initialValue:this.getDefaultValues("units")}},E.a.createElement(Ye.a,{placeholder:"0",disabled:!0})))),E.a.createElement("p",null,"The displayed NAVPU is for reference only. Actual NAVPU of the transaction is based on the end of the day value.")),E.a.createElement(L.a,{title:"Subcribe From"},E.a.createElement(Je.a,{form:e,name:"source",type:"account",placeholder:"Click to select account",filters:["debit",function(e){return a.currency===e.currency}],options:{initialValue:this.getDefaultValues("source"),rules:[{required:!0,message:"Source account is required"}]}}))),E.a.createElement(Qe.a,{className:"my-5"},r.amount?E.a.createElement(He.a,{className:"w-wide",htmlType:"reset",onClick:this.onDiscard},"Back"):E.a.createElement("div",null),E.a.createElement(He.a,{type:"primary",htmlType:"submit",className:"w-wide",disabled:t},r.amount?"Update":"Next")))}},{key:"render",value:function(){this.props.match;var e=this.getNavpu();return E.a.createElement(C.a,{title:"Subscription Details"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Subscription Details"},e&&E.a.createElement(Je.b,{onSubmit:this.onSubmit,onChange:this.onFormChange,formContent:this.formContent}),!e&&this.state.isLoading&&E.a.createElement($e.a,{className:"mb-5"},E.a.createElement(Xi.a,{className:"display-4 p-5"})))))))}}]),t}(E.a.Component),Km=Object(w.c)((function(e){return Wm({},e.uitf,{},e.product)}),(function(e){return Object(_.b)({setProductData:Am.b,setSubcribeData:Am.f,updateSubcribeData:Am.k,uitfClearData:Am.i,loadingOpen:ee.i,loadingDismiss:ee.h},e)}))(Xm);n(2112);function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qm=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.history,a=t.resetConfirmModal,r=t.confirmModal,i=t.successModal,o=t.clearSuccessMessage,s=t.uitfClearData,l=t.otpClear,c=t.otp;"SUBSCRIBE_CANCEL"===r.key&&r.state&&(a(),n.replace("/dashboard")),"CONFIRM_SUBMIT"===r.key&&r.state&&!e.confirmModal.state&&(a(),this.submit()),"go to dashboard"===i.status&&(o(),s(),n.replace("/dashboard")),"SUBSCRIBE_OTP"===c.key&&c.status&&!e.otp.status&&(this.submit({"X-Grant-Token":yr()(c,"response.token",null)}),l())}},{key:"showTerms",value:function(e){e.stopPropagation(),(0,this.props.openAlertModal)(E.a.createElement(Rm.a,null),{title:"Terms and Conditions"})}},{key:"submit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.subscribe,a=t.setSuccessModal,r=t.loadingOpen,i=t.loadingDismiss,o=t.setOtp,s=n.targetProduct,l=n.sourceProduct,c={source:{number:l.product_number,type:l.product_name,name:l.alias||l.account_name},target:{number:s.product_number,type:s.product_name,name:s.alias||s.account_name},amount:la()(n.amount).format("0[.]00"),currency:n.currency};r(),X.a.post("uitf/subscriptions",c,e).then((function(e){var t=e.data,n=e.status;i(),202===n?o(Zm({key:"SUBSCRIBE_OTP",verifyUrl:"/otp/".concat(t.id,"/grant")},t)):a({title:"Thank you for your request!",message:t.message,closeButton:"go to dashboard",image:E.a.createElement(Lm.a,null)})})).catch((function(e){i()}))}},{key:"getNavpu",value:function(){var e=this.props.uitfProduct;return x()(yr()(e,"balances"),{name:"NAVPU"})}},{key:"onDiscard",value:function(){(0,this.props.openConfirmModal)("SUBSCRIBE_CANCEL","Hang On","Do you wish to cancel this Subscription?","Cancel Subscription")}},{key:"onSubmit",value:function(e){this.submit()}},{key:"onEdit",value:function(){this.props.setSubcribeStep("edit")}},{key:"render",value:function(){var e=this,t=this.props.subscribe;return E.a.createElement(C.a,{title:"Review and Subscribe"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,{title:"Review and Subscribe",actions:E.a.createElement(He.a,{size:"small",className:"w-auto px-4",onClick:this.onEdit},"Edit")},E.a.createElement("div",{className:"card"},E.a.createElement("div",{className:"list-group list-group-flush transaction-review"},E.a.createElement(wa.a,{label:"From account"},E.a.createElement(pi.a,{account:t.sourceProduct})),E.a.createElement(wa.a,{label:"To UITF"},E.a.createElement(pi.a,{account:t.targetProduct})),E.a.createElement(wa.a,{label:"Subcription Amount"},E.a.createElement(_a.a,{currency:t.currency},t.amount)),E.a.createElement(wa.a,{label:"Transaction Date"},Le()().calendar(null,{sameDay:"[Today]"})))),E.a.createElement(Je.b,{onSubmit:this.submit,formContent:function(n,a){return E.a.createElement(E.a.Fragment,null,E.a.createElement("p",{className:"mt-5"},"Transaction ",E.a.createElement("strong",null,"after the 2.30 PM cut-off")," are processed ",E.a.createElement("strong",null,"the next banking day.")),E.a.createElement("div",null,E.a.createElement(Je.a,{form:n,name:"terms",hideErrors:!0,options:{rules:[{validator:function(e,t,n){t?n():n("Please accept the Terms and Conditions")}}]}},E.a.createElement(Bn.a,null,"I have read and agree to the  ",E.a.createElement(He.a,{type:"link",className:"p-0 color-primary",onClick:e.showTerms},"UnionBank UITF Terms and Conditions")))),E.a.createElement(Qe.a,{className:"my-5"},E.a.createElement(He.a,{className:"w-wide",onClick:e.onDiscard},"Cancel"),E.a.createElement(He.a,{type:"primary",className:"w-wide",htmlType:"submit",disabled:a},"Subscribe  ",E.a.createElement(_a.a,{currency:t.currency},t.amount))))}}))))))}}]),t}(E.a.Component),Jm=Object(w.c)((function(e){var t=e.uitf,n=e.product;return Zm({},e.page,{},t,{},n,{otp:e.otp})}),(function(e){return Object(_.b)({setProductData:Am.b,setSubcribeData:Am.f,setSubcribeStep:Am.g,uitfClearData:Am.i,openConfirmModal:ee.o,resetConfirmModal:ee.s,openAlertModal:ee.n,setSuccessModal:ee.I,clearSuccessMessage:ee.b,loadingOpen:ee.i,loadingDismiss:ee.h,setOtp:te.b,otpClear:te.a},e)}))(Qm);function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var tf=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.subscribeStep,n=e.history,a=e.match,r=e.uitfProduct,i="".concat(a.url,"/").concat(t);r.id?n.replace(i):n.replace("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.subscribeStep,a=t.history,r=t.match,i=t.location;n!==e.subscribeStep&&a.replace();var o="".concat(r.url,"/").concat(n);o!==i.pathname&&a.replace(o)}},{key:"componentWillUnmount",value:function(){this.props.uitfClearData()}},{key:"render",value:function(){var e=this.props.match;return E.a.createElement(P.d,null,E.a.createElement(P.b,{path:"".concat(e.url,"/(edit|form)"),component:Km}),E.a.createElement(P.b,{path:"".concat(e.url,"/review"),component:Jm}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),nf=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.uitf)}),(function(e){return Object(_.b)({uitfClearData:Am.i},e)}))(tf),af=n(1510),rf=n.n(af),of=n(2134);n(1803);function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var lf=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e.state={categories:[],selectedCategory:""},e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"loadProducts",value:function(){var e=this,t=this.props,n=t.setProductList,a=t.uitfProducts,r=t.setProductCategories;a.length>0||X.a.get("/uitf/products").then((function(t){var a=t.data,i=rf()(Rt()(a,(function(e){return e.category})));n(a),r(i),e.setState({categories:i})}))}},{key:"showShowDetails",value:function(e){this.props.setUitfProduct(e)}},{key:"filterProducts",value:function(e){this.setState({selectedCategory:e})}},{key:"renderFilterButton",value:function(){var e=this,t=this.props,n=(t.match,t.uitfProducts),a=this.state,r=a.categories,i=a.selectedCategory;return 0===n.length?null:E.a.createElement("div",{className:"overflow-auto text-center pb-5 px-1"},E.a.createElement("div",{style:{whiteSpace:"nowrap"}},E.a.createElement("div",{className:"mt-3 mr-3 d-inline-block"},E.a.createElement(He.a,{type:Rn()(i,"")?"primary":"default",onClick:this.filterProducts.bind(this,"")},"All")),r.map((function(t){return E.a.createElement("div",{key:t,className:"mt-3 mr-3 d-inline-block"},E.a.createElement(He.a,{type:Rn()(i,t)?"primary":"default",onClick:e.filterProducts.bind(e,t)},t))}))))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.match,t.uitfProducts),a=this.state.selectedCategory;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.a,{title:"UITF"},E.a.createElement(I.a,null,E.a.createElement("div",{className:"px-4 px-lg-5"},E.a.createElement("div",{className:"my-5"},E.a.createElement(L.a,null,this.renderFilterButton(),0===n.length&&E.a.createElement($e.a,null,E.a.createElement(Xi.a,{className:"fa-2x"})),n.map((function(t){return a&&t.category!==a?null:E.a.createElement($e.a,{key:t.product_code,className:"mb-3",onClick:e.showShowDetails.bind(e,t)},E.a.createElement("div",{className:"font-weight-bold"},t.product_name),E.a.createElement("div",{className:"my-3"},E.a.createElement("div",null,t.navpu_date?"NAVPU as of ".concat(Le()(t.navpu_date).format("MMMM DD, YYYY")):"NAVPU"),E.a.createElement("div",{className:"font-weight-bold"},t.navpu_unit?Object(Vr.d)(t.navpu_unit,6):"-")),E.a.createElement("div",{className:"my-3"},E.a.createElement("div",null,"Year-to-Date"),E.a.createElement("div",{className:"font-weight-bold"},t.year_to_date?"".concat(t.year_to_date,"%"):"-")),E.a.createElement("div",{className:"my-3"},E.a.createElement("div",null,"Year-on-Year"),E.a.createElement("div",{className:"font-weight-bold"},t.year_on_year?"".concat(t.year_on_year,"%"):"-")))}))))))),E.a.createElement(of.a,null))}}]),t}(E.a.Component),cf=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sf(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.uitf)}),(function(e){return Object(_.b)({setProductList:Am.c,loadingOpen:ee.i,loadingDismiss:ee.h,setProductCategories:Am.a,setUitfProduct:Am.h},e)}))(lf);function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var df=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.match;return E.a.createElement(P.d,null,E.a.createElement(P.b,{path:"".concat(e.url),component:cf}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),pf=Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.uitf)}))(df);function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var mf=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.history}},{key:"componentWillUnmount",value:function(){this.props.uitfClearData()}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.subscriptionRules,a=e.redemptionRules,r=e.productsRules;return E.a.createElement(P.d,null,r>=0&&E.a.createElement(P.b,{path:"".concat(t.url,"/products"),component:pf}),r>=0&&E.a.createElement(P.b,{path:"".concat(t.url),component:pf,exact:!0}),n>=0&&E.a.createElement(P.b,{path:"".concat(t.url,"/subscribe"),component:nf}),a>=0&&E.a.createElement(P.b,{path:"".concat(t.url,"/redeem"),component:Gm}),E.a.createElement(P.b,{component:ht.a}))}}]),t}(E.a.Component),ff=Object(w.c)((function(e){var t=e.uitf,n=(e.product,e.page.featureToggleRules),a=x()(n,{name:"UITF_SUBSCRIPTION"}),i=x()(n,{name:"UITF_REDEMPTION"}),o=x()(n,{name:"UITF_PRODUCTS"});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{subscriptionRules:yr()(a,"status",-1),redemptionRules:yr()(i,"status",-1),productsRules:yr()(o,"status",-1)})}),(function(e){return Object(_.b)({uitfClearData:Am.i},e)}))(mf),yf=n(1692);function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var vf=function(e){function t(){var e;return l()(this,t),e=p()(this,m()(t).call(this)),k()(y()(e)),e}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.setProfile;t&&X.a.get("/user/profile").then((function(e){n(e.data)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.token,a=t.history;!n&&e.token&&a.replace("/login")}},{key:"hasToken",value:function(){return!!sessionStorage.getItem("token")}},{key:"passwordValid",value:function(){return"false"===sessionStorage.getItem("accountExpired")}},{key:"render",value:function(){var e=this.props,t=(e.sidebarOpen,e.mobileView);return"portal"===sessionStorage.getItem("mode")?null:E.a.createElement(o.a,null,E.a.createElement(yf.a,null),E.a.createElement(o.a.Content,{style:{marginLeft:t?0:280}},E.a.createElement(P.d,null,E.a.createElement(P.b,{component:Fe,path:"/(dashboard|)"}),E.a.createElement(P.b,{component:sr,path:"/accounts"}),E.a.createElement(P.b,{component:os,path:"/move-money"}),E.a.createElement(P.b,{component:nl,path:"/pay-bills"}),E.a.createElement(P.b,{component:Gl,path:"/buy-load"}),E.a.createElement(P.b,{component:xu,path:"/more-options"}),E.a.createElement(P.b,{component:Li,path:"/faq"}),E.a.createElement(P.b,{component:nh,path:"/goals"}),E.a.createElement(P.b,{component:Qh,path:"/mobile-branch-banking"}),K.a.creditCard&&E.a.createElement(P.b,{component:Hu,path:"/credit-card"}),E.a.createElement(P.b,{component:ip,path:"/play-everyday"}),K.a.cardlessWithdraw&&E.a.createElement(P.b,{component:_h,path:"/withdraw"}),E.a.createElement(P.b,{component:bm,path:"/loyalty"}),E.a.createElement(P.b,{component:Tm,path:"/vouchers"}),E.a.createElement(P.b,{component:ff,path:"/uitf"}),this.hasToken()&&this.passwordValid()&&E.a.createElement(P.b,{component:ht.a}))))}}]),t}(E.a.Component);t.default=Object(P.g)(Object(w.c)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.page)}),(function(e){return Object(_.b)({setProfile:ae.i},e)}))(vf))},693:function(e,t,n){"use strict";n.r(t);var a=n(349),r=n.n(a),i=n(102),o=n.n(i),s=n(192),l=n.n(s),c=n(344),u=n.n(c),d=n(345),p=n.n(d),h=n(0),m=n.n(h),f=n(8),y=n.n(f),g=n(9),v=n.n(g),b=n(41),E=function(e){function t(n){l()(this,t);var a=u()(this,e.call(this,n));a.handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:o()({},a.props,{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in n?n.checked:n.defaultChecked;return a.state={checked:r},a}return p()(t,e),t.getDerivedStateFromProps=function(e,t){return"checked"in e?o()({},t,{checked:e.checked}):null},t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,a=t.className,i=t.style,s=t.name,l=t.id,c=t.type,u=t.disabled,d=t.readOnly,p=t.tabIndex,h=t.onClick,f=t.onFocus,y=t.onBlur,g=t.autoFocus,b=t.value,E=r()(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","autoFocus","value"]),O=Object.keys(E).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=E[t]),e}),{}),k=this.state.checked,w=v()(n,a,((e={})[n+"-checked"]=k,e[n+"-disabled"]=u,e));return m.a.createElement("span",{className:w,style:i},m.a.createElement("input",o()({name:s,id:l,type:c,readOnly:d,disabled:u,tabIndex:p,className:n+"-input",checked:!!k,onClick:h,onFocus:f,onBlur:y,onChange:this.handleChange,autoFocus:g,ref:this.saveInput,value:b},O)),m.a.createElement("span",{className:n+"-inner"}))},t}(h.Component);E.propTypes={prefixCls:y.a.string,className:y.a.string,style:y.a.object,name:y.a.string,id:y.a.string,type:y.a.string,defaultChecked:y.a.oneOfType([y.a.number,y.a.bool]),checked:y.a.oneOfType([y.a.number,y.a.bool]),disabled:y.a.bool,onFocus:y.a.func,onBlur:y.a.func,onChange:y.a.func,onClick:y.a.func,tabIndex:y.a.oneOfType([y.a.string,y.a.number]),readOnly:y.a.bool,autoFocus:y.a.bool,value:y.a.any},E.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},Object(b.polyfill)(E);var O=E;t.default=O}}]);